"use strict";const e=document.createElement("velocity-head"),t=document.createElement("velocity-component-styles"),n=document.createElement("velocity-themes"),o=document.createElement("velocity-snippets"),a=document.createElement("velocity-toasts"),i=document.createElement("velocity-notifications"),c=document.createElement("velocity-body");new Promise((e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})).then((()=>{document.head.appendChild(e),document.body.appendChild(c),e.appendChild(t),e.appendChild(n),e.appendChild(o),c.appendChild(i),c.appendChild(a)}));const r=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),l=(e,n)=>{let o=document.createElement("style");o.setAttribute("id",`velocity-component-${e}-style`);for(const e in n){let t="";for(const o in n[e])t+=`${r(o)}: ${n[e][o]};`;o.innerHTML+=`${e} { ${t} }`}t.appendChild(o)};var s,d=s=class{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this.title=e,this.logs=[]}__init(){this._print=(e,...t)=>{switch(e){case"log":console.log(`%cVelocity %c ${this.title} %c`,"background: #5B88FC; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #5B88FC; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t);break;case"warn":console.warn(`%cVelocity %c ${this.title} %c`,"background: #FFC107; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #FFC107; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t);break;case"error":console.error(`%cVelocity %c ${this.title} %c`,"background: #F44336; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #F44336; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t)}}}__init2(){this.log=(e,...t)=>{this._print("log",e,...t),this.logs.push(t)}}__init3(){this.warn=(e,...t)=>{this._print("warn",e,...t),this.logs.push(t)}}__init4(){this.error=(e,...t)=>{this._print("error",e,...t),this.logs.push(t)}}};const u=e=>new Promise((t=>setTimeout(t,e))),p=async e=>{let t;for(;!(t=e());)await u(1);return t};function m(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const f=new d("Webpack"),h="webpackChunkdiscord_app",w=new Promise((async e=>{for(;!window[h];)await u(1);e()})),g={byDisplayName:e=>t=>m([t,"access",e=>e.default,"optionalAccess",e=>e.displayName])===e,byProps:(...e)=>t=>{if(e.every((e=>void 0!==t[e])))return!0;return!!e.every((e=>void 0!==m([t,"access",e=>e.default,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.Z,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.ZP,"optionalAccess",t=>t[e]])))||void 0},byPrototypeFields:e=>t=>{if(e.every((e=>void 0!==m([t,"access",e=>e.prototype,"optionalAccess",t=>t[e]]))))return!0;return!!e.every((e=>void 0!==m([t,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.Z,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.ZP,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])))||void 0},byStrings:(...e)=>t=>{Object.keys(t).forEach((n=>e.every((e=>t[n].toString().includes(e)))))},byPrototypeStrings:(e,...t)=>n=>{if(t.every((t=>m([n,"access",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)]))))return!0;return!!t.every((t=>m([n,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])||m([n,"access",e=>e.Z,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])||m([n,"access",e=>e.ZP,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])))||void 0},byAllPrototypeStrings:(...e)=>t=>{Object.keys(t.prototype).forEach((n=>e.every((e=>m([t,"access",e=>e.prototype,"optionalAccess",e=>e[n],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",t=>t(e)])))))}};let y;const v=()=>y||(y=window[h].push([[Symbol("Velocity")],{},e=>e]),y),b=[],C=()=>{const e=v();let t=0;for(const n in e.c){if(b.includes(n))continue;if(!Object.hasOwnProperty.call(e.c,n))return;let o=e.c[n].exports;o&&(o.default||(["Z","ZP"].forEach((e=>{o[e]&&(o.default=o[e],t++)})),b.push(n)))}f.log(`Remapped ${t} default exports`)},R=(e,t=!1)=>{let n=!1;switch(typeof e){case"string":e=g.byDisplayName(e);break;case"object":Array.isArray(e)&&(e=g.byProps(...e))}const o=v();let a=[];for(let t in o.c){if(!Object.hasOwnProperty.call(o.c,t))return;let i=o.c[t].exports;if(i!==window&&i){!i.Z&&!i.ZP||i.default||C();try{e(i)&&a.push(i)}catch(e){n=e}}}return n&&f.warn("Filter threw an error:",n),t?a:a[0]},x=async(e,t=!1)=>{for(;!v();)await u(1);for(;!R(e,t);)await u(1);return R(e,t)};let E={};w.then((async()=>{const e=await x((e=>{for(const t of Object.keys(e))if(m([e,"access",e=>e[t],"optionalAccess",e=>e.DYNAMIC]))return!0})),t=await x((e=>{for(const t of Object.keys(e))if(e[t]&&"function"==typeof e[t].toString&&e[t].toString().includes("onCloseCallback()"))return!0})),n=await x((e=>{for(const t of Object.keys(e))if(e[t]&&"function"==typeof e[t].toString&&e[t].toString().includes("borderColor")&&e[t].toString().includes("e.grow"))return!0})),o=await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("customColor")]))),a={};R((e=>{let t=!1;for(const n of Object.values(e))"function"==typeof n&&(n.toString().includes("CONTEXT_MENU_CLOSE")?(a.closeContextMenu=n,t=!0):t&&n.toString().includes("renderLazy")&&(a.openContextMenu=n,t=!0));return t})),E={Dispatcher:(await x(["dispatch","isDispatching"])).default,React:await x(["createElement","useEffect"]),ReactDOM:await x(["render","hydrate"]),Stores:{MessageStore:(await x(["getMessage","getMessages"])).default,SelectedGuildStore:(await x(["getLastSelectedGuildId"])).default,SelectedChannelStore:(await x(["getLastSelectedChannelId"])).default,UserStore:(await x(["getCurrentUser"])).default,RelationshipStore:(await x(["isBlocked"])).default,GuildStore:(await x(["getGuild"])).default,GuildMemberStore:(await x(["getMember"])).default,ChannelStore:(await x(["hasChannel"])).default,InviteStore:(await x(["getInvites"])).default},Components:{FormItem:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("titleClassName")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("style")]))),FormText:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.Sizes,"optionalAccess",e=>e.SIZE_32])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.Colors]))),FormDivider:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("().divider")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("style")]))),SwitchItem:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("helpdeskArticleId")]))),Popout:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("shouldShowPopout")]))),ConfirmModal:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("confirmText")]))),TextInput:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("inputClassName")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("inputPrefix")]))),TextForm:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("minLength")]))),TooltipContainer:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("shouldShowTooltip")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.Positions]))),ButtonModules:{_ButtonModules:n,default:Object.values(n).find((e=>e.toString().includes("borderColor")&&e.toString().includes("e.grow"))),ButtonColors:Object.values(n).find((e=>e.BRAND_NEW)),ButtonLooks:Object.values(n).find((e=>e.FILLED)),ButtonSizes:Object.values(n).find((e=>e.TINY))},ColorPickerModules:{_ColorPickerModules:o,default:o.default,CustomColorPicker:Object.values(o).find((e=>e.toString().includes("handleHexChange"))),CustomColorButton:Object.values(o).find((e=>m([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("customColor")])&&m([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("isCustom")]))),DefaultColorButton:Object.values(o).find((e=>m([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("isDefault")])))},Slider:await x(g.byPrototypeFields(["renderMark"])),PanelButton:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("onContextMenu")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("tooltipText")]))),Switch:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("PRIMARY_DARK_400")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("STATUS_GREEN_600")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("checkbox")]))),Anchor:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.contextType])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.defaultProps])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.renderNonInteractive]))),Markdown:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.rules])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.defaultProps,"optionalAccess",e=>e.parser]))),Text:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.Sizes,"optionalAccess",e=>e.SIZE_10]))),ModalElements:{_ModalElements:e,ModalHeader:Object.values(e).find((e=>e.toString().includes("wrap")&&e.toString().includes("header"))),ModalFooter:Object.values(e).find((e=>e.toString().includes("wrap")&&e.toString().includes("footer"))),ModalRoot:Object.values(e).find((e=>e.toString().includes("size")&&e.toString().includes("dialog"))),ModalContent:Object.values(e).find((e=>e.toString().includes("scrollerRef")&&e.toString().includes("content"))),CloseButton:Object.values(e).find((e=>e.toString().includes("BLANK")&&e.toString().includes("withCircleBackground")))},EmptyState:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("onCTAClick")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("description")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("artURL")])&&!m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("stream")]))),Alert:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("title")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("body")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("secondaryConfirmText")]))),ContextMenuClasses:await x(["menu","styleFlexible"])},Constants:{},Icons:{Pin:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M19 3H4.99C3.88 3 3.01 3.89 3.01 5L3")]))),Gear:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M14 7V9C14 9 12.5867 9 12.5733 9.00667C12.42 9.58667 12.1733 10.1267 11.84 10.6067L12.74 11.5067L11")]))),Plus:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("15 10 10 10 10 15 8 15 8 1")]))),Pencil:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M19.2929 9.8299L19.9409 9.18278C21.353")]))),Play:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("0 0 0 14 11 7")]))),Trash:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M15 3.999V2H9V3.999H3V5.999H21V3.999H15Z")]))),Rocket:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M4.92871 13.4149L10.5857 19.0709L18.363")]))),Link:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.0")]))),PersonAdd:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M6.5 8.00667C7.88 8.00667 9 6.88667 9 5.50667C9 4.12667 7.88 3.00667 6.5 3.00667C5.12 3.00667 4 4.12667 4 5.50667C4 6.88667 5.12 8.00667")]))),Upload:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v")]))),Search:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M21.707 20.293L16.314 14.9C17.403 13.504 18 11.79")]))),Folder:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M20 7H12L10.553 5.106C10.214 4.428 9")]))),Retry:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M12 2C6.485 2 2 6.485 2 12H5.33333C5.33333 8.32")]))),Overflow:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M7 12.001C7 10.8964 6.10457 10.001 5 10.001C3.89543 10.001 3 10.8964")])))},Classes:{Anchor:await x(["anchorUnderlineOnHover"]),ContextMenu:await x(["menu","styleFlexible"]),Titles:await x(["h1","h2"])},Actions:{ContextMenuActions:a,ModalActions:{_ModalActions:t,openModal:Object.values(t).find((e=>m([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("onCloseCallback")])&&m([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("Layer")]))),closeModal:Object.values(t).find((e=>m([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("onCloseCallback()")])))},Invites:(await x(["acceptInvite"])).default}}}));var A={chunkName:h,Filters:g,globalPromise:w,findModule:R,waitFor:x,remapDefaults:C,find:R,findByDisplayName:e=>R(g.byDisplayName(e)),findByProps:(...e)=>R(g.byProps(...e)),findByPrototypes:(...e)=>R(g.byPrototypeFields(e)),get __ORIGINAL_CHUNKS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return window[h]},get summon(){return y},get common(){return E}};const{spring:S}=VelocityCore.pseudoRequire("unsafe:react-flip-toolkit");l("notification",{".velocity-notification":{backgroundColor:"var(--velocity-notification-background, var(--background-floating))",borderRadius:"5px",padding:"15px",color:"var(--header-primary)",backdropFilter:"blur(var(--velocity-notification-blur))",zIndex:"1",maxWidth:"325px",width:"fit-content",borderLeft:"5px solid #fff",transition:"all 0.2s ease",pointerEvents:"all"},".velocity-notification.color-velocity":{borderColor:"#5B88FC"},".velocity-notification.color-success":{borderColor:"#43B581"},".velocity-notification.color-error":{borderColor:"#F04747"},".velocity-notification.color-warning":{borderColor:"#FAA61A"},".notification-title":{fontSize:"16px",fontWeight:"600",display:"flex",justifyContent:"space-between",alignItems:"center"},".notification-close":{cursor:"pointer",fontSize:"16px",backgroundColor:"transparent",border:"none",color:"var(--interactive-normal)",transition:"color 0.2s ease"},".notification-close:hover":{color:"var(--interactive-hover)"},".notification-content":{fontSize:"14px",marginTop:"5px",color:"var(--header-secondary)",overflow:"hidden",textOverflow:"ellipsis"},".notification-buttons":{display:"grid",marginTop:"10px",gap:"5px",gridTemplateColumns:"repeat(var(--buttons, 1), 1fr )"}});var k=e=>{const{title:t,color:n,children:o,buttons:a,id:i,onContextMenu:c}=e,r=A.common.Components.ButtonModules.default,l=A.common.Components.ButtonModules.ButtonColors,s=A.common.Components.ButtonModules.ButtonSizes;return window.React.createElement("div",{onContextMenu:c,className:`velocity-notification color-${n}`},window.React.createElement("div",{className:"notification-title"},t,window.React.createElement("button",{className:"notification-close",onClick:()=>{const e=document.getElementById(`velocity-notification-${i}`);S({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:t,opacity:n})=>{e.style.opacity=n,e.style.transform=`translateY(${t}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${i}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(e),e.remove()}})}},window.React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},window.React.createElement("path",{fill:"currentColor",d:"M18.4 4L12 10.4L5.6 4L4 5.6L10.4 12L4 18.4L5.6 20L12 13.6L18.4 20L20 18.4L13.6 12L20 5.6L18.4 4Z"})))),window.React.createElement("div",{className:"notification-content"},o),a.length?window.React.createElement("div",{className:"notification-buttons",style:{"--buttons":a.length}},a.map((e=>window.React.createElement(r,{size:s.TINY,color:l[e.color]||l.BRAND,onClick:e.action,disabled:e.disabled},e.label)))):null)};l("toast",{".velocity-toast":{backgroundColor:"var(--background-floating)",borderRadius:"5px",padding:"10px 15px",color:"var(--header-primary)",zIndex:"1",fontSize:"16px",fontWeight:"500",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"all",width:"fit-content"},".velocity-toast.color-velocity":{backgroundColor:"#5B88FC"},".velocity-toast.color-success":{backgroundColor:"#43B581"},".velocity-toast.color-error":{backgroundColor:"#F04747"},".velocity-toast.color-warning":{backgroundColor:"#FAA61A"}});var j=e=>{const{children:t,color:n}=e;return window.React.createElement("div",{className:`velocity-toast color-${n}`},t)};l("context-menu",{".velocity-context-menu":{flexDirection:"column"},".velocity-menu-item:hover":{backgroundColor:"var(--brand-experiment-560)",color:"#fff"},".velocity-menu-item .velocity-menu-checkbox":{color:"#fff"},".velocity-menu-item .velocity-menu-check":{color:"var(--brand-experiment-560)"}});const M=e=>{const{Components:t}=A.common,n=t.ContextMenuClasses;return window.React.createElement("div",{className:`velocity-context-menu ${n.scroller} ${n.menu} ${n.styleFlexible}`},e.children)},N=e=>{const{Components:t,Actions:n}=A.common,o=n.ContextMenuActions,a=t.ContextMenuClasses,{type:i,label:c,action:r,color:l,checked:s,disabled:d,onChange:u,icon:p}=e,[m,f]=React.useState(s);switch(i){case"separator":return window.React.createElement("div",{role:"separator",className:a.separator});case"check":return window.React.createElement("div",{role:"menuitem",className:`velocity-menu-item ${d?a.disabled:""} ${a.item} ${a.labelContainer} ${a[`color${l||"Default"}`]}`,onClick:e=>{!d&&r&&r(e),u&&u(!m),f(!m)}},window.React.createElement("div",{className:a.label},c),window.React.createElement("div",{className:a.iconContainer},window.React.createElement("svg",{className:a.icon,"aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},m?[window.React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.37499 3H18.625C19.9197 3 21.0056 4.08803 21 5.375V18.625C21 19.936 19.9359 21 18.625 21H5.37499C4.06518 21 3 19.936 3 18.625V5.375C3 4.06519 4.06518 3 5.37499 3Z",class:`velocity-menu-checkbox ${a.checkbox}`,fill:"currentColor"}),window.React.createElement("path",{d:"M9.58473 14.8636L6.04944 11.4051L4.50003 12.9978L9.58473 18L19.5 8.26174L17.9656 6.64795L9.58473 14.8636Z",className:`velocity-menu-check ${a.check}`,fill:"currentColor"})]:window.React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.625 3H5.375C4.06519 3 3 4.06519 3 5.375V18.625C3 19.936 4.06519 21 5.375 21H18.625C19.936 21 21 19.936 21 18.625V5.375C21.0057 4.08803 19.9197 3 18.625 3ZM19 19V5H4.99999V19H19Z",fill:"currentColor"}))));default:return window.React.createElement("div",{role:"menuitem",className:`velocity-menu-item ${d?a.disabled:""} ${a.item} ${a.labelContainer} ${a[`color${l||"Default"}`]}`,onClick:e=>{!d&&r&&r(e),o.closeContextMenu()}},window.React.createElement("div",{className:a.label},c),p&&window.React.createElement("div",{className:a.iconContainer},window.React.createElement("icon",{className:a.icon})))}},T=(e,t)=>{const{Actions:n}=A.common,o=n.ContextMenuActions,a=(e=>window.React.createElement(M,null,e.map((e=>window.React.createElement(N,{...e})))))(t);return o.openContextMenu(e,(()=>a)),a};function $(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{spring:L}=VelocityCore.pseudoRequire("unsafe:react-flip-toolkit");l("notifications",{"velocity-notifications":{position:"fixed",right:"15px",top:"15px",zIndex:"1001",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"10px",transition:"all 0.2s ease",pointerEvents:"none"},"velocity-toasts":{position:"fixed",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center",marginTop:"15px",width:"100%",zIndex:"3000",pointerEvents:"none",transition:"all 0.2s ease",pointerEvents:"none"}});let O=0;const P={},I=(e={})=>{const{title:t="",content:n="",buttons:o=[],type:a=""}=e;O++;const c=O,r=document.createElement("div");return r.classList.add("velocity-notification-container"),r.setAttribute("id",`velocity-notification-${c}`),i.appendChild(r),ReactDOM.render(window.React.createElement(k,{id:c,color:a,title:t,buttons:o,onContextMenu:e=>T(e,[{label:"Close",action:()=>{$([P,"access",e=>e[c],"optionalAccess",e=>e.close,"optionalCall",e=>e()])}},{label:"Close All",color:"Danger",action:()=>{for(const e in P)$([P,"access",t=>t[e],"optionalAccess",e=>e.close,"optionalCall",e=>e()])}}])},n),r),r.style.opacity=0,L({config:"noWobble",values:{translateY:[-15,0],opacity:[0,1]},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${c}`)),onUpdate:({translateY:e,opacity:t})=>{r.style.opacity=t,r.style.transform=`translateY(${e}px)`}}),P[c]={id:c,ele:r,close:()=>{const e=document.getElementById(`velocity-notification-${c}`);if(!e)return delete P[c];L({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:t,opacity:n})=>{e.style.opacity=n,e.style.transform=`translateY(${t}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${c}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(e),e.remove()}}),delete P[c]}},$([P,"access",e=>e[c],"optionalAccess",e=>e.close])};let D=0;const F=(e,t={})=>{const{type:n="",timeout:o=1200}=t;D++;const i=document.createElement("div");i.setAttribute("id",`velocity-toast-${D}`),i.classList.add("velocity-toast-container"),a.appendChild(i),ReactDOM.render(window.React.createElement(j,{id:D,color:n},e),i),i.style.opacity=0,L({config:"noWobble",values:{translateY:[-15,0],opacity:[0,1]},delay:35*Array.from(document.querySelectorAll(".velocity-toast-container")).findIndex((e=>e.id==`velocity-toast-${D}`)),onUpdate:({translateY:e,opacity:t})=>{i.style.opacity=t,i.style.transform=`translateY(${e}px)`}}),setTimeout((()=>{L({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:e,opacity:t})=>{i.style.opacity=t,i.style.transform=`translateY(${e}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-toast-container")).findIndex((e=>e.id==`velocity-toast-${D}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(i),i.remove()}})}),o)},B=(e={})=>{const{Components:t,Actions:n,Classes:o}=A.common,{title:a="",content:i="",confirmText:c="Confirm",cancelText:r="Cancel",onConfirm:l=(()=>{}),onCancel:s=(()=>{}),danger:d=!1}=e,u=t.Text.default,p=n.ModalActions,m=t.Markdown.default,f=t.ModalElements,h=t.ButtonModules.default,w=t.ButtonModules.ButtonLooks,g=t.ButtonModules.ButtonColors;return p.openModal((e=>window.React.createElement(f.ModalRoot,{...e},window.React.createElement(f.ModalHeader,{separator:!1},window.React.createElement(u,{size:u.Sizes.SIZE_20,color:u.Colors.HEADER_PRIMARY,className:o.Titles.h1},a)),window.React.createElement(f.ModalContent,{className:"velocity-modal-content"},"string"==typeof i?window.React.createElement(m,{className:"velocity-modal-content"},i):i),window.React.createElement(f.ModalFooter,null,window.React.createElement(h,{color:d?g.RED:g.BRAND,onClick:t=>{l(t),e.onClose()}},c),window.React.createElement(h,{color:g.PRIMARY,look:w.LINK,onClick:t=>{s(t),e.onClose()}},r)))))},_=new d("Datastore"),V=VelocityCore.pseudoRequire("node:fs"),U=VelocityCore.pseudoRequire("node:path"),z=VelocityCore.baseDir,W=()=>{V.existsSync(H)||V.mkdirSync(H)},H=U.join(z,"data"),q=e=>{W();try{return V.existsSync(U.join(H,`${e}.json`))?JSON.parse(V.readFileSync(U.join(H,`${e}.json`),"utf8")):{}}catch(e){_.error(e)}},Z=(e,t)=>{W();try{return q(e)[t]||null}catch(e){_.error(e)}},Y=(e,t,n)=>{W();try{const o=q(e);o[t]=n,V.writeFileSync(U.join(H,`${e}.json`),JSON.stringify(o))}catch(e){_.error(e)}},G=(e,t)=>{W();try{const n=q(e);delete n[t],V.writeFile(U.join(H,`${e}.json`),JSON.stringify(n))}catch(e){_.error(e)}},J={},K=e=>{let t;return J[e]?t=J[e]:(t=q(e),J[e]=t),new Proxy(t,{get:(n,o)=>t[o]||Z(e,o),set:(n,o,a)=>(t[o]=a,Y(e,o,a),!0),deleteProperty:(n,o)=>(t[o]=void 0,G(e,o),!0)})};var X=Object.freeze({__proto__:null,dir:H,getAllData:q,getData:Z,setData:Y,deleteData:G,Stream:K});class Q extends Array{constructor(...e){super(...e),this._listeners=[]}addListener(e){return this._listeners.push(e),()=>this._removeListener(e)}_removeListener(e){this._listeners=this._listeners.filter((t=>t!==e))}_notifyListeners(){this._listeners.forEach((e=>e(this)))}push(...e){const t=super.push(...e);return this._notifyListeners(),t}pop(){const e=super.pop();return this._notifyListeners(),e}shift(){const e=super.shift();return this._notifyListeners(),e}unshift(...e){const t=super.unshift(...e);return this._notifyListeners(),t}splice(...e){const t=super.splice(...e);return this._notifyListeners(),t}sort(...e){const t=super.sort(...e);return this._notifyListeners(),t}filter(...e){const t=super.filter(...e);return this._notifyListeners(),t}activeFilter(...e){const t=super.filter(...e);return this.splice(0,this.length,...t),this._notifyListeners(),t}insertNew(e,t){let n=0;switch(t){case"object":n=this.findIndex((t=>t[0]===e[0]));break;case"string":n=this.findIndex((t=>t===e))}return this._notifyListeners(),n?(this.splice(n,0,e),this.push(e)):this.push(e)}}var ee={intToHex(e){const t=e.toString(16);return`#${6!==t.length?"0".repeat(6-t.length)+t:t}`},hexToRGB(e){const[t,n,o]=e.match(/\w\w/g).map((e=>parseInt(e,16)));return[t,n,o]},rgbToHSL(e){const{r:t,g:n,b:o}=e,a=t/255,i=n/255,c=o/255;let r=Math.max(a,i,c),l=Math.min(a,i,c),s=(r+l)/2,d=s,u=s;if(r===l)return[0,0,u];const p=r-l;switch(d=u>=.5?p/(2-(r+l)):p/(r+l),r){case a:s=60*((i-c)/p+0);break;case i:s=60*((c-a)/p+2);break;case c:s=60*((a-i)/p+4)}return[Math.round(s),Math.round(100*d),Math.round(100*u)]},hexToHSL(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16)/255,o=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255,i=Math.max(n,o,a),c=Math.min(n,o,a);let r=(i+c)/2,l=r,s=r;if(i===c)return[0,0,s];const d=i-c;switch(l=s>.5?d/(2-i-c):d/(i+c),i){case n:r=(o-a)/d+(o<a?6:0);break;case o:r=(a-n)/d+2;break;case a:r=(n-o)/d+4}return r/=6,l*=100,l=Math.round(l),s*=100,s=Math.round(s),r=Math.round(360*r),[r,l,s]},rgbToHex(e){const{r:t,g:n,b:o}=e;return`#${((1<<24)+(t<<16)+(n<<8)+o).toString(16).slice(1)}`},hslToRGB(e){const t=e[0]/360,n=e[1]/100,o=e[2]/100;let a,i,c;if(0===n)a=i=c=o;else{const e=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),r=o<.5?o*(1+n):o+n-o*n,l=2*o-r;a=e(l,r,t+1/3),i=e(l,r,t),c=e(l,r,t-1/3)}return[Math.round(255*a),Math.round(255*i),Math.round(255*c)]},getType(e){const t=e.toLowerCase().trim();return t.startsWith("#")?"hex":t.startsWith("rgba")?"rgba":t.startsWith("rgb")?"rgb":t.startsWith("hsla")?"hsla":t.startsWith("hsl")?"hsl":"int"},getVariable(e,t){const n=document.documentElement,o=getComputedStyle(n).getPropertyValue(e.startsWith("--")?e:`--${e}`).trim();if(o.includes("calc"))return o;if(o.includes("var"))return o;const a=this.getType(o);switch(t){case"hex":if("hex"===a)return o;if("rgb"===a)return this.rgbToHex(o);if("hsl"===a)return this.rgbToHex(this.hslToRGB(o));break;case"rgb":if("rgb"===a)return o;if("hex"===a)return this.hexToRGB(o);if("hsl"===a)return this.hslToRGB(o);case"hsl":if("hsl"===a)return o;if("hex"===a)return this.rgbToHSL(this.hexToRGB(o));if("rgb"===a)return this.rgbToHSL(o);default:return o}return null},formatHex(e){switch(e.length){case 4:return`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`;case 7:return e;case 9:return e.substring(0,7);default:return null}},getRootVariables(e){const t=e.match(/:root,*[\s]*.*\{([^}]+)\}/);if(!t)return[];const n=t[1].match(/--[^:]+:[^;]+/g);return n?n.map((e=>{const[t,n]=e.split(":");return{name:t.trim(),value:n.trim()}})):[]}},te={formatName(e){const t=e.split(/[-_]/);for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")}};function ne(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const oe=new d("Addon Manager"),ae=VelocityCore.pseudoRequire("unsafe:sucrase"),ie=VelocityCore.pseudoRequire("node:fs"),ce=VelocityCore.pseudoRequire("node:path"),re=VelocityCore.pseudoRequire("unsafe:electron").shell,le=VelocityCore.baseDir,se=K("config"),de=ce.join(le,"plugins"),ue=ce.join(le,"themes"),pe={plugins:new Q,themes:new Q};let me=Array.isArray(se.enabledPlugins)?new Q(...se.enabledPlugins):new Q,fe=Array.isArray(se.enabledThemes)?new Q(...se.enabledThemes):new Q;me.addListener((e=>{se.enabledPlugins=[...e]})),fe.addListener((e=>{se.enabledThemes=[...e]}));const he=()=>{ie.existsSync(de)||ie.mkdirSync(de),ie.existsSync(ue)||ie.mkdirSync(ue)},we=e=>e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),ge=()=>{he(),F("Reading Plugin Files",{type:"velocity"}),ie.readdir(de,((e,t)=>{e&&oe.error("Error reading plugin files",e);t.filter((e=>!e.includes("/")&&!e.includes("."))).forEach((e=>{if(!ie.existsSync(ce.join(de,e,"velocity_manifest.json")))return oe.error(`Plugin ${e} does not have a manifest file!`);try{const t=JSON.parse(ie.readFileSync(ce.join(de,e,"velocity_manifest.json"),"utf8"));let n={name:t.name,description:t.description,version:t.version,author:t.author,license:t.license,filePath:ce.join(de,e),social:{invite:ne([t,"access",e=>e.social,"optionalAccess",e=>e.invite]),website:ne([t,"access",e=>e.social,"optionalAccess",e=>e.website]),github:ne([t,"access",e=>e.social,"optionalAccess",e=>e.github]),donate:ne([t,"access",e=>e.social,"optionalAccess",e=>e.donate])},main:t.main,updates:t.updates,_type:"Plugins"};const o=ie.readFileSync(ce.join(de,e,n.main),"utf8"),a=ae.transform(o,{transforms:["jsx"],jsxPragma:"Velocity.WebpackModules.common.React.createElement",jsxFragmentPragma:"Velocity.WebpackModules.common.React.Fragment",production:!0}).code,i=new Function("Velocity","module","VelocityCore",`${a}; return module.exports//# sourceURL=velocity://${n.name}.js`)(Velocity,{exports:{}},VelocityCore);n.instance=new i(n),pe.plugins.insertNew(n),F(`Loaded ${n.name}`),ye.isEnabled(n.name)&&(ye.disable(n.name,!0),ye.enable(n.name))}catch(t){oe.error(`Error loading ${e}`,t),F(`Error loading ${e}`,{type:"error"})}}))}))},ye={get dir(){return de},get:e=>pe.plugins.find((t=>t.name===e)),getAll:()=>pe.plugins,isEnabled:e=>me.includes(e),getEnabled:()=>pe.plugins.filter((e=>ye.isEnabled(e.name))),enable:e=>{const t=pe.plugins.find((t=>t.name===e));if(t){try{me.includes(t.name)||me.insertNew(t.name),t.instance.onStart(),F(`Enabled ${t.name}`,{type:"success"})}catch(e){oe.error(`Error enabling plugin '${t.name}'.`,e),F(`Error enabling ${t.name}`,{type:"error"})}return!0}},disable:(e,t)=>{const n=pe.plugins.find((t=>t.name===e));if(n){try{me.activeFilter((t=>t!==e)),n.instance.onStop(),t||F(`Disabled ${n.name}`,{type:"success"})}catch(e){oe.error(`Error disabling plugin '${n.name}'.`,e),F(`Error disabling ${n.name}`,{type:"error"})}return!0}},unlink:e=>{const t=pe.plugins.find((t=>t.name===e));if(t){try{ye.disable(e,!0),pe.plugins.activeFilter((t=>t.name!==e)),F(`Unlinked ${t.name}`,{type:"success"})}catch(e){oe.error(`Error unlinking plugin '${t.name}'.`,e),F(`Error unlinking ${t.name}`,{type:"error"})}return!0}},delete:e=>{const t=pe.plugins.find((t=>t.name===e));if(t){try{ye.unlink(e),ie.rmSync(t.filePath,{recursive:!0}),F(`Deleted ${t.name}`,{type:"error"})}catch(e){oe.error(`Error deleting plugin '${t.name}'.`,e),F(`Error deleting ${t.name}`,{type:"error"})}return!0}},toggle:e=>{ye.isEnabled(e)?ye.disable(e):ye.enable(e)},openFolder:e=>{const t=pe.plugins.find((t=>t.name===e));t&&re.openPath(t.filePath)},openDir:()=>{re.openPath(de)},reload(){pe.plugins.length=0,Velocity.AddonManager.Registry.plugins.length=0,ge()}},ve=()=>{he(),F("Reading Theme Files",{type:"velocity"}),ie.readdir(ue,((e,t)=>{e&&oe.error("Error reading theme files",e);t.filter((e=>!e.includes("/")&&!e.includes("."))).forEach((e=>{if(!ie.existsSync(ce.join(ue,e,"velocity_manifest.json")))return oe.error(`Theme ${e} does not have a manifest file!`);try{const t=JSON.parse(ie.readFileSync(ce.join(ue,e,"velocity_manifest.json"),"utf8"));let n={name:t.name,description:t.description,version:t.version,author:t.author,license:t.license,filePath:ce.join(ue,e),social:{invite:ne([t,"access",e=>e.social,"optionalAccess",e=>e.invite]),website:ne([t,"access",e=>e.social,"optionalAccess",e=>e.website]),github:ne([t,"access",e=>e.social,"optionalAccess",e=>e.github]),donate:ne([t,"access",e=>e.social,"optionalAccess",e=>e.donate])},main:t.main,updates:t.updates,_type:"Themes"};const o=ie.readFileSync(ce.join(ue,e,n.main),"utf8");n.code=o;const a=ee.getRootVariables(o);a.length&&(n.instance={renderSettings:()=>a.map((e=>{const{name:t,value:n}=e;if(n.trim().startsWith("#"))try{return{default:Number(ee.formatHex(n.trim()).replace("#","0x")),id:t.replace("--","").trim(),name:te.formatName(t.replace("--","").trim()),note:`#${n.trim().replace("#","")}`,type:"color",action:e=>{const n=ee.formatHex(`#${e.toString(16)}`);document.body.style.setProperty(t,n)}}}catch(e){return null}return null})),settings:K(n.name)}),pe.themes.insertNew(n),F(`Loaded ${n.name}`),be.isEnabled(n.name)&&(be.disable(n.name,!0),be.enable(n.name))}catch(t){oe.error(`Error loading ${e}`,t),F(`Error loading ${e}`,{type:"error"})}}))}))},be={get dir(){return ue},get:e=>pe.themes.find((t=>t.name===e)),getAll:()=>pe.themes,isEnabled:e=>fe.includes(e),getEnabled:()=>pe.themes.filter((e=>be.isEnabled(e.name))),enable:e=>{const t=pe.themes.find((t=>t.name===e));if(t){try{fe.includes(t.name)||fe.insertNew(t.name);const e=document.createElement("style");if(e.id=`velocity-theme-${we(t.name)}`,e.innerHTML=t.code,n.appendChild(e),t.instance&&t.instance.settings)for(const[e,n]of Object.entries(q(t.name))){const t=ee.formatHex(`#${n.toString(16)}`);document.body.style.setProperty(`--${e}`,t)}F(`Enabled ${t.name}`,{type:"success"})}catch(e){oe.error(`Error enabling theme '${t.name}'.`,e),F(`Error enabling ${t.name}`,{type:"error"})}return!0}},disable:(e,t)=>{const n=pe.themes.find((t=>t.name===e));if(n){try{fe.activeFilter((t=>t!==e));const o=document.getElementById(`velocity-theme-${we(n.name)}`);if(o&&o.remove(),n.instance&&n.instance.settings)for(let[e,t]of Object.entries(q(n.name)))document.body.style.removeProperty(`--${e}`);t||F(`Disabled ${n.name}`,{type:"success"})}catch(e){oe.error(`Error disabling theme '${n.name}'.`,e),F(`Error disabling ${n.name}`,{type:"error"})}return!0}},unlink:e=>{const t=pe.themes.find((t=>t.name===e));if(t){try{be.disable(e,!0),pe.themes.activeFilter((t=>t.name!==e)),F(`Unlinked ${t.name}`,{type:"success"})}catch(e){oe.error(`Error unlinking theme '${t.name}'.`,e),F(`Error unlinking ${t.name}`,{type:"error"})}return!0}},delete:e=>{const t=pe.themes.find((t=>t.name===e));if(t){try{be.unlink(e),ie.rmSync(t.filePath,{recursive:!0}),F(`Deleted ${t.name}`,{type:"error"})}catch(e){oe.error(`Error deleting theme '${t.name}'.`,e),F(`Error deleting ${t.name}`,{type:"error"})}return!0}},toggle:e=>{be.isEnabled(e)?be.disable(e):be.enable(e)},openFolder:e=>{const t=pe.themes.find((t=>t.name===e));t&&re.openPath(t.filePath)},openDir:()=>{re.openPath(ue)},reload(){pe.themes.length=0,Velocity.AddonManager.Registry.themes.length=0,ve()}};var Ce=Object.freeze({__proto__:null,Registry:pe,enabledPlugins:me,enabledThemes:fe,initPlugins:ge,Plugins:ye,initThemes:ve,Themes:be});l("button-container",{".velocity-button-container":{display:"flex",gap:"5px"}});var Re=e=>{const{children:t}=e;return window.React.createElement("div",{className:"velocity-button-container"},t)};l("component-preview",{".velocity-component-preview":{backgroundColor:"var(--background-secondary)",color:"var(--header-primary)",marginBlock:"8px 10px",padding:"20px",borderRadius:"5px",fontSize:"16px",fontWeight:"500",display:"flex",width:"100%",zIndex:"1"}});var xe=e=>{const{children:t}=e;return window.React.createElement("div",{className:"velocity-component-preview"},t)};const Ee=VelocityCore.pseudoRequire("node:fs"),Ae=VelocityCore.pseudoRequire("node:path"),Se=new d("Addon Actions"),ke=async e=>{let t,n,o;try{t=new URL(e.endsWith("/")?e:e+"/"),n=new URL("velocity_manifest.json",t)}catch(e){return F("Invalid URL",{type:"error"})}try{const e=JSON.parse(await VelocityCore.request(n.href));o={manifest:e,main:await VelocityCore.request(new URL(e.main,t).href)}}catch(e){Se.error("Failed to traverse addon paths:",e),F("Failed to traverse addon paths",{type:"error"})}return o},je=async(e,t)=>{const n=e.main.match(/require\("(.+)"\)/g);let o=[];if(n)for(const e of n){const n=e.match(/require\("(.+)"\)/)[1].replace(/\.\.\/plugins\/.*\//,""),a=new URL(n,t);o.push({url:a.href,path:n})}return o},Me=async e=>{if(!e)return F("Invalid URL",{type:"error"});const t=await ke(e),n=t.manifest.main.endsWith(".js")?"Plugins":"Themes",o=Ae.join(Ce[n].dir,t.manifest.name);if(Se.log(`Installing ${n.substring(0,n.length-1)} from ${e}`),Ee.existsSync(o))return Se.error(`Addon already exists: '${t.manifest.name}'`),void F("Addon already exists",{type:"error"});if(Ee.mkdirSync(o),Ee.writeFileSync(Ae.join(o,"velocity_manifest.json"),JSON.stringify(t.manifest)),Ee.writeFileSync(Ae.join(o,t.manifest.main),t.main),!t)return;return(await je(t,e)).forEach((async e=>{try{Ee.writeFileSync(Ae.join(o,e.path),await VelocityCore.request(e.url))}catch(e){Se.error("Failed to install addon:",e),F(`Could not traverse imports for ${t.manifest.name}`,{type:"error"})}})),Se.log(`Installed ${t.manifest.name}`),F(`Installed ${t.manifest.name}`,{type:"success"}),!0},Ne=VelocityCore.pseudoRequire("node:original-fs"),Te=VelocityCore.pseudoRequire("node:path"),$e=new d("Updater"),Le=class{constructor(e){this.type=e,this.state="idle",this.lastChecked=null,this.updatesAvailable=!1,this.updateInfo=null}fail(e){this.state="error",$e.error(`Failed to check for addon update: ${e}`),F("Failed to check for addon updates.","error")}async checkForUpdates(){this.lastChecked=Date.now(),this.state="checking",pe[this.type].forEach((e=>{if(e.updates)switch(typeof e.updates){case"string":this.checkForUpdatesFromUrl(e);break;case"object":this.checkForUpdatesFromObject(e)}})),this.state="idle"}async checkForUpdatesFromUrl(e){const t=await ke(e.updates);return t?(t.manifest.version!==e.version&&(this.updatesAvailable=!0,this.state="available",this.updateInfo={...this.updateInfo,[e.name]:t}),t):this.fail(`Failed to fetch update data for ${e.name}.`)}async checkForUpdatesFromObject(e){const{url:t}=e.updates,n=await ke(t);if(!n)return this.fail(`Failed to fetch update data for ${e.name}.`);n.manifest.version!==e.version&&(this.updatesAvailable=!0,this.state="available",this.updateInfo={...this.updateInfo,[e.name]:n})}async downloadUpdate(e){if(!this.updateInfo[e])return this.fail(`Failed to find update data for ${e}.`);const t=this.updateInfo[e],n=t.manifest.main.endsWith(".js")?"Plugins":"Themes",o=Te.join(Ce[n].dir,t.manifest.name);if(!Ne.existsSync(o))return this.fail(`Failed to find addon directory for ${e}.`);const a=await je(t.manifest.main,t);return Ne.writeFileSync(Te.join(o,"velocity_manifest.json"),JSON.stringify(t.manifest)),a.forEach((async e=>{Ne.writeFileSync(Te.join(o,e.path),await VelocityCore.request(e.url))})),delete this.updateInfo[e],t}async downloadAllUpdates(){const e=Object.keys(this.updateInfo);for(const t of e)await this.downloadUpdate(t)}};var Oe=Object.freeze({__proto__:null,injectCSS:(t,n)=>{let o=`velocity-style-${t.replace(/[^a-zA-Z0-9]/g,"-")}`;if(document.getElementById(o))return;let a=document.createElement("style");return a.id=o,a.innerHTML=n,e.appendChild(a),o},removeCSS:e=>{let t=`velocity-style-${e.replace(/[^a-zA-Z0-9]/g,"-")}`,n=document.getElementById(t);n&&n.remove()}});function Pe(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}new d("Patcher");const Ie=Symbol("Velocity.Patcher");let De={};function Fe(e,t,n,o,a={}){let{method:i="after"}=a,c=t[n];if(c||(t[n]=()=>{},c=t[n]),i=i.toLowerCase(),"before"!==i&&"after"!==i&&"instead"!==i)throw new Error(`'${i}' is a invalid patch type`);let r=(l=Pe([t,"optionalAccess",e=>e[n],"optionalAccess",e=>e[Ie],"optionalAccess",e=>e.patches]),s=()=>({before:[],after:[],instead:[]}),null!=l?l:s());var l,s;let d=Symbol(),u={unpatch:m,patchName:e,moduleToPatch:t,functionToPatch:n,callback:o,method:i,Symbol:d};r[i].unshift(Object.assign(o,{unpatch:m,Symbol:d}));let p=!1;function m(o){p||(p=!0,r[i]=r[i].filter((e=>e.Symbol!==d)),De[e]=De[e].filter((e=>e.Symbol!==d)),0===r.before.length&&0===r.after.length&&0===r.instead.length&&(delete t[n][Ie],delete t[n].unpatch))}return t[n][Ie]||(t[n]=function(){for(const e of r.before)e([...arguments],this);let e=c;for(const t of r.instead)e=t([...arguments],e,this);let t=e.apply(this,[...arguments]);for(const e of r.after)e([...arguments],t,this);return t},t[n][Ie]={original:c,module:t,function:n,patches:r,unpatchAll:()=>{for(const e of r.before)e.unpatch();for(const e of r.instead)e.unpatch();for(const e of r.after)e.unpatch();t[n]=c}},Object.assign(t[n],c,{toString:()=>c.toString()})),De[e]||(De[e]=[]),De[e].push({...u,unpatch:m}),m}A.globalPromise.then((async()=>{window.React=await A.waitFor(["createElement","useEffect"]),window.ReactDOM=await A.waitFor(["render","hydrate"])}));var Be={CoreUpdater:new class{constructor(){this.updateAvailable=!1,this.lastChecked=null,this.updateInfo=null,this.state="idle",this.endpoint="https://api.github.com/repos/Velocity-Discord/Velocity/releases"}fail(e){this.state="error",$e.error(`Failed to check for updates: ${e}`),I({title:"Update Failed",content:e,type:"error"})}async checkForUpdates(){let e,t;this.lastChecked=Date.now(),this.state="checking";try{e=await VelocityCore.request(this.endpoint+"/latest"),t=JSON.parse(e)}catch(e){return this.fail("Failed to fetch latest release.")}const n={version:t.tag_name.startsWith("v")?t.tag_name.slice(1):t.tag_name,notes:t.body,asar:t.assets.find((e=>e.name.endsWith(".asar"))),timestamp:new Date(t.published_at)};return n.asar?(this.updateInfo=n,this.state="available",n.version!==VelocityCore.Meta.version&&(this.updateAvailable=!0,I({title:"Update Available",content:"A new update is available! Click here to download it.",buttons:[{label:"Download",action:()=>{this.downloadUpdate()}}]})),n):this.fail("Failed to find asar in latest release.")}async downloadUpdate(){const{asar:e}=this.updateInfo;VelocityCore.request(e.browser_download_url,((e,t,n)=>{if(e)return this.fail("Failed to get asar data.");const o=Te.join(VelocityCore.baseDir,"dist/velocity.asar");try{Ne.writeFileSync(o,n),I({title:"Update Downloaded",content:"Velocity has been updated. Please relaunch Velocity to apply the update.",buttons:[{label:"Relaunch",action:()=>{DiscordNative.app.relaunch()}}]}),this.state="no-updates"}catch(e){this.fail("Failed to write asar to disk.")}}))}},ThemeUpdater:new Le("themes"),PluginUpdater:new Le("plugins"),Plugin:class{constructor(e){this.manifest=e,this.settings=q(e.name)}onStart(){}onStop(){}},Styling:Oe,Patcher:class{constructor(e){this.name=e}after(e,t,n){return Fe(this.name,e,t,n,{method:"after"})}before(e,t,n){return Fe(this.name,e,t,n,{method:"before"})}instead(e,t,n){return Fe(this.name,e,t,n,{method:"instead"})}unpatchAll(){Pe([De,"access",e=>e[this.name],"optionalAccess",e=>e.forEach,"call",e=>e((e=>e.unpatch()))])}},DataStore:X,Logger:d,AddonManager:{...Ce,installAddon:Me},WebpackModules:A,Notifications:{showNotification:I,showToast:F,showConfirmationModal:B},Utilities:{waitUntil:p}};const{WebpackModules:_e,AddonManager:Ve}=Be;l("addon-header",{".velocity-addon-header":{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"5px",marginBottom:"15px"},".addon-searchbar":{width:"100%",height:"32px",background:"var(--background-tertiary)",borderRadius:"4px",padding:"0 10px",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"10px"},".addon-searchbar input":{width:"100%",height:"100%",background:"transparent",border:"none",color:"var(--text-normal)",fontSize:"14px",fontWeight:"500"},".addon-searchbar svg":{width:"20px",height:"20px"},".addon-buttons":{display:"flex",alignItems:"center"}});var Ue=e=>{const{type:t,onSearch:n}=e,[o,a]=React.useState(""),i="plugins"===t?"Plugins":"Themes",{Components:c,Icons:r}=_e.common,l=c.PanelButton.default;return window.React.createElement("div",{className:"velocity-addon-header"},window.React.createElement("div",{onContextMenu:e=>{T(e,[{label:"Install from URL",action:()=>{Ve.installAddon(o)}}])},className:"addon-searchbar"},window.React.createElement("input",{onChange:e=>{a(e),n(e)},placeholder:"Search..."}),window.React.createElement(r.Search.default,null)),window.React.createElement("div",{className:"addon-buttons"},window.React.createElement(l,{tooltipText:`Open ${"themes"==t?"Theme":"Plugin"} Folder`,icon:r.Folder.default,onClick:()=>Ve[i].openDir()}),window.React.createElement(l,{tooltipText:`Reload ${i}`,icon:r.Retry.default,onClick:()=>Ve[i].reload()})))},ze=e=>{const{children:t,tag:n,className:o,style:a}=e,i=A.find(["h1","title"]),c={style:a,className:`${i.defaultColor} ${i[n]} ${i[`defaultMargin${n}`]} ${o}`};switch(n){case"h1":default:return window.React.createElement("h1",{...c},t);case"h2":return window.React.createElement("h2",{...c},t);case"h3":return window.React.createElement("h3",{...c},t);case"h4":return window.React.createElement("h4",{...c},t);case"h5":return window.React.createElement("h5",{...c},t);case"h6":return window.React.createElement("h6",{...c},t)}};l("color-setting",{".velocity-color-setting":{display:"flex",justifyContent:"space-between"}});var We=e=>{const{Components:t}=A.common,{default:n}=t.TooltipContainer,o=t.FormItem.default,a=t.FormText.default,i=t.ColorPickerModules,c=t.Popout.default,r=function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([i,"optionalAccess",e=>e.CustomColorButton,"access",e=>e.prototype,"access",e=>e.render,"access",e=>e.call,"call",e=>e({props:{}}),"access",e=>e.type]),{name:l,note:s,setting:d,action:u,defaultColor:p,palette:m=[],container:f="config"}=e,h=K(f),[w,g]=React.useState(h[d]),y=()=>window.React.createElement(i.CustomColorPicker,{value:w,onChange:e=>{"function"==typeof u&&u(e),h[d]=e,g(e)}});return window.React.createElement(o,{className:"velocity-color-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(ze,{tag:"h3",style:{margin:"0"}},l),window.React.createElement(a,{type:"description"},s)),window.React.createElement(i.default,{className:"velocity-color-picker",value:w,colors:m,onChange:e=>{"function"==typeof u&&u(e),g(e),h[d]=e},renderDefaultButton:()=>window.React.createElement(n,{position:"bottom",text:"Default",children:e=>window.React.createElement(i.DefaultColorButton,{...e,color:p,onChange:()=>{"function"==typeof u&&u(p),g(p),h[d]=p}})}),renderCustomButton:()=>window.React.createElement(c,{renderPopout:y,animation:"translate",align:"center",position:"top",children:e=>window.React.createElement(n,{position:"bottom",text:"Pick a Color",children:t=>window.React.createElement("div",{...t,...e,className:"color-button"},window.React.createElement(r,{isCustom:!0,color:w}))})})}))},He=e=>{const{Components:t}=A.common,n=t.FormItem.default,o=t.SwitchItem.default,{name:a,note:i,setting:c,action:r,container:l="config"}=e,s=K(l),[d,u]=React.useState(s[c]);return window.React.createElement(n,{className:"velocity-switch-setting velocity-setting"},window.React.createElement(o,{note:i,value:d,onChange:e=>{"function"==typeof r&&r(e),s[c]=e,u(e)}},a))},qe=e=>{const{Components:t}=A.common,n=t.FormItem.default,o=t.FormText.default,a=t.Slider.default,{name:i,note:c,setting:r,action:l,disabled:s=!1,minValue:d=0,maxValue:u=100,handleSize:p=10,units:m="",container:f="config",stickToMarkers:h}=e,w=K(f),[g,y]=React.useState(w[r]);let v=e=>`${Math.round(e)}`,b=e=>`${Math.round(e)}`;if(m){const e=e=>`${Math.round(e)}${m}`;v=e,b=e}return window.React.createElement(n,{className:"velocity-slider-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(ze,{tag:"h3",style:{margin:"0"}},i),window.React.createElement(o,{type:"description"},c)),window.React.createElement(a,{onValueChange:e=>{"function"==typeof l&&l(e),w[r]=e,y(e)},value:g,disabled:s,minValue:d,maxValue:u,handleSize:p,initialValue:g,onMarkerRender:v,onValueRender:b,stickToMarkers:h}))},Ze=e=>{const{Components:t}=A.common,n=t.FormItem.default,o=t.FormText.default,a=t.TextInput.default,{name:i,note:c,setting:r,action:l,disabled:s,maxLength:d,type:u,placeholder:p,container:m="config"}=e,f=K(m),[h,w]=React.useState(f[r]);return window.React.createElement(n,{className:"velocity-textinput-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(ze,{tag:"h3",style:{margin:"0"}},i),window.React.createElement(o,{type:"description"},c)),window.React.createElement(a,{value:h,onChange:e=>{"function"==typeof l&&l(e),f[r]=e,w(e)},disabled:s,maxLength:d,type:u,placeholder:p}))};function Ye(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{WebpackModules:Ge,AddonManager:Je}=Be;l("addon-card",{".velocity-addon-card":{display:"flex",flexDirection:"column",width:"100%",gap:"10px",padding:"15px",borderRadius:"5px",backgroundColor:"var(--background-secondary)",marginBottom:"10px"},".addon-card-header":{display:"flex",alignItems:"center",justifyContent:"space-between",color:"var(--text-normal)",cursor:"pointer"},".addon-card-header-left":{display:"flex",gap:"5px",alignItems:"flex-end"},".addon-card-header-title":{fontSize:"20px",fontWeight:"500",color:"var(--header-primary)"},".addon-card-header-subtitle":{fontSize:"14px",fontWeight:"400",color:"var(--header-secondary)"},".addon-card-lower":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",gap:"10px"},".addon-card-description":{fontSize:"14px",fontWeight:"400"},".addon-card-footer":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"5px"},".addon-card-footer > span > button":{width:"32px !important"},".addon-card-settings-header":{display:"flex",alignItems:"center",color:"var(--text-normal)",cursor:"pointer",marginBottom:"10px",gap:"5px"},".addon-card-settings-header svg:hover":{color:"var(--interactive-hover)"}});var Ke=e=>{const{Components:t,Icons:n}=Ge.common,o=t.Switch.default,a=t.Markdown.default,i=t.PanelButton.default,{name:c,description:r,version:l,author:s,license:d,social:u,_type:p}=e,[m,f]=React.useState(Je[p].isEnabled(c)),[h,w]=React.useState(!1);return window.React.createElement("div",{className:"velocity-addon-card"},window.React.createElement("div",{className:"addon-card-header",onClick:()=>{Je[p].toggle(c),f(!m),w(!1)},onContextMenu:e=>{T(e,[{label:"Enable",type:"check",checked:m,onChange:e=>{Je[p].toggle(c),f(e)}},{type:"separator"},{label:"Unlink",action:()=>{Je[p].unlink(c)},icon:n.Trash.default,color:"Danger"}])}},window.React.createElement("div",{className:"addon-card-header-left"},window.React.createElement("div",{className:"addon-card-header-title"},c),window.React.createElement("div",{className:"addon-card-header-subtitle"},l," by ","string"==typeof s?s:s.name)),window.React.createElement("div",{className:"addon-card-header-right"},window.React.createElement(o,{checked:m}))),window.React.createElement("div",{className:"addon-card-lower"},window.React.createElement("div",{className:"addon-card-description"},window.React.createElement(a,null,r)),window.React.createElement("div",{className:"addon-card-footer"},Ye([e,"access",e=>e.instance,"optionalAccess",e=>e.renderSettings])&&window.React.createElement(i,{disabled:!m,tooltipText:"Settings",innerClassName:"addon-card-panelbutton",icon:n.Gear.default,onClick:()=>{w(!h)}}),(Ye([u,"optionalAccess",e=>e.invite])||Ye([u,"optionalAccess",e=>e.github])||Ye([u,"optionalAccess",e=>e.website])||Ye([u,"optionalAccess",e=>e.donate]))&&window.React.createElement(i,{tooltipText:"Social",icon:n.Link.default,onClick:e=>{T(e,[u.invite&&{label:"Invite",action:()=>{window.open(new URL(u.invite,"https://discord.gg/").href)}},u.github&&{label:"GitHub",action:()=>{window.open(new URL(u.github).href)}},u.website&&{label:"Website",action:()=>{window.open(new URL(u.website).href)}},u.donate&&{label:"Donate",action:()=>{window.open(new URL(u.donate).href)}}])}}),window.React.createElement(i,{tooltipText:"Open Folder",innerClassName:"addon-card-panelbutton",icon:n.Folder.default,onClick:()=>{Je[p].openFolder(c)}}),window.React.createElement(i,{tooltipText:"Unlink",innerClassName:"addon-card-panelbutton",icon:n.Trash.default,onClick:()=>{Je[p].unlink(c)}}))),h&&m&&window.React.createElement("div",{className:"addon-card-settings"},window.React.createElement("div",{className:"addon-card-settings-header"},window.React.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",onClick:()=>{w(!1)}},window.React.createElement("path",{fill:"currentColor",d:"M18.4 4L12 10.4L5.6 4L4 5.6L10.4 12L4 18.4L5.6 20L12 13.6L18.4 20L20 18.4L13.6 12L20 5.6L18.4 4Z"})),window.React.createElement(ze,{style:{marginBottom:"0"},tag:"h5"},"Settings")),Ye([e,"access",e=>e.instance,"optionalAccess",e=>e.renderSettings])&&e.instance.renderSettings().map((t=>{if(!t)return null;try{const n=n=>{"function"==typeof t.action&&t.action(n),e.instance.settings[t.id]=n};switch(t.type){case"switch":return window.React.createElement(He,{container:c,setting:t.id,name:t.name,note:t.note,action:n});case"slider":return window.React.createElement(qe,{container:c,setting:t.id,name:t.name,note:t.note,minValue:0|t.min,maxValue:100|t.max,units:""|t.units,handleSize:10|t.handleSize,action:n});case"text":return window.React.createElement(Ze,{container:c,setting:t.id,name:t.name,note:t.note,action:n});case"color":return window.React.createElement(We,{container:c,defaultColor:t.default,setting:t.id,name:t.name,note:t.note,action:n})}}catch(e){F("Error rendering settings for "+c,{type:"error"})}}))))},Xe=e=>{const{title:t,children:n}=e;return[window.React.createElement(ze,{tag:"h1"},t),n]},Qe=e=>{const{type:t="right",width:n=24,height:o=24,style:a}=e;switch(t){case"down":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M10.59 2.59 6 7.17 1.41 2.59 0 4 6 10 12 4 10.59 2.59Z"}));case"up":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M1.41 9.41 6 4.83 10.59 9.41 12 8 6 2 0 8 1.41 9.41Z"}));case"left":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M9.41 1.41 4.83 6 9.41 10.59 8 12 2 6 8 0 9.41 1.41Z"}));case"right":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M2.59 10.59 7.17 6 2.59 1.41 4 0 10 6 4 12 2.59 10.59Z"}))}};l("setting-section",{".velocity-setting-section":{display:"flex",color:"var(--header-secondary)",alignItems:"center",gap:"5px"},".velocity-setting-section svg":{transition:"all 0.2s ease"},".velocity-setting:not(.velocity-switch-setting)":{paddingBlock:"15px",borderBottom:"thin solid var(--background-modifier-accent)"},".velocity-switch-setting":{paddingTop:"15px"},".velocity-setting:not(.velocity-switch-setting):last-child":{borderBottom:"none",paddingBottom:"0"}});var et=e=>{const{title:t,children:n,collapsable:o=!0}=e,[a,i]=React.useState(!1);return[window.React.createElement("div",{className:"velocity-setting-section",onClick:()=>{i(!a)}},o&&window.React.createElement(Qe,{type:"right",width:12,height:12,style:{transform:`rotate(${a?0:90}deg)`}}),window.React.createElement(ze,{tag:"h5",style:{margin:"0"}},t)),a?null:n]};const tt=(e,t)=>{let n=[];switch(typeof t){case"string":e.map((e=>{e.name&&e.description&&e.author&&(e.name.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())||e.author.name.toLowerCase().includes(t.toLowerCase()))&&n.push(e)}));break;case"object":e.map((e=>{e.name&&e.description&&e.author&&(e.name.toLowerCase().includes(t.target.value.toLowerCase())||e.description.toLowerCase().includes(t.target.value.toLowerCase())||e.author.name.toLowerCase().includes(t.target.value.toLowerCase()))&&n.push(e)}))}return n},{WebpackModules:nt}=Be;l("empty-state",{".velocity-empty-state-huge > div:first-child":{height:"186px"},".velocity-empty-state-tiny > div:first-child":{height:"60px"}});var ot=e=>{const{Components:t}=nt.common,n=t.EmptyState.default,{artURL:o="",header:a="",description:i="",size:c="huge",CTAAction:r,CTALabel:l}=e;return window.React.createElement(n,{className:`velocity-empty-state-${c}`,size:c,artURL:o,header:a,description:i,onCTAClick:r,callToAction:l})};const{CoreUpdater:at,ThemeUpdater:it,PluginUpdater:ct,WebpackModules:rt,AddonManager:lt}=Be;l("updater",{".velocity-updater":{display:"flex",flexDirection:"column"},".velocity-updater-banner":{backgroundColor:"var(--background-secondary)",borderRadius:"5px",padding:"12px",display:"flex",gap:"10px",marginBottom:"20px"},".velocity-updater .velocity-setting-section + .velocity-setting-section":{marginTop:"12px"},".velocity-updater-indicator":{display:"flex",alignItems:"center",justifyContent:"center",aspectRatio:"1",height:"100px",borderRadius:"3px",backgroundColor:"var(--background-primary)"},".velocity-updater-buttons":{display:"flex",gap:"5px",marginTop:"auto"},".velocity-updater-icon":{fill:"currentColor",width:"100%",height:"100%"},".velocity-updater-icon.available":{color:"#5B88FC"},".velocity-updater-icon.no-updates":{color:"#43B581"},".velocity-updater-icon.error":{color:"#F04747"},".velocity-updater-icon.checking":{color:"#FAA61A"},".velocity-updater-icon.check":{color:"#43B581"},".velocity-updater-icon.idle":{color:"var(--text-muted)"},".velocity-updater-content":{display:"flex",flexDirection:"column",gap:"5px"},".velocity-updater-title":{fontSize:"18px",fontWeight:"500",color:"var(--header-primary)"},".velocity-updater-subtitle":{fontSize:"14px",fontWeight:"400",color:"var(--text-normal)",display:"flex",gap:"3px"},".velocity-updater-subtitle .velocity-updater-timestamp":{backgroundColor:"var(--background-modifier-accent)",borderRadius:"3px",padding:"0 2px"},".velocity-updater-addons":{marginBottom:"12px",display:"flex",flexDirection:"column"},".velocity-updater-empty":{display:"flex",alignItems:"center",marginBottom:"12px",gap:"5px"},".velocity-updater-addon":{backgroundColor:"var(--background-secondary)",borderRadius:"5px",padding:"12px",display:"flex",gap:"10px",marginTop:"5px",justifyContent:"space-between"},".velocity-updater-addon-info":{display:"flex",flexDirection:"column",gap:"5px"},".velocity-updater-addon-title":{fontSize:"16px",fontWeight:"500",color:"var(--header-primary)"},".velocity-updater-addon-diff":{fontSize:"14px",fontWeight:"400",color:"var(--text-normal)"}});const st=e=>window.React.createElement("svg",{...e,className:"velocity-updater-icon available",viewBox:"0 0 24 24"},window.React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"})),dt=e=>window.React.createElement("svg",{...e,className:"velocity-updater-icon no-updates",viewBox:"0 0 24 24"},window.React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"})),ut=e=>window.React.createElement("svg",{...e,className:"velocity-updater-icon checking",viewBox:"0 0 24 24"},window.React.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),pt=e=>window.React.createElement("svg",{...e,className:"velocity-updater-icon error",viewBox:"0 0 24 24"},window.React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"})),mt=e=>window.React.createElement("svg",{...e,className:"velocity-updater-icon idle",viewBox:"0 0 24 24"},window.React.createElement("path",{d:"M9.27,4.49c-1.63,7.54,3.75,12.41,7.66,13.8C15.54,19.38,13.81,20,12,20c-4.41,0-8-3.59-8-8C4,8.55,6.2,5.6,9.27,4.49 M11.99,2.01C6.4,2.01,2,6.54,2,12c0,5.52,4.48,10,10,10c3.71,0,6.93-2.02,8.66-5.02c-7.51-0.25-12.09-8.43-8.32-14.97 C12.22,2.01,12.11,2.01,11.99,2.01L11.99,2.01z"}));var ft=()=>{const{Components:e}=rt.common,t=(()=>{const[e,t]=React.useState(0);return()=>t((e=>e+1))})(),{state:n,updateInfo:o,updateAvailable:a,lastChecked:i}=at,c="checking"===n?ut():"available"===n?st():"no-updates"===n?dt():"error"===n?pt():mt(),r="checking"===n?"Checking for updates...":"available"===n?"Update available":"no-updates"===n?"No updates available":"error"===n?"An Error Occurred!":"Idle",l=((e,t=Date.now())=>{const n=[["year",31536e6],["month",2628e6],["day",864e5],["hour",36e5],["minute",6e4],["second",1e3]],o=t-e;for(const[e,t]of n){if(o>=t){const n=Math.floor(o/t);return`${n} ${e}${1===n?"":"s"} ago`}if("second"===e)return"just now"}})(i);e.FormText.default;const s=e.ButtonModules,d=e.TooltipContainer.default,u={...ct.updateInfo,...it.updateInfo},p=new Date(i);return window.React.createElement("div",{className:"velocity-updater"},window.React.createElement("div",{className:"velocity-updater-banner"},window.React.createElement("div",{className:"velocity-updater-indicator"},c),window.React.createElement("div",{className:"velocity-updater-content"},window.React.createElement("div",{className:"velocity-updater-title"},r),window.React.createElement("div",{className:"velocity-updater-subtitle"},"available"===n?`Version ${o.version} is available`:["Last checked",window.React.createElement(d,{text:p.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),children:e=>window.React.createElement("div",{...e,className:"velocity-updater-timestamp"},l)})]),window.React.createElement("div",{className:"velocity-updater-buttons"},"available"===n?window.React.createElement(s.default,{color:s.ButtonColors.GREEN,onClick:()=>{at.downloadUpdate(),t()}},"Update"):window.React.createElement(s.default,{color:s.ButtonColors.BRAND,onClick:async()=>{await at.checkForUpdates(),await ct.checkForUpdates(),await it.checkForUpdates(),t()}},"Check for updates")))),window.React.createElement(et,{title:"Addons"},window.React.createElement("div",{className:"velocity-updater-"+(Object.keys(u||{}).length?"addons":"empty")},function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([Object,"access",e=>e.keys,"call",e=>e(u||{}),"optionalAccess",e=>e.length])?Object.keys(u).map((e=>window.React.createElement("div",{className:"velocity-updater-addon"},window.React.createElement("div",{className:"velocity-updater-addon-info"},window.React.createElement("div",{className:"velocity-updater-addon-title"},e),window.React.createElement("div",{className:"velocity-updater-addon-diff"},u[e].manifest.main.endsWith(".js")?lt.Plugins.get(e).version:lt.Themes.get(e).version," > ",u[e].manifest.version)),window.React.createElement("div",{className:"velocity-updater-addon-buttons"},window.React.createElement(s.default,{color:s.ButtonColors.GREEN,onClick:()=>{(u[e].manifest.main.endsWith(".js")?ct:it).downloadUpdate(e),t()}},"Update"))))):window.React.createElement(ot,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any addon updates",description:"Now go and enjoy your day!"}))))};const ht=K("config"),wt=new d("Snippets"),gt=VelocityCore.pseudoRequire("unsafe:sucrase"),yt=e=>{ht.editorTabs.forEach((t=>{switch(function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([t,"optionalAccess",e=>e.language])){case"js":if("css"==e)return;try{const e=gt.transform(t.content,{transforms:["jsx"]}).code;new Function("Velocity","VelocityCore",e)(Velocity,VelocityCore)}catch(e){F(`Error running snippet '${t.name}'`,{type:"error"}),wt.error(`Error running snippet '${t.name}'.`,e)}break;case"css":if("js"==e)return;const n=document.createElement("style");n.setAttribute("id",`velocity-snippet-${t.name}-style`),n.innerHTML=t.content,o.appendChild(n)}}))};function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function jt(e){return function t(){for(var n=this,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(n,[].concat(a,o))}}}function Mt(e){return{}.toString.call(e).includes("Object")}function Nt(e){return"function"==typeof e}var Tt=jt((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),$t={changes:function(e,t){return Mt(t)||Tt("changeType"),Object.keys(t).some((function(t){return n=e,o=t,!Object.prototype.hasOwnProperty.call(n,o);var n,o}))&&Tt("changeField"),t},selector:function(e){Nt(e)||Tt("selectorType")},handler:function(e){Nt(e)||Mt(e)||Tt("handlerType"),Mt(e)&&Object.values(e).some((function(e){return!Nt(e)}))&&Tt("handlersType")},initial:function(e){var t;e||Tt("initialIsRequired"),Mt(e)||Tt("initialType"),t=e,Object.keys(t).length||Tt("initialContent")}};function Lt(e,t){return Nt(t)?t(e.current):t}function Ot(e,t){return e.current=St(St({},e.current),t),t}function Pt(e,t,n){return Nt(t)?t(e.current):Object.keys(n).forEach((function(n){var o;return null===(o=t[n])||void 0===o?void 0:o.call(t,e.current[n])})),n}var It={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$t.initial(e),$t.handler(t);var n={current:e},o=jt(Pt)(n,t),a=jt(Ot)(n),i=jt($t.changes)(e),c=jt(Lt)(n);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return $t.selector(e),e(n.current)}function l(e){kt(o,a,i,c)(e)}return[r,l]}};var Dt,Ft={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},Bt=(Dt=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=Dt.length?Dt.apply(this,o):function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.apply(t,[].concat(o,a))}})(Ft),_t={config:function(e){var t;return e||Bt("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||Bt("configType"),e.urls?(console.warn(Ft.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};function Vt(e,t){return Object.keys(t).forEach((function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Vt(e[n],t[n]))})),Ct(Ct({},e),t)}var Ut={type:"cancelation",msg:"operation is manually canceled"};function zt(e){var t=!1,n=new Promise((function(n,o){e.then((function(e){return t?o(Ut):n(e)})),e.catch(o)}));return n.cancel=function(){return t=!0},n}var Wt,Ht,qt=It.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),Zt=(Ht=2,function(e){if(Array.isArray(e))return e}(Wt=qt)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,i=void 0;try{for(var c,r=e[Symbol.iterator]();!(o=(c=r.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return n}}(Wt,Ht)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(Wt,Ht)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Yt=Zt[0],Gt=Zt[1];function Jt(e){return document.body.appendChild(e)}function Kt(e){var t,n,o=Yt((function(e){return{config:e.config,reject:e.reject}})),a=(t="".concat(o.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return a.onload=function(){return e()},a.onerror=o.reject,a}function Xt(){var e=Yt((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Qt(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Qt(e){Yt().monaco||Gt({monaco:e})}var en=new Promise((function(e,t){return Gt({resolve:e,reject:t})})),tn={config:function(e){var t=_t.config(e),n=t.monaco,o=Rt(t,["monaco"]);Gt((function(e){return{config:Vt(e.config,o),monaco:n}}))},init:function(){var e=Yt((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(Gt({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),zt(en);if(window.monaco&&window.monaco.editor)return Qt(window.monaco),e.resolve(window.monaco),zt(en);!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(Jt,Kt)(Xt)}return zt(en)},__getMonacoInstance:function(){return Yt((function(e){return e.monaco}))}};function nn(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const on=K("config"),an=VelocityCore.pseudoRequire("node:fs"),cn=VelocityCore.pseudoRequire("node:path"),rn=VelocityCore.baseDir,{WebpackModules:ln}=Be,sn=an.readFileSync(cn.join(rn,"index.d.ts"),"utf8");let dn;l("editor",{".velocity-editor-modal-body":{display:"flex",flexDirection:"column",alignItems:"flex-start"},".velocity-editor-modal-body > div":{width:"100%"},".velocity-editor":{backgroundColor:"var(--background-secondary)",borderRadius:"4px",width:"100%",height:"600px",display:"flex",overflow:"hidden",flexDirection:"column"},".editor-header":{display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",padding:"24px 10px"},".editor-header-buttons":{display:"flex",gap:"5px"},".editor-body":{width:"100%",height:"100%",display:"flex"},".editor-sidebar":{width:"200px",height:"100%",backgroundColor:"var(--background-secondary-alt)",display:"flex",flexDirection:"column",gap:"5px",padding:"10px",overflow:"auto"},".editor-sidebar-tab":{color:"var(--text-normal)",display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",borderRadius:"4px",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},".editor-sidebar-tab:hover":{backgroundColor:"var(--background-modifier-hover)"},".editor-sidebar-tab.active":{backgroundColor:"var(--background-modifier-active)"},"#editor-container":{height:"100%",width:"100%"}}),on.editorTabs||(on.editorTabs=[]);const un=new Q(...on.editorTabs);new Promise((e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})).then((()=>{tn.init().then((e=>{dn=e,window.monaco=dn,dn.languages.typescript.javascriptDefaults.addExtraLib(sn,"velocity.d.ts"),dn.editor.create(document.getElementById("editor-container"),{})}))}));var pn=e=>{const{Components:t,Icons:n,Actions:a}=ln.common,[i,c]=React.useState(0),[r,l]=React.useState(un);React.useEffect((()=>(window.editor=dn.editor.create(document.getElementById("editor-container"),{value:s?nn([s,"optionalAccess",e=>e.content]):"/* No File Selected. */\n/* Select a file from the sidebar to edit it. */",language:s?"js"==nn([s,"optionalAccess",e=>e.language])?"javascript":"css":"javascript",theme:"vs-dark",minimap:{enabled:!1}}),window.editor.onDidChangeModelContent((e=>{if(s){if(!1!==nn([e,"access",e=>e.changes,"optionalAccess",e=>e[0],"optionalAccess",e=>e.forceMoveMarkers]))return;un.splice(i,1,{...un[i],content:window.editor.getValue()})}o.querySelectorAll("style[id^='velocity-snippet-'][id$='-style']").forEach((e=>e.remove())),yt("css")})),()=>{window.editor.dispose()}))),un.addListener((e=>{l(e),on.editorTabs=e}));let s=on.editorTabs[i];const d=t.PanelButton.default,u=t.TextInput.default,p=a.ModalActions,m=t.Alert.default;return window.React.createElement("div",{className:"velocity-editor"},window.React.createElement("div",{className:"editor-header"},window.React.createElement(ze,{tag:"h5",style:{margin:"0"}},s?`${nn([s,"optionalAccess",e=>e.name])}.${nn([s,"optionalAccess",e=>e.language])}`:"None Selected"),window.React.createElement("div",{className:"editor-header-buttons"},"js"==nn([s,"optionalAccess",e=>e.language])&&window.React.createElement(d,{tooltipText:"Run",icon:n.Play.default,onClick:()=>{yt("js")}}),window.React.createElement(d,{tooltipText:"New File",icon:n.Plus.default,onClick:()=>{let e="",t="js";p.openModal((n=>window.React.createElement(m,{...n,title:"New File",body:window.React.createElement("div",{className:"velocity-editor-modal-body"},window.React.createElement(ze,{tag:"h5"},"Name"),window.React.createElement(u,{style:{marginBottom:"10px"},onChange:t=>{e=t},placeholder:"Name"}),window.React.createElement(ze,{tag:"h5"},"Language"),window.React.createElement(u,{onChange:e=>{t=e},placeholder:"js/css"})),onConfirm:()=>{e&&["js","css"].includes(t)&&(un.push({name:e,language:t,content:""}),c(un.length-1),window.editor.setValue(nn([s,"optionalAccess",e=>e.content])||""),dn.editor.setModelLanguage(window.editor.getModel(),"js"==nn([s,"optionalAccess",e=>e.language])?"javascript":"css"),s=on.editorTabs[i])}})))}}),window.React.createElement(d,{tooltipText:"Options",icon:n.Gear.default,onClick:()=>{let e=s.name;p.openModal((t=>window.React.createElement(m,{...t,title:"Options",body:window.React.createElement("div",{className:"velocity-editor-modal-body"},window.React.createElement(ze,{tag:"h5"},"Name"),window.React.createElement(u,{onChange:t=>{e=t},placeholder:"Name"})),onConfirm:()=>{e&&(un.splice(i,1,{name:e,language:nn([s,"optionalAccess",e=>e.language]),content:nn([s,"optionalAccess",e=>e.content])}),c(un.findIndex((t=>t.name==e))),window.editor.setValue(nn([s,"optionalAccess",e=>e.content])||""),dn.editor.setModelLanguage(window.editor.getModel(),"js"==nn([s,"optionalAccess",e=>e.language])?"javascript":"css"),s=on.editorTabs[i])}})))}}),window.React.createElement(d,{tooltipText:"Delete File",icon:n.Trash.default,onClick:()=>{un.activeFilter(((e,t)=>t!==i)),c(0)}}))),window.React.createElement("div",{className:"editor-body"},window.React.createElement("div",{className:"editor-sidebar"},r.map(((e,t)=>window.React.createElement("div",{key:t,className:"editor-sidebar-tab "+(t==i?"active":""),onClick:()=>{c(t),editor.setValue(e.content),dn.editor.setModelLanguage(window.editor.getModel(),"js"==nn([s,"optionalAccess",e=>e.language])?"javascript":"css"),s=on.editorTabs[i]}},nn([e,"optionalAccess",e=>e.name]),".",nn([e,"optionalAccess",e=>e.language]))))),window.React.createElement("div",{id:"editor-container"})))},mn="velocity:handle-kill";const fn=K("config"),hn=(e,t)=>{c.style.setProperty(e,t)};function wn(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{ipcRenderer:gn}=VelocityCore.pseudoRequire("unsafe:electron");new d("Settings");const yn=K("config");var vn={get websockets(){return DiscordNative.nativeModules.requireModule("discord_rpc").RPCWebSocket.ws},init(){this.socket=new this.websockets.Server({port:1842}),this.socket.on("connection",(e=>{let t=!1;const n=I({title:"New Socket Connection",content:"A new socket connection has been established.",buttons:[{label:"Okay",action:()=>{n(),t=!0}},{label:"Disconnect",color:"RED",action:()=>{e.close(),n()}}]});e.on("message",(n=>{switch(n){case"velocity:get-client-data":e.send("velocity:data"+JSON.stringify({platform:DiscordNative.process.platform,version:DiscordNative.app.getVersion(),channel:DiscordNative.app.getReleaseChannel()}));break;case"velocity:reload":t&&location.reload();break;case"velocity:relaunch":t&&DiscordNative.app.relaunch()}if(n.startsWith("velocity:install-addon")){DiscordNative.window.focus();const e=n.split("|")[1],t=n.split("|")[2];e&&B({title:`Install ${t||"Addon"}?`,content:"Are you sure you want to install this addon? Addons can be dangerous and can break your Discord client.",confirmText:"Install",danger:!0,onConfirm:()=>{Me(e)}})}}))}))}};const bn=K("config"),Cn=new d("Renderer");(async()=>{const e=Date.now();Cn.log("Initialising..."),await A.globalPromise,window.Velocity=Be,Object.freeze(window.Velocity),Cn.log(`API Added in ${Date.now()-e}ms`),window.DiscordSentry&&bn.KillSentry&&(window.DiscordSentry.getCurrentHub().getClient().close(),Cn.log("Killed Sentry")),bn.StopWarnings&&(DiscordNative.window.setDevtoolsCallbacks(null,null),Cn.log("Disabled Devtools Warnings")),vn.init(),Cn.log("Socket Initialised"),(()=>{const e=ee.hexToHSL(ee.intToHex(fn.NotificationBackground||1644828));c.style.setProperty("--velocity-notification-background",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, var(--velocity-notification-transparency,  100%))`),c.style.setProperty("--velocity-notification-transparency",fn.NotificationTransparency?`${fn.NotificationTransparency}%`:"100%"),c.style.setProperty("--velocity-notification-blur",fn.NotificationBlur?`${fn.NotificationBlur}px`:"0px")})(),Cn.log("Variables Added"),(async()=>{const{WebpackModules:e,Utilities:t}=Be,n=new Be.Patcher("VelocityInternal_Settings"),o=await e.waitFor((e=>wn([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.getPredicateSections]))),a=(await e.waitFor((e=>wn([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("this.tabBar")])))).default;n.after(o.default.prototype,"getPredicateSections",((t,n)=>{let o=n.findIndex((e=>"discord nitro"==e.section.toLowerCase()))-2;if(o<0)return;const a=e=>{n.splice(o,0,e),o++},{Components:i,Classes:c,Actions:r}=e.common,l=i.ModalElements.ModalRoot,s=i.FormDivider.default,d=i.ButtonModules,u=i.FormItem.default,p=i.FormText.default,m=r.ModalActions;a({section:"DIVIDER"}),a({section:"HEADER",label:"Velocity"}),a({section:"settings",label:"Settings",className:"velocity-settings-tab",element:()=>[window.React.createElement(Xe,{title:"Settings"},window.React.createElement(et,{title:"General"},window.React.createElement(He,{name:"Stop DevTools Warnings",note:"Stops Discord from showing warnings when you open devtools.",setting:"StopWarnings"}),window.React.createElement(He,{name:"Kill Sentry",note:"Kills Sentry, a tool used by Discord to track your client.",setting:"KillSentry"}),window.React.createElement(He,{name:"Developer Mode",note:"Adds a settings tab with utilities for development.",setting:"DeveloperTab"})),window.React.createElement(et,{title:"Window"},window.React.createElement(He,{name:"Transparency",note:"Makes the window transparent.",setting:"Transparency"}),window.React.createElement(He,{name:"MacOS Vibrancy",note:"Makes the window have a vibrancy effect on MacOS.",setting:"Vibrancy"})),window.React.createElement(et,{title:"Notifications"},window.React.createElement(Re,null,window.React.createElement(d.default,{onClick:()=>{const e=I({title:"Notification",content:"This is a test notification",buttons:[{label:"Button",action:()=>{F("Toast")}},{label:"Dangerous Button",color:"RED",action:()=>{e()}}]})},style:{marginBlock:"10px"}},"Open Preview Notification")),window.React.createElement(We,{defaultColor:Number(ee.getVariable("background-floating","hex").replace("#","0x"))||1579292,name:"Background Color",note:"The background color of notifications",setting:"NotificationBackground",action:e=>{const t=ee.hexToHSL(ee.intToHex(e));hn("--velocity-notification-background",`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, var(--velocity-notification-transparency,  100%))`)}}),window.React.createElement(qe,{name:"Background Opacity",note:"The opacity of the notification background",setting:"NotificationTransparency",action:e=>{hn("--velocity-notification-transparency",`${e}%`)},units:"%"}),window.React.createElement(qe,{name:"Background Blur",note:"The blur of the notification background",setting:"NotificationBlur",action:e=>{hn("--velocity-notification-blur",`${Math.round(e)}px`)},maxValue:20,units:"px"})))]}),a({section:"plugins",label:"Plugins",className:"velocity-plugins-tab",element:()=>{const[e,t]=React.useState(pe.plugins),[n,o]=React.useState(""),[a,i]=React.useState(!1);return React.useEffect((()=>{const e=e=>{t(e),i(!a)};return pe.plugins.addListener(e),()=>{pe.plugins._removeListener(e)}})),[window.React.createElement(Xe,{title:"Plugins"},window.React.createElement(Ue,{type:"plugins",onSearch:o}),tt(e,n).length?tt(e,n).map((e=>window.React.createElement(Ke,{...e}))):window.React.createElement(ot,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any plugins",description:"Make sure they're installed and your search is correct"}))]}}),a({section:"themes",label:"Themes",className:"velocity-themes-tab",element:()=>{const[e,t]=React.useState(pe.themes),[n,o]=React.useState(""),[a,i]=React.useState(!1);return React.useEffect((()=>{const e=e=>{t(e),i(!a)};return pe.themes.addListener(e),()=>{pe.themes._removeListener(e)}})),[window.React.createElement(Xe,{title:"Themes"},window.React.createElement(Ue,{type:"themes",onSearch:o}),tt(e,n).length?tt(e,n).map((e=>window.React.createElement(Ke,{...e}))):window.React.createElement(ot,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any themes",description:"Make sure they're installed and your search is correct"}))]}}),a({section:"snippets",label:"Snippets",className:"velocity-snippets-tab",element:()=>window.React.createElement(Xe,{title:"Snippets"},window.React.createElement(pn,null))}),a({section:"updater",label:"Updater",className:"velocity-updater-tab",element:()=>window.React.createElement(Xe,{title:"Updater"},window.React.createElement(ft,null))}),yn.DeveloperTab&&a({section:"developer",label:"Developer",className:"velocity-developer-tab",element:()=>{const[e,t]=React.useState(""),[n,o]=React.useState("");return window.React.createElement(Xe,{title:"Developer"},window.React.createElement(u,null,window.React.createElement(et,{title:"Developer Tools",collapsable:!1},window.React.createElement(p,{style:{marginBlock:"8px 20px"}},"A collection of utilities for you to use in development."),window.React.createElement(s,{style:{marginBottom:"20px"}}),window.React.createElement(Re,null,window.React.createElement(d.default,{color:d.ButtonColors.RED,onClick:()=>{gn.invoke(mn)}},"Kill Process"),window.React.createElement(d.default,{onClick:()=>{m.openModal(window.React.createElement(l,{children:{}}))}},"React Crash")),window.React.createElement(s,{style:{marginBlock:"20px"}})),window.React.createElement(et,{title:"Velocity Components"},window.React.createElement(xe,null,window.React.createElement(k,{title:"Notification Title",color:n,buttons:[{label:"Change Color",action:()=>{""===n?o("error"):"error"===n?o("success"):"success"===n?o("warning"):"warning"===n?o("velocity"):"velocity"===n&&o("")}},{label:"Change Toast Color",action:()=>{""===e?t("error"):"error"===e?t("success"):"success"===e?t("warning"):"warning"===e?t("velocity"):"velocity"===e&&t("")}}],id:"velocity-notification-9999"},"Notification Content")),window.React.createElement(xe,null,window.React.createElement(j,{color:e},"Toast Content")))))}})})),n.after(a.prototype,"render",((t,n)=>{const o=n.props.children;if(!o||!o.length||o.length<3)return;if(!o[o.length-3].type.toString().includes("separator"))return;if(!o[o.length-2].type.toString().includes("socialLinks"))return;const a=e.find(["versionHash"]),i=e.common.Components.Text.default,c=o[o.length-1].type;o[o.length-1].type=function(){const e=c(...arguments);return e.props.children.splice(1,0,window.React.createElement("span",{className:`${i.Colors.MUTED} ${i.Sizes.SIZE_12} ${a.line}`},"Velocity ",VelocityCore.Meta.version,window.React.createElement("span",{className:a.versionHash}," (",VelocityCore.Meta.hash,")"))),e}}))})(),Cn.log("Settings Added"),await p((()=>A.common.React)),Cn.log("React Loaded"),A.remapDefaults(),ge(),ve(),Cn.log("Plugins & Themes Initialised"),yt(),Cn.log("Snippets Run"),A.remapDefaults(),setTimeout((()=>{Be.CoreUpdater.checkForUpdates(),Be.PluginUpdater.checkForUpdates(),Be.ThemeUpdater.checkForUpdates()}),1e3)})();
