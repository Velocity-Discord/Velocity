"use strict";const e=document.createElement("velocity-head"),t=document.createElement("velocity-component-styles"),n=document.createElement("velocity-themes"),o=document.createElement("velocity-snippets"),a=document.createElement("velocity-toasts"),i=document.createElement("velocity-notifications"),c=document.createElement("velocity-body");new Promise((e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})).then((()=>{document.head.appendChild(e),document.body.appendChild(c),e.appendChild(t),e.appendChild(n),e.appendChild(o),c.appendChild(i),c.appendChild(a)}));const r=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),l=(e,n)=>{let o=document.createElement("style");o.setAttribute("id",`velocity-component-${e}-style`);for(const e in n){let t="";for(const o in n[e])t+=`${r(o)}: ${n[e][o]};`;o.innerHTML+=`${e} { ${t} }`}t.appendChild(o)};var s,d=s=class{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this.title=e,this.logs=[]}__init(){this._print=(e,...t)=>{switch(e){case"log":console.log(`%cVelocity %c ${this.title} %c`,"background: #5B88FC; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #5B88FC; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t);break;case"warn":console.warn(`%cVelocity %c ${this.title} %c`,"background: #FFC107; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #FFC107; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t);break;case"error":console.error(`%cVelocity %c ${this.title} %c`,"background: #F44336; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #F44336; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t)}}}__init2(){this.log=(e,...t)=>{this._print("log",e,...t),this.logs.push(t)}}__init3(){this.warn=(e,...t)=>{this._print("warn",e,...t),this.logs.push(t)}}__init4(){this.error=(e,...t)=>{this._print("error",e,...t),this.logs.push(t)}}};const u=e=>new Promise((t=>setTimeout(t,e)));function p(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const m=new d("Webpack"),f="webpackChunkdiscord_app",g=new Promise((async e=>{for(;!window[f];)await u(1);e()})),h={byDisplayName:e=>t=>p([t,"access",e=>e.default,"optionalAccess",e=>e.displayName])===e,byProps:(...e)=>t=>{if(e.every((e=>void 0!==t[e])))return!0;return!!e.every((e=>void 0!==p([t,"access",e=>e.default,"optionalAccess",t=>t[e]])||void 0!==p([t,"access",e=>e.Z,"optionalAccess",t=>t[e]])||void 0!==p([t,"access",e=>e.ZP,"optionalAccess",t=>t[e]])))||void 0},byPrototypeFields:e=>t=>{if(e.every((e=>void 0!==p([t,"access",e=>e.prototype,"optionalAccess",t=>t[e]]))))return!0;return!!e.every((e=>void 0!==p([t,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])||void 0!==p([t,"access",e=>e.Z,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])||void 0!==p([t,"access",e=>e.ZP,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])))||void 0},byStrings:(...e)=>t=>{Object.keys(t).forEach((n=>e.every((e=>t[n].toString().includes(e)))))},byPrototypeStrings:(e,...t)=>n=>{if(t.every((t=>p([n,"access",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)]))))return!0;return!!t.every((t=>p([n,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])||p([n,"access",e=>e.Z,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])||p([n,"access",e=>e.ZP,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])))||void 0},byAllPrototypeStrings:(...e)=>t=>{Object.keys(t.prototype).forEach((n=>e.every((e=>p([t,"access",e=>e.prototype,"optionalAccess",e=>e[n],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",t=>t(e)])))))}};let y;const w=()=>y||(y=window[f].push([[Symbol("Velocity")],{},e=>e]),y),v=[],b=()=>{const e=w();let t=0;for(const n in e.c){if(v.includes(n))continue;if(!Object.hasOwnProperty.call(e.c,n))return;let o=e.c[n].exports;o&&(o.default||(["Z","ZP"].forEach((e=>{o[e]&&(o.default=o[e],t++)})),v.push(n)))}m.log(`Remapped ${t} default exports`)},C=(e,t=!1)=>{let n=!1;switch(typeof e){case"string":e=h.byDisplayName(e);break;case"object":Array.isArray(e)&&(e=h.byProps(...e))}const o=w();let a=[];for(let t in o.c){if(!Object.hasOwnProperty.call(o.c,t))return;let i=o.c[t].exports;if(i!==window&&i){!i.Z&&!i.ZP||i.default||b();try{e(i)&&a.push(i)}catch(e){n=e}}}return n&&m.warn("Filter threw an error:",n),t?a:a[0]},R=async(e,t=!1)=>{for(;!w();)await u(1);for(;!C(e,t);)await u(1);return C(e,t)};let E={};g.then((async()=>{const e=await R((e=>{for(const t of Object.keys(e))if(p([e,"access",e=>e[t],"optionalAccess",e=>e.DYNAMIC]))return!0})),t=await R((e=>{for(const t of Object.keys(e))if(e[t]&&"function"==typeof e[t].toString&&e[t].toString().includes("onCloseCallback()"))return!0})),n=await R((e=>{for(const t of Object.keys(e))if(e[t]&&"function"==typeof e[t].toString&&e[t].toString().includes("borderColor")&&e[t].toString().includes("e.grow"))return!0})),o=await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("customColor")]))),a={};C((e=>{let t=!1;for(const n of Object.values(e))"function"==typeof n&&(n.toString().includes("CONTEXT_MENU_CLOSE")?(a.closeContextMenu=n,t=!0):t&&n.toString().includes("renderLazy")&&(a.openContextMenu=n,t=!0));return t})),E={React:await R(["createElement","useEffect"]),ReactDOM:await R(["render","hydrate"]),Components:{FormItem:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("titleClassName")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("style")]))),FormText:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.Sizes,"optionalAccess",e=>e.SIZE_32])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.Colors]))),FormDivider:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("().divider")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("style")]))),SwitchItem:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("helpdeskArticleId")]))),Popout:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("shouldShowPopout")]))),TextInput:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("inputClassName")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("inputPrefix")]))),TextForm:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("minLength")]))),TooltipContainer:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("shouldShowTooltip")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.Positions]))),ButtonModules:{_ButtonModules:n,default:Object.values(n).find((e=>e.toString().includes("borderColor")&&e.toString().includes("e.grow"))),ButtonColors:Object.values(n).find((e=>e.BRAND_NEW)),ButtonLooks:Object.values(n).find((e=>e.FILLED)),ButtonSizes:Object.values(n).find((e=>e.TINY))},ColorPickerModules:{_ColorPickerModules:o,default:o.default,CustomColorPicker:Object.values(o).find((e=>e.toString().includes("handleHexChange"))),CustomColorButton:Object.values(o).find((e=>p([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("customColor")])&&p([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("isCustom")]))),DefaultColorButton:Object.values(o).find((e=>p([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("isDefault")])))},Slider:await R(h.byPrototypeFields(["renderMark"])),PanelButton:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("onContextMenu")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("tooltipText")]))),Switch:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("PRIMARY_DARK_400")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("STATUS_GREEN_600")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("checkbox")]))),Anchor:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.contextType])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.defaultProps])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.renderNonInteractive]))),Markdown:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.rules])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.defaultProps,"optionalAccess",e=>e.parser]))),Text:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.Sizes,"optionalAccess",e=>e.SIZE_10]))),ModalElements:{_ModalElements:e,ModalHeader:Object.values(e).find((e=>e.toString().includes("wrap")&&e.toString().includes("header"))),ModalFooter:Object.values(e).find((e=>e.toString().includes("wrap")&&e.toString().includes("footer"))),ModalRoot:Object.values(e).find((e=>e.toString().includes("size")&&e.toString().includes("dialog")))},ModalActions:{_ModalActions:t,openModal:Object.values(t).find((e=>p([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("onCloseCallback")])&&p([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("Layer")]))),closeModal:Object.values(t).find((e=>p([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("onCloseCallback()")])))},EmptyState:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("onCTAClick")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("description")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("artURL")])&&!p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("stream")]))),Alert:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("title")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("body")])&&p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("secondaryConfirmText")]))),ContextMenuActions:a,ContextMenuClasses:await R(["menu","styleFlexible"])},Constants:{},Icons:{Pin:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M19 3H4.99C3.88 3 3.01 3.89 3.01 5L3")]))),Gear:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M14 7V9C14 9 12.5867 9 12.5733 9.00667C12.42 9.58667 12.1733 10.1267 11.84 10.6067L12.74 11.5067L11")]))),Plus:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("15 10 10 10 10 15 8 15 8 1")]))),Pencil:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M19.2929 9.8299L19.9409 9.18278C21.353")]))),Play:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("0 0 0 14 11 7")]))),Trash:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M15 3.999V2H9V3.999H3V5.999H21V3.999H15Z")]))),Rocket:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M4.92871 13.4149L10.5857 19.0709L18.363")]))),Link:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.0")]))),PersonAdd:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M6.5 8.00667C7.88 8.00667 9 6.88667 9 5.50667C9 4.12667 7.88 3.00667 6.5 3.00667C5.12 3.00667 4 4.12667 4 5.50667C4 6.88667 5.12 8.00667")]))),Upload:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v")]))),Search:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M21.707 20.293L16.314 14.9C17.403 13.504 18 11.79")]))),Folder:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M20 7H12L10.553 5.106C10.214 4.428 9")]))),Retry:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M12 2C6.485 2 2 6.485 2 12H5.33333C5.33333 8.32")]))),Overflow:await R((e=>p([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M7 12.001C7 10.8964 6.10457 10.001 5 10.001C3.89543 10.001 3 10.8964")])))}}}));var x={chunkName:f,Filters:h,globalPromise:g,findModule:C,waitFor:R,remapDefaults:b,find:C,findByDisplayName:e=>C(h.byDisplayName(e)),findByProps:(...e)=>C(h.byProps(...e)),findByPrototypes:(...e)=>C(h.byPrototypeFields(e)),get __ORIGINAL_CHUNKS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return window[f]},get summon(){return y},get common(){return E}};const{spring:S}=VelocityCore.pseudoRequire("unsafe:react-flip-toolkit");l("notification",{".velocity-notification":{backgroundColor:"var(--velocity-notification-background, var(--background-floating))",borderRadius:"5px",padding:"15px",color:"var(--header-primary)",backdropFilter:"blur(var(--velocity-notification-blur))",zIndex:"1",maxWidth:"325px",width:"fit-content",borderLeft:"5px solid #fff",transition:"all 0.2s ease",pointerEvents:"all"},".velocity-notification.color-velocity":{borderColor:"#5B88FC"},".velocity-notification.color-success":{borderColor:"#43B581"},".velocity-notification.color-error":{borderColor:"#F04747"},".velocity-notification.color-warning":{borderColor:"#FAA61A"},".notification-title":{fontSize:"16px",fontWeight:"600",display:"flex",justifyContent:"space-between",alignItems:"center"},".notification-close":{cursor:"pointer",fontSize:"16px",backgroundColor:"transparent",border:"none",color:"var(--interactive-normal)",transition:"color 0.2s ease"},".notification-close:hover":{color:"var(--interactive-hover)"},".notification-content":{fontSize:"14px",marginTop:"5px",color:"var(--header-secondary)"},".notification-buttons":{display:"grid",marginTop:"10px",gap:"5px",gridTemplateColumns:"repeat(var(--buttons, 1), 1fr )"}});var A=e=>{const{title:t,color:n,children:o,buttons:a,id:i}=e,c=x.common.Components.ButtonModules.default,r=x.common.Components.ButtonModules.ButtonColors,l=x.common.Components.ButtonModules.ButtonSizes;return window.React.createElement("div",{className:`velocity-notification color-${n}`},window.React.createElement("div",{className:"notification-title"},t,window.React.createElement("button",{className:"notification-close",onClick:()=>{const e=document.getElementById(`velocity-notification-${i}`);S({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:t,opacity:n})=>{e.style.opacity=n,e.style.transform=`translateY(${t}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${i}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(e),e.remove()}})}},window.React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},window.React.createElement("path",{fill:"currentColor",d:"M18.4 4L12 10.4L5.6 4L4 5.6L10.4 12L4 18.4L5.6 20L12 13.6L18.4 20L20 18.4L13.6 12L20 5.6L18.4 4Z"})))),window.React.createElement("div",{className:"notification-content"},o),window.React.createElement("div",{className:"notification-buttons",style:{"--buttons":a.length}},a.map((e=>window.React.createElement(c,{size:l.TINY,color:r[e.color]||r.BRAND,onClick:e.action,disabled:e.disabled},e.label)))))};l("toast",{".velocity-toast":{backgroundColor:"var(--background-floating)",borderRadius:"5px",padding:"10px 15px",color:"var(--header-primary)",zIndex:"1",fontSize:"16px",fontWeight:"500",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"all",width:"fit-content"},".velocity-toast.color-velocity":{backgroundColor:"#5B88FC"},".velocity-toast.color-success":{backgroundColor:"#43B581"},".velocity-toast.color-error":{backgroundColor:"#F04747"},".velocity-toast.color-warning":{backgroundColor:"#FAA61A"}});var k=e=>{const{children:t,color:n}=e;return window.React.createElement("div",{className:`velocity-toast color-${n}`},t)};const{spring:j}=VelocityCore.pseudoRequire("unsafe:react-flip-toolkit");l("notifications",{"velocity-notifications":{position:"fixed",right:"25px",top:"15px",zIndex:"3000",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"10px",transition:"all 0.2s ease",pointerEvents:"none"},"velocity-toasts":{position:"fixed",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center",marginTop:"15px",width:"100%",zIndex:"3000",pointerEvents:"none",transition:"all 0.2s ease",pointerEvents:"none"}});let M=0;const $=(e={})=>{const{title:t="",content:n="",buttons:o=[],color:a=""}=e;M++;const c=M,r=document.createElement("div");return r.classList.add("velocity-notification-container"),r.setAttribute("id",`velocity-notification-${c}`),i.appendChild(r),ReactDOM.render(window.React.createElement(A,{id:c,color:a,title:t,buttons:o},n),r),r.style.opacity=0,j({config:"noWobble",values:{translateY:[-15,0],opacity:[0,1]},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${c}`)),onUpdate:({translateY:e,opacity:t})=>{r.style.opacity=t,r.style.transform=`translateY(${e}px)`}}),()=>{const e=document.getElementById(`velocity-notification-${c}`);j({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:t,opacity:n})=>{e.style.opacity=n,e.style.transform=`translateY(${t}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${c}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(e),e.remove()}})}};let N=0;const T=(e,t={})=>{const{type:n="",timeout:o=1200}=t;N++;const i=document.createElement("div");i.setAttribute("id",`velocity-toast-${N}`),i.classList.add("velocity-toast-container"),a.appendChild(i),ReactDOM.render(window.React.createElement(k,{id:N,color:n},e),i),i.style.opacity=0,j({config:"noWobble",values:{translateY:[-15,0],opacity:[0,1]},delay:35*Array.from(document.querySelectorAll(".velocity-toast-container")).findIndex((e=>e.id==`velocity-toast-${N}`)),onUpdate:({translateY:e,opacity:t})=>{i.style.opacity=t,i.style.transform=`translateY(${e}px)`}}),setTimeout((()=>{j({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:e,opacity:t})=>{i.style.opacity=t,i.style.transform=`translateY(${e}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-toast-container")).findIndex((e=>e.id==`velocity-toast-${N}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(i),i.remove()}})}),o)},L=new d("Datastore"),P=VelocityCore.pseudoRequire("node:fs"),O=VelocityCore.pseudoRequire("node:path"),I=VelocityCore.pseudoRequire("v:dir"),D=()=>{P.existsSync(_)||P.mkdirSync(_)},_=O.join(I,"data"),F=e=>{D();try{return P.existsSync(O.join(_,`${e}.json`))?JSON.parse(P.readFileSync(O.join(_,`${e}.json`),"utf8")):{}}catch(e){L.error(e)}},B=(e,t)=>{D();try{return F(e)[t]||null}catch(e){L.error(e)}},V=(e,t,n)=>{D();try{const o=F(e);o[t]=n,P.writeFileSync(O.join(_,`${e}.json`),JSON.stringify(o))}catch(e){L.error(e)}},H=(e,t)=>{D();try{const n=F(e);delete n[t],P.writeFile(O.join(_,`${e}.json`),JSON.stringify(n))}catch(e){L.error(e)}},z={},W=e=>{let t;return z[e]?t=z[e]:(t=F(e),z[e]=t),new Proxy(t,{get:(n,o)=>t[o]||B(e,o),set:(n,o,a)=>(t[o]=a,V(e,o,a),!0),deleteProperty:(n,o)=>(t[o]=void 0,H(e,o),!0)})};var q=Object.freeze({__proto__:null,dir:_,getAllData:F,getData:B,setData:V,deleteData:H,Stream:W});class U extends Array{constructor(...e){super(...e),this._listeners=[]}addListener(e){return this._listeners.push(e),()=>this._removeListener(e)}_removeListener(e){this._listeners=this._listeners.filter((t=>t!==e))}_notifyListeners(){this._listeners.forEach((e=>e(this)))}push(...e){const t=super.push(...e);return this._notifyListeners(),t}pop(){const e=super.pop();return this._notifyListeners(),e}shift(){const e=super.shift();return this._notifyListeners(),e}unshift(...e){const t=super.unshift(...e);return this._notifyListeners(),t}splice(...e){const t=super.splice(...e);return this._notifyListeners(),t}sort(...e){const t=super.sort(...e);return this._notifyListeners(),t}filter(...e){const t=super.filter(...e);return this._notifyListeners(),t}activeFilter(...e){const t=super.filter(...e);return this.splice(0,this.length,...t),this._notifyListeners(),t}insertNew(e,t){let n=0;switch(t){case"object":n=this.findIndex((t=>t[0]===e[0]));break;case"string":n=this.findIndex((t=>t===e))}return this._notifyListeners(),n?(this.splice(n,0,e),this.push(e)):this.push(e)}}var Z={intToHex(e){const t=e.toString(16);return`#${6!==t.length?"0".repeat(6-t.length)+t:t}`},hexToRGB(e){const[t,n,o]=e.match(/\w\w/g).map((e=>parseInt(e,16)));return[t,n,o]},rgbToHSL(e){const{r:t,g:n,b:o}=e,a=t/255,i=n/255,c=o/255;let r=Math.max(a,i,c),l=Math.min(a,i,c),s=(r+l)/2,d=s,u=s;if(r===l)return[0,0,u];const p=r-l;switch(d=u>=.5?p/(2-(r+l)):p/(r+l),r){case a:s=60*((i-c)/p+0);break;case i:s=60*((c-a)/p+2);break;case c:s=60*((a-i)/p+4)}return[Math.round(s),Math.round(100*d),Math.round(100*u)]},hexToHSL(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16)/255,o=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255,i=Math.max(n,o,a),c=Math.min(n,o,a);let r=(i+c)/2,l=r,s=r;if(i===c)return[0,0,s];const d=i-c;switch(l=s>.5?d/(2-i-c):d/(i+c),i){case n:r=(o-a)/d+(o<a?6:0);break;case o:r=(a-n)/d+2;break;case a:r=(n-o)/d+4}return r/=6,l*=100,l=Math.round(l),s*=100,s=Math.round(s),r=Math.round(360*r),[r,l,s]},rgbToHex(e){const{r:t,g:n,b:o}=e;return`#${((1<<24)+(t<<16)+(n<<8)+o).toString(16).slice(1)}`},hslToRGB(e){const t=e[0]/360,n=e[1]/100,o=e[2]/100;let a,i,c;if(0===n)a=i=c=o;else{const e=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),r=o<.5?o*(1+n):o+n-o*n,l=2*o-r;a=e(l,r,t+1/3),i=e(l,r,t),c=e(l,r,t-1/3)}return[Math.round(255*a),Math.round(255*i),Math.round(255*c)]},getType(e){const t=e.toLowerCase().trim();return t.startsWith("#")?"hex":t.startsWith("rgba")?"rgba":t.startsWith("rgb")?"rgb":t.startsWith("hsla")?"hsla":t.startsWith("hsl")?"hsl":"int"},getVariable(e,t){const n=document.documentElement,o=getComputedStyle(n).getPropertyValue(e.startsWith("--")?e:`--${e}`).trim();if(o.includes("calc"))return o;if(o.includes("var"))return o;const a=this.getType(o);switch(t){case"hex":if("hex"===a)return o;if("rgb"===a)return this.rgbToHex(o);if("hsl"===a)return this.rgbToHex(this.hslToRGB(o));break;case"rgb":if("rgb"===a)return o;if("hex"===a)return this.hexToRGB(o);if("hsl"===a)return this.hslToRGB(o);case"hsl":if("hsl"===a)return o;if("hex"===a)return this.rgbToHSL(this.hexToRGB(o));if("rgb"===a)return this.rgbToHSL(o);default:return o}return null},formatHex(e){switch(e.length){case 4:return`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`;case 7:return e;case 9:return e.substring(0,7);default:return null}},getRootVariables(e){const t=e.match(/:root,*[\s]*.*\{([^}]+)\}/);if(!t)return[];const n=t[1].match(/--[^:]+:[^;]+/g);return n?n.map((e=>{const[t,n]=e.split(":");return{name:t.trim(),value:n.trim()}})):[]}},Y={formatName(e){const t=e.split(/[-_]/);for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")}};function G(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const J=new d("Addon Manager"),K=VelocityCore.pseudoRequire("unsafe:sucrase"),X=VelocityCore.pseudoRequire("node:fs"),Q=VelocityCore.pseudoRequire("node:path"),ee=VelocityCore.pseudoRequire("unsafe:electron").shell,te=VelocityCore.pseudoRequire("v:dir"),ne=W("config"),oe=Q.join(te,"plugins"),ae=Q.join(te,"themes"),ie={plugins:new U,themes:new U};let ce=Array.isArray(ne.enabledPlugins)?new U(...ne.enabledPlugins):new U,re=Array.isArray(ne.enabledThemes)?new U(...ne.enabledThemes):new U;ce.addListener((e=>{ne.enabledPlugins=[...e]})),re.addListener((e=>{ne.enabledThemes=[...e]}));const le=()=>{X.existsSync(oe)||X.mkdirSync(oe),X.existsSync(ae)||X.mkdirSync(ae)},se=e=>e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),de=()=>{le(),T("Reading Plugin Files",{type:"velocity"}),X.readdir(oe,((e,t)=>{e&&J.error("Error reading plugin files",e);t.filter((e=>!e.includes("/")&&!e.includes("."))).forEach((e=>{if(!X.existsSync(Q.join(oe,e,"velocity_manifest.json")))return J.error(`Plugin ${e} does not have a manifest file!`);try{const t=JSON.parse(X.readFileSync(Q.join(oe,e,"velocity_manifest.json"),"utf8"));let n={name:t.name,description:t.description,version:t.version,author:t.author,license:t.license,filePath:Q.join(oe,e),social:{invite:G([t,"access",e=>e.social,"optionalAccess",e=>e.invite]),website:G([t,"access",e=>e.social,"optionalAccess",e=>e.website]),github:G([t,"access",e=>e.social,"optionalAccess",e=>e.github]),donate:G([t,"access",e=>e.social,"optionalAccess",e=>e.donate])},main:t.main,_type:"Plugins"};const o=X.readFileSync(Q.join(oe,e,n.main),"utf8"),a=K.transform(o,{transforms:["jsx"],jsxPragma:"Velocity.WebpackModules.common.React.createElement",jsxFragmentPragma:"Velocity.WebpackModules.common.React.Fragment",production:!0}).code,i=new Function("Velocity","module","require",`${a}; return module.exports`)(Velocity,{exports:{}},(e=>VelocityCore.pseudoRequire(Q.resolve(n.filePath,e))));n.instance=new i(n),ie.plugins.insertNew(n),T(`Loaded ${n.name}`),ue.isEnabled(n.name)&&(ue.disable(n.name,!0),ue.enable(n.name))}catch(t){J.error(`Error loading ${e}`,t),T(`Error loading ${e}`,{type:"error"})}}))}))},ue={get dir(){return oe},get:e=>ie.plugins.find((t=>t.name===e)),getAll:()=>ie.plugins,isEnabled:e=>ce.includes(e),getEnabled:()=>ie.plugins.filter((e=>ue.isEnabled(e.name))),enable:e=>{const t=ie.plugins.find((t=>t.name===e));if(t){try{ce.includes(t.name)||ce.insertNew(t.name),t.instance.onStart(),T(`Enabled ${t.name}`,{type:"success"})}catch(e){J.error(`Error enabling plugin '${t.name}'.`,e),T(`Error enabling ${t.name}`,{type:"error"})}return!0}},disable:(e,t)=>{const n=ie.plugins.find((t=>t.name===e));if(n){try{ce.activeFilter((t=>t!==e)),n.instance.onStop(),t||T(`Disabled ${n.name}`,{type:"success"})}catch(e){J.error(`Error disabling plugin '${n.name}'.`,e),T(`Error disabling ${n.name}`,{type:"error"})}return!0}},unlink:e=>{const t=ie.plugins.find((t=>t.name===e));if(t){try{ue.disable(e,!0),ie.plugins.activeFilter((t=>t.name!==e)),T(`Unlinked ${t.name}`,{type:"success"})}catch(e){J.error(`Error unlinking plugin '${t.name}'.`,e),T(`Error unlinking ${t.name}`,{type:"error"})}return!0}},delete:e=>{const t=ie.plugins.find((t=>t.name===e));if(t){try{ue.unlink(e),X.rmSync(t.filePath,{recursive:!0}),T(`Deleted ${t.name}`,{type:"error"})}catch(e){J.error(`Error deleting plugin '${t.name}'.`,e),T(`Error deleting ${t.name}`,{type:"error"})}return!0}},toggle:e=>{ue.isEnabled(e)?ue.disable(e):ue.enable(e)},openFolder:e=>{const t=ie.plugins.find((t=>t.name===e));t&&ee.openPath(t.filePath)},openDir:()=>{ee.openPath(oe)},reload(){ie.plugins.length=0,Velocity.AddonManager.Registry.plugins.length=0,de()}},pe=()=>{le(),T("Reading Theme Files",{type:"velocity"}),X.readdir(ae,((e,t)=>{e&&J.error("Error reading theme files",e);t.filter((e=>!e.includes("/")&&!e.includes("."))).forEach((e=>{if(!X.existsSync(Q.join(ae,e,"velocity_manifest.json")))return J.error(`Theme ${e} does not have a manifest file!`);try{const t=JSON.parse(X.readFileSync(Q.join(ae,e,"velocity_manifest.json"),"utf8"));let n={name:t.name,description:t.description,version:t.version,author:t.author,license:t.license,filePath:Q.join(ae,e),social:{invite:G([t,"access",e=>e.social,"optionalAccess",e=>e.invite]),website:G([t,"access",e=>e.social,"optionalAccess",e=>e.website]),github:G([t,"access",e=>e.social,"optionalAccess",e=>e.github]),donate:G([t,"access",e=>e.social,"optionalAccess",e=>e.donate])},main:t.main,_type:"Themes"};const o=X.readFileSync(Q.join(ae,e,n.main),"utf8");n.code=o;const a=Z.getRootVariables(o);a.length&&(n.instance={renderSettings:()=>a.map((e=>{const{name:t,value:n}=e;if(n.trim().startsWith("#"))try{return{default:Number(Z.formatHex(n.trim()).replace("#","0x")),id:t.replace("--","").trim(),name:Y.formatName(t.replace("--","").trim()),note:`#${n.trim().replace("#","")}`,type:"color",action:e=>{const n=Z.formatHex(`#${e.toString(16)}`);document.body.style.setProperty(t,n)}}}catch(e){return null}return null})),settings:W(n.name)}),ie.themes.insertNew(n),T(`Loaded ${n.name}`),me.isEnabled(n.name)&&(me.disable(n.name,!0),me.enable(n.name))}catch(t){J.error(`Error loading ${e}`,t),T(`Error loading ${e}`,{type:"error"})}}))}))},me={get dir(){return ae},get:e=>ie.themes.find((t=>t.name===e)),getAll:()=>ie.themes,isEnabled:e=>re.includes(e),getEnabled:()=>ie.themes.filter((e=>me.isEnabled(e.name))),enable:e=>{const t=ie.themes.find((t=>t.name===e));if(t){try{re.includes(t.name)||re.insertNew(t.name);const e=document.createElement("style");if(e.id=`velocity-theme-${se(t.name)}`,e.innerHTML=t.code,n.appendChild(e),t.instance&&t.instance.settings)for(const[e,n]of Object.entries(F(t.name))){const t=Z.formatHex(`#${n.toString(16)}`);document.body.style.setProperty(`--${e}`,t)}T(`Enabled ${t.name}`,{type:"success"})}catch(e){J.error(`Error enabling theme '${t.name}'.`,e),T(`Error enabling ${t.name}`,{type:"error"})}return!0}},disable:(e,t)=>{const n=ie.themes.find((t=>t.name===e));if(n){try{re.activeFilter((t=>t!==e));const o=document.getElementById(`velocity-theme-${se(n.name)}`);if(o&&o.remove(),n.instance&&n.instance.settings)for(let[e,t]of Object.entries(F(n.name)))document.body.style.removeProperty(`--${e}`);t||T(`Disabled ${n.name}`,{type:"success"})}catch(e){J.error(`Error disabling theme '${n.name}'.`,e),T(`Error disabling ${n.name}`,{type:"error"})}return!0}},unlink:e=>{const t=ie.themes.find((t=>t.name===e));if(t){try{me.disable(e,!0),ie.themes.activeFilter((t=>t.name!==e)),T(`Unlinked ${t.name}`,{type:"success"})}catch(e){J.error(`Error unlinking theme '${t.name}'.`,e),T(`Error unlinking ${t.name}`,{type:"error"})}return!0}},delete:e=>{const t=ie.themes.find((t=>t.name===e));if(t){try{me.unlink(e),X.rmSync(t.filePath,{recursive:!0}),T(`Deleted ${t.name}`,{type:"error"})}catch(e){J.error(`Error deleting theme '${t.name}'.`,e),T(`Error deleting ${t.name}`,{type:"error"})}return!0}},toggle:e=>{me.isEnabled(e)?me.disable(e):me.enable(e)},openFolder:e=>{const t=ie.themes.find((t=>t.name===e));t&&ee.openPath(t.filePath)},openDir:()=>{ee.openPath(ae)},reload(){ie.themes.length=0,Velocity.AddonManager.Registry.themes.length=0,pe()}};var fe=Object.freeze({__proto__:null,Registry:ie,enabledPlugins:ce,enabledThemes:re,initPlugins:de,Plugins:ue,initThemes:pe,Themes:me});l("button-container",{".velocity-button-container":{display:"flex",gap:"5px"}});var ge=e=>{const{children:t}=e;return window.React.createElement("div",{className:"velocity-button-container"},t)};l("component-preview",{".velocity-component-preview":{backgroundColor:"var(--background-secondary)",color:"var(--header-primary)",marginBlock:"8px 10px",padding:"20px",borderRadius:"5px",fontSize:"16px",fontWeight:"500",display:"flex",width:"100%",zIndex:"1"}});var he=e=>{const{children:t}=e;return window.React.createElement("div",{className:"velocity-component-preview"},t)};const ye=VelocityCore.pseudoRequire("node:fs"),we=VelocityCore.pseudoRequire("node:path"),ve=new d("Addon Actions");var be=Object.freeze({__proto__:null,injectCSS:(t,n)=>{let o=`velocity-style-${t.replace(/[^a-zA-Z0-9]/g,"-")}`;if(document.getElementById(o))return;let a=document.createElement("style");return a.id=o,a.innerHTML=n,e.appendChild(a),o},removeCSS:e=>{let t=`velocity-style-${e.replace(/[^a-zA-Z0-9]/g,"-")}`,n=document.getElementById(t);n&&n.remove()}});function Ce(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}new d("Patcher");const Re=Symbol("Velocity.Patcher");let Ee={};function xe(e,t,n,o,a={}){let{method:i="after"}=a,c=t[n];if(c||(t[n]=()=>{},c=t[n]),i=i.toLowerCase(),"before"!==i&&"after"!==i&&"instead"!==i)throw new Error(`'${i}' is a invalid patch type`);let r=(l=Ce([t,"optionalAccess",e=>e[n],"optionalAccess",e=>e[Re],"optionalAccess",e=>e.patches]),s=()=>({before:[],after:[],instead:[]}),null!=l?l:s());var l,s;let d=Symbol(),u={unpatch:m,patchName:e,moduleToPatch:t,functionToPatch:n,callback:o,method:i,Symbol:d};r[i].unshift(Object.assign(o,{unpatch:m,Symbol:d}));let p=!1;function m(o){p||(p=!0,r[i]=r[i].filter((e=>e.Symbol!==d)),Ee[e]=Ee[e].filter((e=>e.Symbol!==d)),0===r.before.length&&0===r.after.length&&0===r.instead.length&&(delete t[n][Re],delete t[n].unpatch))}return t[n][Re]||(t[n]=function(){for(const e of r.before)e([...arguments],this);let e=c;for(const t of r.instead)e=t([...arguments],e,this);let t=e.apply(this,[...arguments]);for(const e of r.after)e([...arguments],t,this);return t},t[n][Re]={original:c,module:t,function:n,patches:r,unpatchAll:()=>{for(const e of r.before)e.unpatch();for(const e of r.instead)e.unpatch();for(const e of r.after)e.unpatch();t[n]=c}},Object.assign(t[n],c,{toString:()=>c.toString()})),Ee[e]||(Ee[e]=[]),Ee[e].push({...u,unpatch:m}),m}x.globalPromise.then((async()=>{window.React=await x.waitFor(["createElement","useEffect"]),window.ReactDOM=await x.waitFor(["render","hydrate"])}));var Se={Plugin:class{constructor(e){this.manifest=e,this.settings=F(e.name)}onStart(){}onStop(){}},Styling:be,Patcher:class{constructor(e){this.name=e}after(e,t,n){return xe(this.name,e,t,n,{method:"after"})}before(e,t,n){return xe(this.name,e,t,n,{method:"before"})}instead(e,t,n){return xe(this.name,e,t,n,{method:"instead"})}unpatchAll(){Ce([Ee,"access",e=>e[this.name],"optionalAccess",e=>e.forEach,"call",e=>e((e=>e.unpatch()))])}},DataStore:q,Logger:d,AddonManager:{...fe,installAddon:async e=>{if(!e)return T("Invalid URL",{type:"error"});const t=await(async e=>{let t,n,o;try{t=new URL(e.endsWith("/")?e:e+"/"),n=new URL("velocity_manifest.json",t)}catch(e){return T("Invalid URL",{type:"error"})}try{const e=JSON.parse(await VelocityCore.request(n.href));o={manifest:e,main:await VelocityCore.request(new URL(e.main,t).href)}}catch(e){ve.error("Failed to traverse addon paths:",e)}return o})(e),n=t.manifest.main.endsWith(".js")?"Plugins":"Themes",o=we.join(fe[n].dir,t.manifest.name);if(ve.log(`Installing ${n.substring(0,n.length-1)} from ${e}`),ye.existsSync(o))return ve.error(`Addon already exists: '${t.manifest.name}'`),void T("Addon already exists",{type:"error"});if(ye.mkdirSync(o),ye.writeFileSync(we.join(o,"velocity_manifest.json"),JSON.stringify(t.manifest)),ye.writeFileSync(we.join(o,t.manifest.main),t.main),!t)return;const a=await(async(e,t)=>{const n=e.main.match(/require\("(.+)"\)/g);let o=[];if(n)for(const e of n){const n=e.match(/require\("(.+)"\)/)[1].replace(/\.\.\/plugins\/.*\//,""),a=new URL(n,t);o.push({url:a.href,path:n})}return o})(t,e);return a.forEach((async e=>{ye.writeFileSync(we.join(o,e.path),await VelocityCore.request(e.url))})),ve.log(`Installed ${t.manifest.name}`),T(`Installed ${t.manifest.name}`,{type:"success"}),!0}},WebpackModules:x,Notifications:{showNotification:$,showToast:T}};const{WebpackModules:Ae}=Se;l("context-menu",{".velocity-context-menu":{flexDirection:"column"},".velocity-menu-item:hover":{backgroundColor:"var(--brand-experiment-560)",color:"#fff"},".velocity-menu-item .velocity-menu-checkbox":{color:"#fff"},".velocity-menu-item .velocity-menu-check":{color:"var(--brand-experiment-560)"}});const ke=e=>{const{Components:t}=Ae.common,n=t.ContextMenuClasses;return window.React.createElement("div",{className:`velocity-context-menu ${n.scroller} ${n.menu} ${n.styleFlexible}`},e.children)},je=e=>{const{Components:t}=Ae.common,n=t.ContextMenuActions,o=t.ContextMenuClasses,{type:a,label:i,action:c,color:r,checked:l,disabled:s,onChange:d,icon:u}=e,[p,m]=React.useState(l);switch(a){case"separator":return window.React.createElement("div",{role:"separator",className:o.separator});case"check":return window.React.createElement("div",{role:"menuitem",className:`velocity-menu-item ${s?o.disabled:""} ${o.item} ${o.labelContainer} ${o[`color${r||"Default"}`]}`,onClick:e=>{!s&&c&&c(e),d&&d(!p),m(!p)}},window.React.createElement("div",{className:o.label},i),window.React.createElement("div",{className:o.iconContainer},window.React.createElement("svg",{className:o.icon,"aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},p?[window.React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.37499 3H18.625C19.9197 3 21.0056 4.08803 21 5.375V18.625C21 19.936 19.9359 21 18.625 21H5.37499C4.06518 21 3 19.936 3 18.625V5.375C3 4.06519 4.06518 3 5.37499 3Z",class:`velocity-menu-checkbox ${o.checkbox}`,fill:"currentColor"}),window.React.createElement("path",{d:"M9.58473 14.8636L6.04944 11.4051L4.50003 12.9978L9.58473 18L19.5 8.26174L17.9656 6.64795L9.58473 14.8636Z",className:`velocity-menu-check ${o.check}`,fill:"currentColor"})]:window.React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.625 3H5.375C4.06519 3 3 4.06519 3 5.375V18.625C3 19.936 4.06519 21 5.375 21H18.625C19.936 21 21 19.936 21 18.625V5.375C21.0057 4.08803 19.9197 3 18.625 3ZM19 19V5H4.99999V19H19Z",fill:"currentColor"}))));default:return window.React.createElement("div",{role:"menuitem",className:`velocity-menu-item ${s?o.disabled:""} ${o.item} ${o.labelContainer} ${o[`color${r||"Default"}`]}`,onClick:e=>{!s&&c&&c(e),n.closeContextMenu()}},window.React.createElement("div",{className:o.label},i),u&&window.React.createElement("div",{className:o.iconContainer},window.React.createElement("icon",{className:o.icon})))}},Me=(e,t)=>{const{Components:n}=Ae.common,o=n.ContextMenuActions,a=(e=>window.React.createElement(ke,null,e.map((e=>window.React.createElement(je,{...e})))))(t);return o.openContextMenu(e,(()=>a)),a},{WebpackModules:$e,AddonManager:Ne}=Se;l("addon-header",{".velocity-addon-header":{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"5px",marginBottom:"15px"},".addon-searchbar":{width:"100%",height:"32px",background:"var(--background-tertiary)",borderRadius:"4px",padding:"0 10px",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"10px"},".addon-searchbar input":{width:"100%",height:"100%",background:"transparent",border:"none",color:"var(--text-normal)",fontSize:"14px",fontWeight:"500"},".addon-searchbar svg":{width:"20px",height:"20px"},".addon-buttons":{display:"flex",alignItems:"center"}});var Te=e=>{const{type:t,onSearch:n}=e,[o,a]=React.useState(""),i="plugins"===t?"Plugins":"Themes",{Components:c,Icons:r}=$e.common,l=c.PanelButton.default;return window.React.createElement("div",{className:"velocity-addon-header"},window.React.createElement("div",{onContextMenu:e=>{Me(e,[{label:"Install from URL",action:()=>{Ne.installAddon(o)}}])},className:"addon-searchbar"},window.React.createElement("input",{onChange:e=>{a(e),n(e)},placeholder:"Search..."}),window.React.createElement(r.Search.default,null)),window.React.createElement("div",{className:"addon-buttons"},window.React.createElement(l,{tooltipText:`Open ${"themes"==t?"Theme":"Plugin"} Folder`,icon:r.Folder.default,onClick:()=>Ne[i].openDir()}),window.React.createElement(l,{tooltipText:`Reload ${i}`,icon:r.Retry.default,onClick:()=>Ne[i].reload()})))},Le=e=>{const{children:t,tag:n,className:o,style:a}=e,i=x.find(["h1","title"]),c={style:a,className:`${i.defaultColor} ${i[n]} ${i[`defaultMargin${n}`]} ${o}`};switch(n){case"h1":default:return window.React.createElement("h1",{...c},t);case"h2":return window.React.createElement("h2",{...c},t);case"h3":return window.React.createElement("h3",{...c},t);case"h4":return window.React.createElement("h4",{...c},t);case"h5":return window.React.createElement("h5",{...c},t);case"h6":return window.React.createElement("h6",{...c},t)}};l("color-setting",{".velocity-color-setting":{display:"flex",justifyContent:"space-between"}});var Pe=e=>{const{Components:t}=x.common,{default:n}=t.TooltipContainer,o=t.FormItem.default,a=t.FormText.default,i=t.ColorPickerModules,c=t.Popout.default,r=function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([i,"optionalAccess",e=>e.CustomColorButton,"access",e=>e.prototype,"access",e=>e.render,"access",e=>e.call,"call",e=>e({props:{}}),"access",e=>e.type]),{name:l,note:s,setting:d,action:u,defaultColor:p,palette:m=[],container:f="config"}=e,g=W(f),[h,y]=React.useState(g[d]),w=()=>window.React.createElement(i.CustomColorPicker,{value:h,onChange:e=>{"function"==typeof u&&u(e),g[d]=e,y(e)}});return window.React.createElement(o,{className:"velocity-color-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(Le,{tag:"h3",style:{margin:"0"}},l),window.React.createElement(a,{type:"description"},s)),window.React.createElement(i.default,{className:"velocity-color-picker",value:h,colors:m,onChange:e=>{"function"==typeof u&&u(e),y(e),g[d]=e},renderDefaultButton:()=>window.React.createElement(n,{position:"bottom",text:"Default",children:e=>window.React.createElement(i.DefaultColorButton,{...e,color:p,onChange:()=>{"function"==typeof u&&u(p),y(p),g[d]=p}})}),renderCustomButton:()=>window.React.createElement(c,{renderPopout:w,animation:"translate",align:"center",position:"top",children:e=>window.React.createElement(n,{position:"bottom",text:"Pick a Color",children:t=>window.React.createElement("div",{...t,...e,className:"color-button"},window.React.createElement(r,{isCustom:!0,color:h}))})})}))},Oe=e=>{const{Components:t}=x.common,n=t.FormItem.default,o=t.SwitchItem.default,{name:a,note:i,setting:c,action:r,container:l="config"}=e,s=W(l),[d,u]=React.useState(s[c]);return window.React.createElement(n,{className:"velocity-switch-setting velocity-setting"},window.React.createElement(o,{note:i,value:d,onChange:e=>{"function"==typeof r&&r(e),s[c]=e,u(e)}},a))},Ie=e=>{const{Components:t}=x.common,n=t.FormItem.default,o=t.FormText.default,a=t.Slider.default,{name:i,note:c,setting:r,action:l,disabled:s=!1,minValue:d=0,maxValue:u=100,handleSize:p=10,units:m="",container:f="config",stickToMarkers:g}=e,h=W(f),[y,w]=React.useState(h[r]);let v=e=>`${Math.round(e)}`,b=e=>`${Math.round(e)}`;if(m){const e=e=>`${Math.round(e)}${m}`;v=e,b=e}return window.React.createElement(n,{className:"velocity-slider-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(Le,{tag:"h3",style:{margin:"0"}},i),window.React.createElement(o,{type:"description"},c)),window.React.createElement(a,{onValueChange:e=>{"function"==typeof l&&l(e),h[r]=e,w(e)},value:y,disabled:s,minValue:d,maxValue:u,handleSize:p,initialValue:y,onMarkerRender:v,onValueRender:b,stickToMarkers:g}))},De=e=>{const{Components:t}=x.common,n=t.FormItem.default,o=t.FormText.default,a=t.TextInput.default,{name:i,note:c,setting:r,action:l,disabled:s,maxLength:d,type:u,placeholder:p,container:m="config"}=e,f=W(m),[g,h]=React.useState(f[r]);return window.React.createElement(n,{className:"velocity-textinput-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(Le,{tag:"h3",style:{margin:"0"}},i),window.React.createElement(o,{type:"description"},c)),window.React.createElement(a,{value:g,onChange:e=>{"function"==typeof l&&l(e),f[r]=e,h(e)},disabled:s,maxLength:d,type:u,placeholder:p}))};function _e(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{WebpackModules:Fe,AddonManager:Be}=Se;l("addon-card",{".velocity-addon-card":{display:"flex",flexDirection:"column",width:"100%",gap:"10px",padding:"15px",borderRadius:"5px",backgroundColor:"var(--background-secondary)",marginBottom:"10px"},".addon-card-header":{display:"flex",alignItems:"center",justifyContent:"space-between",color:"var(--text-normal)",cursor:"pointer"},".addon-card-header-left":{display:"flex",gap:"5px",alignItems:"flex-end"},".addon-card-header-title":{fontSize:"20px",fontWeight:"500",color:"var(--header-primary)"},".addon-card-header-subtitle":{fontSize:"14px",fontWeight:"400",color:"var(--header-secondary)"},".addon-card-lower":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",gap:"10px"},".addon-card-description":{fontSize:"14px",fontWeight:"400"},".addon-card-footer":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"5px"},".addon-card-footer > span > button":{width:"32px !important"},".addon-card-settings-header":{display:"flex",alignItems:"center",color:"var(--text-normal)",cursor:"pointer",marginBottom:"10px",gap:"5px"},".addon-card-settings-header svg:hover":{color:"var(--interactive-hover)"}});var Ve=e=>{const{Components:t,Icons:n}=Fe.common,o=t.Switch.default,a=t.Markdown.default,i=t.PanelButton.default,{name:c,description:r,version:l,author:s,license:d,social:u,_type:p}=e,[m,f]=React.useState(Be[p].isEnabled(c)),[g,h]=React.useState(!1);return window.React.createElement("div",{className:"velocity-addon-card"},window.React.createElement("div",{className:"addon-card-header",onClick:()=>{Be[p].toggle(c),f(!m),h(!1)},onContextMenu:e=>{Me(e,[{label:"Enable",type:"check",checked:m,onChange:e=>{Be[p].toggle(c),f(e)}},{type:"separator"},{label:"Unlink",action:()=>{Be[p].unlink(c)},icon:n.Trash.default,color:"Danger"}])}},window.React.createElement("div",{className:"addon-card-header-left"},window.React.createElement("div",{className:"addon-card-header-title"},c),window.React.createElement("div",{className:"addon-card-header-subtitle"},l," by ","string"==typeof s?s:s.name)),window.React.createElement("div",{className:"addon-card-header-right"},window.React.createElement(o,{checked:m}))),window.React.createElement("div",{className:"addon-card-lower"},window.React.createElement("div",{className:"addon-card-description"},window.React.createElement(a,null,r)),window.React.createElement("div",{className:"addon-card-footer"},_e([e,"access",e=>e.instance,"optionalAccess",e=>e.renderSettings])&&window.React.createElement(i,{disabled:!m,tooltipText:"Settings",innerClassName:"addon-card-panelbutton",icon:n.Gear.default,onClick:()=>{h(!g)}}),(_e([u,"optionalAccess",e=>e.invite])||_e([u,"optionalAccess",e=>e.github])||_e([u,"optionalAccess",e=>e.website])||_e([u,"optionalAccess",e=>e.donate]))&&window.React.createElement(i,{tooltipText:"Social",icon:n.Link.default,onClick:e=>{Me(e,[u.invite&&{label:"Invite",action:()=>{window.open(new URL(u.invite,"https://discord.gg/").href)}},u.github&&{label:"GitHub",action:()=>{window.open(new URL(u.github).href)}},u.website&&{label:"Website",action:()=>{window.open(new URL(u.website).href)}},u.donate&&{label:"Donate",action:()=>{window.open(new URL(u.donate).href)}}])}}),window.React.createElement(i,{tooltipText:"Open Folder",innerClassName:"addon-card-panelbutton",icon:n.Folder.default,onClick:()=>{Be[p].openFolder(c)}}),window.React.createElement(i,{tooltipText:"Unlink",innerClassName:"addon-card-panelbutton",icon:n.Trash.default,onClick:()=>{Be[p].unlink(c)}}))),g&&m&&window.React.createElement("div",{className:"addon-card-settings"},window.React.createElement("div",{className:"addon-card-settings-header"},window.React.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",onClick:()=>{h(!1)}},window.React.createElement("path",{fill:"currentColor",d:"M18.4 4L12 10.4L5.6 4L4 5.6L10.4 12L4 18.4L5.6 20L12 13.6L18.4 20L20 18.4L13.6 12L20 5.6L18.4 4Z"})),window.React.createElement(Le,{style:{marginBottom:"0"},tag:"h5"},"Settings")),_e([e,"access",e=>e.instance,"optionalAccess",e=>e.renderSettings])&&e.instance.renderSettings().map((t=>{if(!t)return null;try{const n=n=>{"function"==typeof t.action&&t.action(n),e.instance.settings[t.id]=n};switch(t.type){case"switch":return window.React.createElement(Oe,{container:c,setting:t.id,name:t.name,note:t.note,action:n});case"slider":return window.React.createElement(Ie,{container:c,setting:t.id,name:t.name,note:t.note,minValue:0|t.min,maxValue:100|t.max,units:""|t.units,handleSize:10|t.handleSize,action:n});case"text":return window.React.createElement(De,{container:c,setting:t.id,name:t.name,note:t.note,action:n});case"color":return window.React.createElement(Pe,{container:c,defaultColor:t.default,setting:t.id,name:t.name,note:t.note,action:n})}}catch(e){T("Error rendering settings for "+c,{type:"error"})}}))))},He=e=>{const{title:t,children:n}=e;return[window.React.createElement(Le,{tag:"h1"},t),n]},ze=e=>{const{type:t="right",width:n=24,height:o=24,style:a}=e;switch(t){case"down":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M10.59 2.59 6 7.17 1.41 2.59 0 4 6 10 12 4 10.59 2.59Z"}));case"up":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M1.41 9.41 6 4.83 10.59 9.41 12 8 6 2 0 8 1.41 9.41Z"}));case"left":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M9.41 1.41 4.83 6 9.41 10.59 8 12 2 6 8 0 9.41 1.41Z"}));case"right":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M2.59 10.59 7.17 6 2.59 1.41 4 0 10 6 4 12 2.59 10.59Z"}))}};l("setting-section",{".velocity-setting-section":{display:"flex",color:"var(--header-secondary)",alignItems:"center",gap:"5px"},".velocity-setting-section svg":{transition:"all 0.2s ease"},".velocity-setting:not(.velocity-switch-setting)":{paddingBlock:"15px",borderBottom:"thin solid var(--background-modifier-accent)"},".velocity-switch-setting":{paddingTop:"15px"},".velocity-setting:not(.velocity-switch-setting):last-child":{borderBottom:"none",paddingBottom:"0"}});var We=e=>{const{title:t,children:n,collapsable:o=!0}=e,[a,i]=React.useState(!1);return[window.React.createElement("div",{className:"velocity-setting-section",onClick:()=>{i(!a)}},o&&window.React.createElement(ze,{type:"right",width:12,height:12,style:{transform:`rotate(${a?0:90}deg)`}}),window.React.createElement(Le,{tag:"h5",style:{margin:"0"}},t)),a?null:n]};const qe=W("config"),Ue=new d("Snippets"),Ze=VelocityCore.pseudoRequire("unsafe:sucrase"),Ye=e=>{qe.editorTabs.forEach((t=>{switch(function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([t,"optionalAccess",e=>e.language])){case"js":if("css"==e)return;try{const e=Ze.transform(t.content,{transforms:["jsx"]}).code;new Function("Velocity","VelocityCore",e)(Velocity,VelocityCore)}catch(e){T(`Error running snippet '${t.name}'`,{type:"error"}),Ue.error(`Error running snippet '${t.name}'.`,e)}break;case"css":if("js"==e)return;const n=document.createElement("style");n.setAttribute("id",`velocity-snippet-${t.name}-style`),n.innerHTML=t.content,o.appendChild(n)}}))};function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function at(e){return function t(){for(var n=this,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(n,[].concat(a,o))}}}function it(e){return{}.toString.call(e).includes("Object")}function ct(e){return"function"==typeof e}var rt=at((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),lt={changes:function(e,t){return it(t)||rt("changeType"),Object.keys(t).some((function(t){return n=e,o=t,!Object.prototype.hasOwnProperty.call(n,o);var n,o}))&&rt("changeField"),t},selector:function(e){ct(e)||rt("selectorType")},handler:function(e){ct(e)||it(e)||rt("handlerType"),it(e)&&Object.values(e).some((function(e){return!ct(e)}))&&rt("handlersType")},initial:function(e){var t;e||rt("initialIsRequired"),it(e)||rt("initialType"),t=e,Object.keys(t).length||rt("initialContent")}};function st(e,t){return ct(t)?t(e.current):t}function dt(e,t){return e.current=nt(nt({},e.current),t),t}function ut(e,t,n){return ct(t)?t(e.current):Object.keys(n).forEach((function(n){var o;return null===(o=t[n])||void 0===o?void 0:o.call(t,e.current[n])})),n}var pt={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lt.initial(e),lt.handler(t);var n={current:e},o=at(ut)(n,t),a=at(dt)(n),i=at(lt.changes)(e),c=at(st)(n);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return lt.selector(e),e(n.current)}function l(e){ot(o,a,i,c)(e)}return[r,l]}};var mt,ft={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},gt=(mt=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=mt.length?mt.apply(this,o):function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.apply(t,[].concat(o,a))}})(ft),ht={config:function(e){var t;return e||gt("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||gt("configType"),e.urls?(console.warn(ft.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};function yt(e,t){return Object.keys(t).forEach((function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],yt(e[n],t[n]))})),Ke(Ke({},e),t)}var wt={type:"cancelation",msg:"operation is manually canceled"};function vt(e){var t=!1,n=new Promise((function(n,o){e.then((function(e){return t?o(wt):n(e)})),e.catch(o)}));return n.cancel=function(){return t=!0},n}var bt,Ct,Rt=pt.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),Et=(Ct=2,function(e){if(Array.isArray(e))return e}(bt=Rt)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,i=void 0;try{for(var c,r=e[Symbol.iterator]();!(o=(c=r.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return n}}(bt,Ct)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(bt,Ct)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),xt=Et[0],St=Et[1];function At(e){return document.body.appendChild(e)}function kt(e){var t,n,o=xt((function(e){return{config:e.config,reject:e.reject}})),a=(t="".concat(o.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return a.onload=function(){return e()},a.onerror=o.reject,a}function jt(){var e=xt((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Mt(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Mt(e){xt().monaco||St({monaco:e})}var $t=new Promise((function(e,t){return St({resolve:e,reject:t})})),Nt={config:function(e){var t=ht.config(e),n=t.monaco,o=Xe(t,["monaco"]);St((function(e){return{config:yt(e.config,o),monaco:n}}))},init:function(){var e=xt((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(St({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),vt($t);if(window.monaco&&window.monaco.editor)return Mt(window.monaco),e.resolve(window.monaco),vt($t);!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(At,kt)(jt)}return vt($t)},__getMonacoInstance:function(){return xt((function(e){return e.monaco}))}};function Tt(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const Lt=W("config"),Pt=VelocityCore.pseudoRequire("node:fs"),Ot=VelocityCore.pseudoRequire("node:path"),It=VelocityCore.pseudoRequire("v:dir"),{WebpackModules:Dt}=Se,_t=Pt.readFileSync(Ot.join(It,"index.d.ts"),"utf8");let Ft;l("editor",{".velocity-editor-modal-body":{display:"flex",flexDirection:"column",alignItems:"flex-start"},".velocity-editor-modal-body > div":{width:"100%"},".velocity-editor":{backgroundColor:"var(--background-secondary)",borderRadius:"4px",width:"100%",height:"600px",display:"flex",overflow:"hidden",flexDirection:"column"},".editor-header":{display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",padding:"24px 10px"},".editor-header-buttons":{display:"flex",gap:"5px"},".editor-body":{width:"100%",height:"100%",display:"flex"},".editor-sidebar":{width:"200px",height:"100%",backgroundColor:"var(--background-secondary-alt)",display:"flex",flexDirection:"column",gap:"5px",padding:"10px",overflow:"auto"},".editor-sidebar-tab":{color:"var(--text-normal)",display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",borderRadius:"4px",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},".editor-sidebar-tab:hover":{backgroundColor:"var(--background-modifier-hover)"},".editor-sidebar-tab.active":{backgroundColor:"var(--background-modifier-active)"},"#editor-container":{height:"100%",width:"100%"}}),Lt.editorTabs||(Lt.editorTabs=[]);const Bt=new U(...Lt.editorTabs);new Promise((e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})).then((()=>{Nt.init().then((e=>{Ft=e,window.monaco=Ft,Ft.languages.typescript.javascriptDefaults.addExtraLib(_t,"velocity.d.ts"),Ft.editor.create(document.getElementById("editor-container"),{})}))}));var Vt=e=>{const{Components:t,Icons:n}=Dt.common,[a,i]=React.useState(0),[c,r]=React.useState(Bt);React.useEffect((()=>(window.editor=Ft.editor.create(document.getElementById("editor-container"),{value:l?Tt([l,"optionalAccess",e=>e.content]):"/* No File Selected. */\n/* Select a file from the sidebar to edit it. */",language:l?"js"==Tt([l,"optionalAccess",e=>e.language])?"javascript":"css":"javascript",theme:"vs-dark",minimap:{enabled:!1}}),window.editor.onDidChangeModelContent((e=>{if(l){if(!1!==Tt([e,"access",e=>e.changes,"optionalAccess",e=>e[0],"optionalAccess",e=>e.forceMoveMarkers]))return;Bt.splice(a,1,{...Bt[a],content:window.editor.getValue()})}o.querySelectorAll("style[id^='velocity-snippet-'][id$='-style']").forEach((e=>e.remove())),Ye("css")})),()=>{window.editor.dispose()}))),Bt.addListener((e=>{r(e),Lt.editorTabs=e}));let l=Lt.editorTabs[a];const s=t.Alert.default,d=t.TextInput.default,u=t.PanelButton.default,p=t.ModalActions;return window.React.createElement("div",{className:"velocity-editor"},window.React.createElement("div",{className:"editor-header"},window.React.createElement(Le,{tag:"h5",style:{margin:"0"}},l?`${Tt([l,"optionalAccess",e=>e.name])}.${Tt([l,"optionalAccess",e=>e.language])}`:"None Selected"),window.React.createElement("div",{className:"editor-header-buttons"},"js"==Tt([l,"optionalAccess",e=>e.language])&&window.React.createElement(u,{tooltipText:"Run",icon:n.Play.default,onClick:()=>{Ye("js")}}),window.React.createElement(u,{tooltipText:"New File",icon:n.Plus.default,onClick:()=>{let e="",t="js";p.openModal((n=>window.React.createElement(s,{...n,title:"New File",body:window.React.createElement("div",{className:"velocity-editor-modal-body"},window.React.createElement(Le,{tag:"h5"},"Name"),window.React.createElement(d,{style:{marginBottom:"10px"},onChange:t=>{e=t},placeholder:"Name"}),window.React.createElement(Le,{tag:"h5"},"Language"),window.React.createElement(d,{onChange:e=>{t=e},placeholder:"js/css"})),onConfirm:()=>{e&&["js","css"].includes(t)&&(Bt.push({name:e,language:t,content:""}),i(Bt.length-1),window.editor.setValue(Tt([l,"optionalAccess",e=>e.content])||""),Ft.editor.setModelLanguage(window.editor.getModel(),"js"==Tt([l,"optionalAccess",e=>e.language])?"javascript":"css"),l=Lt.editorTabs[a])}})))}}),window.React.createElement(u,{tooltipText:"Options",icon:n.Gear.default,onClick:()=>{let e=l.name;p.openModal((t=>window.React.createElement(s,{...t,title:"Options",body:window.React.createElement("div",{className:"velocity-editor-modal-body"},window.React.createElement(Le,{tag:"h5"},"Name"),window.React.createElement(d,{onChange:t=>{e=t},placeholder:"Name"})),onConfirm:()=>{e&&(Bt.splice(a,1,{name:e,language:Tt([l,"optionalAccess",e=>e.language]),content:Tt([l,"optionalAccess",e=>e.content])}),i(Bt.findIndex((t=>t.name==e))),window.editor.setValue(Tt([l,"optionalAccess",e=>e.content])||""),Ft.editor.setModelLanguage(window.editor.getModel(),"js"==Tt([l,"optionalAccess",e=>e.language])?"javascript":"css"),l=Lt.editorTabs[a])}})))}}),window.React.createElement(u,{tooltipText:"Delete File",icon:n.Trash.default,onClick:()=>{Bt.activeFilter(((e,t)=>t!==a)),i(0)}}))),window.React.createElement("div",{className:"editor-body"},window.React.createElement("div",{className:"editor-sidebar"},c.map(((e,t)=>window.React.createElement("div",{key:t,className:"editor-sidebar-tab "+(t==a?"active":""),onClick:()=>{i(t),editor.setValue(e.content),Ft.editor.setModelLanguage(window.editor.getModel(),"js"==Tt([l,"optionalAccess",e=>e.language])?"javascript":"css"),l=Lt.editorTabs[a]}},Tt([e,"optionalAccess",e=>e.name]),".",Tt([e,"optionalAccess",e=>e.language]))))),window.React.createElement("div",{id:"editor-container"})))};const{WebpackModules:Ht}=Se;l("empty-state",{".velocity-empty-state-huge > div:first-child":{height:"186px"},".velocity-empty-state-tiny > div:first-child":{height:"60px"}});var zt=e=>{const{Components:t}=Ht.common,n=t.EmptyState.default,{artURL:o="",header:a="",description:i="",size:c="huge",CTAAction:r,CTALabel:l}=e;return window.React.createElement(n,{className:`velocity-empty-state-${c}`,size:c,artURL:o,header:a,description:i,onCTAClick:r,callToAction:l})},Wt="velocity:handle-kill";const qt=W("config"),Ut=(e,t)=>{c.style.setProperty(e,t)},Zt=(e,t)=>{let n=[];switch(typeof t){case"string":e.map((e=>{e.name&&e.description&&e.author&&(e.name.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())||e.author.name.toLowerCase().includes(t.toLowerCase()))&&n.push(e)}));break;case"object":e.map((e=>{e.name&&e.description&&e.author&&(e.name.toLowerCase().includes(t.target.value.toLowerCase())||e.description.toLowerCase().includes(t.target.value.toLowerCase())||e.author.name.toLowerCase().includes(t.target.value.toLowerCase()))&&n.push(e)}))}return n};function Yt(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{ipcRenderer:Gt}=VelocityCore.pseudoRequire("unsafe:electron");new d("Settings");const Jt=W("config");var Kt={get websockets(){return DiscordNative.nativeModules.requireModule("discord_rpc").RPCWebSocket.ws},init(){this.socket=new this.websockets.Server({port:1842}),this.socket.on("connection",(e=>{const t=$({title:"New Socket Connection",content:"A new socket connection has been established.",buttons:[{label:"Okay",action:()=>{t()}},{label:"Disconnect",color:"RED",action:()=>{e.close(),t()}}]});e.on("message",(t=>{switch(t){case"velocity:get-client-data":e.send("velocity:data"+JSON.stringify({platform:DiscordNative.process.platform,version:DiscordNative.app.getVersion(),channel:DiscordNative.app.getReleaseChannel()}));break;case"velocity:reload":location.reload();break;case"velocity:relaunch":DiscordNative.app.relaunch()}}))}))}};const Xt=W("config"),Qt=new d("Renderer");(async()=>{const e=Date.now();Qt.log("Initialising..."),await x.globalPromise,window.Velocity=Se,Object.freeze(window.Velocity),Qt.log(`API Added in ${Date.now()-e}ms`),window.DiscordSentry&&Xt.KillSentry&&(window.DiscordSentry.getCurrentHub().getClient().close(),Qt.log("Killed Sentry")),Xt.StopWarnings&&(DiscordNative.window.setDevtoolsCallbacks(null,null),Qt.log("Disabled Devtools Warnings")),Kt.init(),Qt.log("Socket Initialised"),(()=>{const e=Z.hexToHSL(Z.intToHex(qt.NotificationBackground||1644828));c.style.setProperty("--velocity-notification-background",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, var(--velocity-notification-transparency,  100%))`),c.style.setProperty("--velocity-notification-transparency",qt.NotificationTransparency?`${qt.NotificationTransparency}%`:"100%"),c.style.setProperty("--velocity-notification-blur",qt.NotificationBlur?`${qt.NotificationBlur}px`:"0px")})(),Qt.log("Variables Added"),(async()=>{const{WebpackModules:e}=Se,t=new Se.Patcher("VelocityInternal_Settings"),n=await e.waitFor((e=>Yt([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.getPredicateSections]))),o=(await e.waitFor((e=>Yt([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("this.tabBar")])))).default;t.after(n.default.prototype,"getPredicateSections",((t,n)=>{let o=n.findIndex((e=>"discord nitro"==e.section.toLowerCase()))-2;if(o<0)return;const a=e=>{n.splice(o,0,e),o++},{Components:i}=e.common,c=i.ModalElements.ModalRoot,r=i.FormDivider.default,l=i.ButtonModules,s=i.FormItem.default,d=i.FormText.default,u=i.ModalActions;a({section:"DIVIDER"}),a({section:"HEADER",label:"Velocity"}),a({section:"settings",label:"Settings",className:"velocity-settings-tab",element:()=>[window.React.createElement(He,{title:"Settings"},window.React.createElement(We,{title:"General"},window.React.createElement(Oe,{name:"Stop DevTools Warnings",note:"Stops Discord from showing warnings when you open devtools.",setting:"StopWarnings"}),window.React.createElement(Oe,{name:"Kill Sentry",note:"Kills Sentry, a tool used by Discord to track your client.",setting:"KillSentry"}),window.React.createElement(Oe,{name:"Developer Mode",note:"Adds a settings tab with utilities for development.",setting:"DeveloperTab"})),window.React.createElement(We,{title:"Window"},window.React.createElement(Oe,{name:"Transparency",note:"Makes the window transparent.",setting:"Transparency"}),window.React.createElement(Oe,{name:"MacOS Vibrancy",note:"Makes the window have a vibrancy effect on MacOS.",setting:"Vibrancy"})),window.React.createElement(We,{title:"Notifications"},window.React.createElement(ge,null,window.React.createElement(l.default,{onClick:()=>{const e=$({title:"Notification",content:"This is a test notification",buttons:[{label:"Button",action:()=>{T("Toast")}},{label:"Dangerous Button",color:"RED",action:()=>{e()}}]})},style:{marginBlock:"10px"}},"Open Preview Notification")),window.React.createElement(Pe,{defaultColor:Number(Z.getVariable("background-floating","hex").replace("#","0x"))||1579292,name:"Background Color",note:"The background color of notifications",setting:"NotificationBackground",action:e=>{const t=Z.hexToHSL(Z.intToHex(e));Ut("--velocity-notification-background",`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, var(--velocity-notification-transparency,  100%))`)}}),window.React.createElement(Ie,{name:"Background Opacity",note:"The opacity of the notification background",setting:"NotificationTransparency",action:e=>{Ut("--velocity-notification-transparency",`${e}%`)},units:"%"}),window.React.createElement(Ie,{name:"Background Blur",note:"The blur of the notification background",setting:"NotificationBlur",action:e=>{Ut("--velocity-notification-blur",`${Math.round(e)}px`)},maxValue:20,units:"px"})))]}),a({section:"plugins",label:"Plugins",className:"velocity-plugins-tab",element:()=>{const[e,t]=React.useState(ie.plugins),[n,o]=React.useState(""),[a,i]=React.useState(!1);return React.useEffect((()=>{const e=e=>{t(e),i(!a)};return ie.plugins.addListener(e),()=>{ie.plugins._removeListener(e)}})),[window.React.createElement(He,{title:"Plugins"},window.React.createElement(Te,{type:"plugins",onSearch:o}),Zt(e,n).length?Zt(e,n).map((e=>window.React.createElement(Ve,{...e}))):window.React.createElement(zt,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any plugins",description:"Make sure they're installed and your search is correct"}))]}}),a({section:"themes",label:"Themes",className:"velocity-themes-tab",element:()=>{const[e,t]=React.useState(ie.themes),[n,o]=React.useState(""),[a,i]=React.useState(!1);return React.useEffect((()=>{const e=e=>{t(e),i(!a)};return ie.themes.addListener(e),()=>{ie.themes._removeListener(e)}})),[window.React.createElement(He,{title:"Themes"},window.React.createElement(Te,{type:"themes",onSearch:o}),Zt(e,n).length?Zt(e,n).map((e=>window.React.createElement(Ve,{...e}))):window.React.createElement(zt,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any themes",description:"Make sure they're installed and your search is correct"}))]}}),a({section:"snippets",label:"Snippets",className:"velocity-snippets-tab",element:()=>window.React.createElement(He,{title:"Snippets"},window.React.createElement(Vt,null))}),Jt.DeveloperTab&&a({section:"developer",label:"Developer",className:"velocity-developer-tab",element:()=>{const[e,t]=React.useState(""),[n,o]=React.useState("");return window.React.createElement(He,{title:"Developer"},window.React.createElement(s,null,window.React.createElement(We,{title:"Developer Tools",collapsable:!1},window.React.createElement(d,{style:{marginBlock:"8px 20px"}},"A collection of utilities for you to use in development."),window.React.createElement(r,{style:{marginBottom:"20px"}}),window.React.createElement(ge,null,window.React.createElement(l.default,{color:l.ButtonColors.RED,onClick:()=>{Gt.invoke(Wt)}},"Kill Process"),window.React.createElement(l.default,{onClick:()=>{u.openModal(window.React.createElement(c,{children:{}}))}},"React Crash")),window.React.createElement(r,{style:{marginBlock:"20px"}})),window.React.createElement(We,{title:"Velocity Components"},window.React.createElement(he,null,window.React.createElement(A,{title:"Notification Title",color:n,buttons:[{label:"Change Color",action:()=>{""===n?o("error"):"error"===n?o("success"):"success"===n?o("warning"):"warning"===n?o("velocity"):"velocity"===n&&o("")}},{label:"Change Toast Color",action:()=>{""===e?t("error"):"error"===e?t("success"):"success"===e?t("warning"):"warning"===e?t("velocity"):"velocity"===e&&t("")}}],id:"velocity-notification-9999"},"Notification Content")),window.React.createElement(he,null,window.React.createElement(k,{color:e},"Toast Content")))))}})})),t.after(o.prototype,"render",((t,n)=>{const o=n.props.children;if(!o||!o.length||o.length<3)return;if(!o[o.length-3].type.toString().includes("separator"))return;if(!o[o.length-2].type.toString().includes("socialLinks"))return;const a=e.find(["versionHash"]),i=e.common.Components.Text.default,c=o[o.length-1].type;o[o.length-1].type=function(){const e=c(...arguments);return e.props.children.splice(1,0,window.React.createElement("span",{className:`${i.Colors.MUTED} ${i.Sizes.SIZE_12} ${a.line}`},"Velocity ",VelocityCore.Meta.version,window.React.createElement("span",{className:a.versionHash}," (",VelocityCore.Meta.hash,")"))),e}}))})(),Qt.log("Settings Added"),await(async e=>{let t;for(;!(t=e());)await u(1);return t})((()=>x.common.React)),Qt.log("React Loaded"),x.remapDefaults(),de(),pe(),Qt.log("Plugins & Themes Initialised"),Ye(),Qt.log("Snippets Run"),x.remapDefaults()})();
