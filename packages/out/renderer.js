"use strict";const e=document.createElement("velocity-head"),t=document.createElement("velocity-component-styles"),n=document.createElement("velocity-themes"),o=document.createElement("velocity-snippets"),a=document.createElement("velocity-toasts"),i=document.createElement("velocity-notifications"),c=document.createElement("velocity-body");new Promise((e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})).then((()=>{document.head.appendChild(e),document.body.appendChild(c),e.appendChild(t),e.appendChild(n),e.appendChild(o),c.appendChild(i),c.appendChild(a)}));const r=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),l=(e,n)=>{let o=document.createElement("style");o.setAttribute("id",`velocity-component-${e}-style`);for(const e in n){let t="";for(const o in n[e])t+=`${r(o)}: ${n[e][o]};`;o.innerHTML+=`${e} { ${t} }`}t.appendChild(o)};var s,d=s=class{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this.title=e,this.logs=[]}__init(){this._print=(e,...t)=>{switch(e){case"log":console.log(`%cVelocity %c ${this.title} %c`,"background: #5B88FC; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #5B88FC; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t);break;case"warn":console.warn(`%cVelocity %c ${this.title} %c`,"background: #FFC107; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #FFC107; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t);break;case"error":console.error(`%cVelocity %c ${this.title} %c`,"background: #F44336; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica; margin-right: 5px","background: #F44336; font-weight: 600; padding: 4px 6px; border-radius: 4px; color: white; font-family: Helvetica","",...t)}}}__init2(){this.log=(e,...t)=>{this._print("log",e,...t),this.logs.push(t)}}__init3(){this.warn=(e,...t)=>{this._print("warn",e,...t),this.logs.push(t)}}__init4(){this.error=(e,...t)=>{this._print("error",e,...t),this.logs.push(t)}}};const u=e=>new Promise((t=>setTimeout(t,e))),p=async e=>{let t;for(;!(t=e());)await u(1);return t};function m(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const f=new d("Webpack"),h="webpackChunkdiscord_app",g=new Promise((async e=>{for(;!window[h];)await u(1);e()})),y={byDisplayName:e=>t=>m([t,"access",e=>e.default,"optionalAccess",e=>e.displayName])===e,byProps:(...e)=>t=>{if(e.every((e=>void 0!==t[e])))return!0;return!!e.every((e=>void 0!==m([t,"access",e=>e.default,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.Z,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.ZP,"optionalAccess",t=>t[e]])))||void 0},byPrototypeFields:e=>t=>{if(e.every((e=>void 0!==m([t,"access",e=>e.prototype,"optionalAccess",t=>t[e]]))))return!0;return!!e.every((e=>void 0!==m([t,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.Z,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])||void 0!==m([t,"access",e=>e.ZP,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e]])))||void 0},byStrings:(...e)=>t=>{Object.keys(t).forEach((n=>e.every((e=>t[n].toString().includes(e)))))},byPrototypeStrings:(e,...t)=>n=>{if(t.every((t=>m([n,"access",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)]))))return!0;return!!t.every((t=>m([n,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])||m([n,"access",e=>e.Z,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])||m([n,"access",e=>e.ZP,"optionalAccess",e=>e.prototype,"optionalAccess",t=>t[e],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e(t)])))||void 0},byAllPrototypeStrings:(...e)=>t=>{Object.keys(t.prototype).forEach((n=>e.every((e=>m([t,"access",e=>e.prototype,"optionalAccess",e=>e[n],"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",t=>t(e)])))))}};let w;const v=()=>w||(w=window[h].push([[Symbol("Velocity")],{},e=>e]),w),b=[],C=()=>{const e=v();let t=0;for(const n in e.c){if(b.includes(n))continue;if(!Object.hasOwnProperty.call(e.c,n))return;let o=e.c[n].exports;o&&(o.default||(["Z","ZP"].forEach((e=>{o[e]&&(o.default=o[e],t++)})),b.push(n)))}f.log(`Remapped ${t} default exports`)},R=(e,t=!1)=>{let n=!1;switch(typeof e){case"string":e=y.byDisplayName(e);break;case"object":Array.isArray(e)&&(e=y.byProps(...e))}const o=v();let a=[];for(let t in o.c){if(!Object.hasOwnProperty.call(o.c,t))return;let i=o.c[t].exports;if(i!==window&&i){!i.Z&&!i.ZP||i.default||C();try{e(i)&&a.push(i)}catch(e){n=e}}}return n&&f.warn("Filter threw an error:",n),t?a:a[0]},x=async(e,t=!1)=>{for(;!v();)await u(1);for(;!R(e,t);)await u(1);return R(e,t)};let E={};g.then((async()=>{const e=await x((e=>{for(const t of Object.keys(e))if(m([e,"access",e=>e[t],"optionalAccess",e=>e.DYNAMIC]))return!0})),t=await x((e=>{for(const t of Object.keys(e))if(e[t]&&"function"==typeof e[t].toString&&e[t].toString().includes("onCloseCallback()"))return!0})),n=await x((e=>{for(const t of Object.keys(e))if(e[t]&&"function"==typeof e[t].toString&&e[t].toString().includes("borderColor")&&e[t].toString().includes("e.grow"))return!0})),o=await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("customColor")]))),a={};R((e=>{let t=!1;for(const n of Object.values(e))"function"==typeof n&&(n.toString().includes("CONTEXT_MENU_CLOSE")?(a.closeContextMenu=n,t=!0):t&&n.toString().includes("renderLazy")&&(a.openContextMenu=n,t=!0));return t})),E={Dispatcher:(await x(["dispatch","isDispatching"])).default,React:await x(["createElement","useEffect"]),ReactDOM:await x(["render","hydrate"]),Stores:{MessageStore:(await x(["getMessage","getMessages"])).default,SelectedGuildStore:(await x(["getLastSelectedGuildId"])).default,SelectedChannelStore:(await x(["getLastSelectedChannelId"])).default,UserStore:(await x(["getCurrentUser"])).default,RelationshipStore:(await x(["isBlocked"])).default,GuildStore:(await x(["getGuild"])).default,GuildMemberStore:(await x(["getMember"])).default,ChannelStore:(await x(["hasChannel"])).default,InviteStore:(await x(["getInvites"])).default},Components:{FormItem:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("titleClassName")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("style")]))),FormText:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.Sizes,"optionalAccess",e=>e.SIZE_32])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.Colors]))),FormDivider:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("().divider")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("style")]))),SwitchItem:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("helpdeskArticleId")]))),Popout:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("shouldShowPopout")]))),ConfirmModal:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("confirmText")]))),TextInput:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("inputClassName")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("inputPrefix")]))),TextForm:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("minLength")]))),TooltipContainer:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("shouldShowTooltip")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.Positions]))),ButtonModules:{_ButtonModules:n,default:Object.values(n).find((e=>e.toString().includes("borderColor")&&e.toString().includes("e.grow"))),ButtonColors:Object.values(n).find((e=>e.BRAND_NEW)),ButtonLooks:Object.values(n).find((e=>e.FILLED)),ButtonSizes:Object.values(n).find((e=>e.TINY))},ColorPickerModules:{_ColorPickerModules:o,default:o.default,CustomColorPicker:Object.values(o).find((e=>e.toString().includes("handleHexChange"))),CustomColorButton:Object.values(o).find((e=>m([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("customColor")])&&m([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("isCustom")]))),DefaultColorButton:Object.values(o).find((e=>m([e,"access",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("isDefault")])))},Slider:await x(y.byPrototypeFields(["renderMark"])),PanelButton:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("onContextMenu")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("tooltipText")]))),Switch:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("PRIMARY_DARK_400")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("STATUS_GREEN_600")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("checkbox")]))),Anchor:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.contextType])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.defaultProps])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.renderNonInteractive]))),Markdown:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.rules])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.defaultProps,"optionalAccess",e=>e.parser]))),Text:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.Sizes,"optionalAccess",e=>e.SIZE_10]))),ModalElements:{_ModalElements:e,ModalHeader:Object.values(e).find((e=>e.toString().includes("wrap")&&e.toString().includes("header"))),ModalFooter:Object.values(e).find((e=>e.toString().includes("wrap")&&e.toString().includes("footer"))),ModalRoot:Object.values(e).find((e=>e.toString().includes("size")&&e.toString().includes("dialog")))},ModalActions:{_ModalActions:t,openModal:Object.values(t).find((e=>m([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("onCloseCallback")])&&m([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("Layer")]))),closeModal:Object.values(t).find((e=>m([e,"optionalAccess",e=>e.toString,"call",e=>e(),"optionalAccess",e=>e.includes,"call",e=>e("onCloseCallback()")])))},EmptyState:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("onCTAClick")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("description")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("artURL")])&&!m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("stream")]))),Alert:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("title")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("body")])&&m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("secondaryConfirmText")]))),ContextMenuActions:a,ContextMenuClasses:await x(["menu","styleFlexible"])},Constants:{},Icons:{Pin:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M19 3H4.99C3.88 3 3.01 3.89 3.01 5L3")]))),Gear:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M14 7V9C14 9 12.5867 9 12.5733 9.00667C12.42 9.58667 12.1733 10.1267 11.84 10.6067L12.74 11.5067L11")]))),Plus:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("15 10 10 10 10 15 8 15 8 1")]))),Pencil:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M19.2929 9.8299L19.9409 9.18278C21.353")]))),Play:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("0 0 0 14 11 7")]))),Trash:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M15 3.999V2H9V3.999H3V5.999H21V3.999H15Z")]))),Rocket:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M4.92871 13.4149L10.5857 19.0709L18.363")]))),Link:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.0")]))),PersonAdd:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M6.5 8.00667C7.88 8.00667 9 6.88667 9 5.50667C9 4.12667 7.88 3.00667 6.5 3.00667C5.12 3.00667 4 4.12667 4 5.50667C4 6.88667 5.12 8.00667")]))),Upload:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v")]))),Search:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M21.707 20.293L16.314 14.9C17.403 13.504 18 11.79")]))),Folder:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M20 7H12L10.553 5.106C10.214 4.428 9")]))),Retry:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M12 2C6.485 2 2 6.485 2 12H5.33333C5.33333 8.32")]))),Overflow:await x((e=>m([e,"access",e=>e.default,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("M7 12.001C7 10.8964 6.10457 10.001 5 10.001C3.89543 10.001 3 10.8964")])))},Classes:{Anchor:await x(["anchorUnderlineOnHover"]),ContextMenu:await x(["menu","styleFlexible"])}}}));var S={chunkName:h,Filters:y,globalPromise:g,findModule:R,waitFor:x,remapDefaults:C,find:R,findByDisplayName:e=>R(y.byDisplayName(e)),findByProps:(...e)=>R(y.byProps(...e)),findByPrototypes:(...e)=>R(y.byPrototypeFields(e)),get __ORIGINAL_CHUNKS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return window[h]},get summon(){return w},get common(){return E}};const{spring:A}=VelocityCore.pseudoRequire("unsafe:react-flip-toolkit");l("notification",{".velocity-notification":{backgroundColor:"var(--velocity-notification-background, var(--background-floating))",borderRadius:"5px",padding:"15px",color:"var(--header-primary)",backdropFilter:"blur(var(--velocity-notification-blur))",zIndex:"1",maxWidth:"325px",width:"fit-content",borderLeft:"5px solid #fff",transition:"all 0.2s ease",pointerEvents:"all"},".velocity-notification.color-velocity":{borderColor:"#5B88FC"},".velocity-notification.color-success":{borderColor:"#43B581"},".velocity-notification.color-error":{borderColor:"#F04747"},".velocity-notification.color-warning":{borderColor:"#FAA61A"},".notification-title":{fontSize:"16px",fontWeight:"600",display:"flex",justifyContent:"space-between",alignItems:"center"},".notification-close":{cursor:"pointer",fontSize:"16px",backgroundColor:"transparent",border:"none",color:"var(--interactive-normal)",transition:"color 0.2s ease"},".notification-close:hover":{color:"var(--interactive-hover)"},".notification-content":{fontSize:"14px",marginTop:"5px",color:"var(--header-secondary)",overflow:"hidden",textOverflow:"ellipsis"},".notification-buttons":{display:"grid",marginTop:"10px",gap:"5px",gridTemplateColumns:"repeat(var(--buttons, 1), 1fr )"}});var k=e=>{const{title:t,color:n,children:o,buttons:a,id:i}=e,c=S.common.Components.ButtonModules.default,r=S.common.Components.ButtonModules.ButtonColors,l=S.common.Components.ButtonModules.ButtonSizes;return window.React.createElement("div",{className:`velocity-notification color-${n}`},window.React.createElement("div",{className:"notification-title"},t,window.React.createElement("button",{className:"notification-close",onClick:()=>{const e=document.getElementById(`velocity-notification-${i}`);A({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:t,opacity:n})=>{e.style.opacity=n,e.style.transform=`translateY(${t}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${i}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(e),e.remove()}})}},window.React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},window.React.createElement("path",{fill:"currentColor",d:"M18.4 4L12 10.4L5.6 4L4 5.6L10.4 12L4 18.4L5.6 20L12 13.6L18.4 20L20 18.4L13.6 12L20 5.6L18.4 4Z"})))),window.React.createElement("div",{className:"notification-content"},o),a.length?window.React.createElement("div",{className:"notification-buttons",style:{"--buttons":a.length}},a.map((e=>window.React.createElement(c,{size:l.TINY,color:r[e.color]||r.BRAND,onClick:e.action,disabled:e.disabled},e.label)))):null)};l("toast",{".velocity-toast":{backgroundColor:"var(--background-floating)",borderRadius:"5px",padding:"10px 15px",color:"var(--header-primary)",zIndex:"1",fontSize:"16px",fontWeight:"500",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"all",width:"fit-content"},".velocity-toast.color-velocity":{backgroundColor:"#5B88FC"},".velocity-toast.color-success":{backgroundColor:"#43B581"},".velocity-toast.color-error":{backgroundColor:"#F04747"},".velocity-toast.color-warning":{backgroundColor:"#FAA61A"}});var j=e=>{const{children:t,color:n}=e;return window.React.createElement("div",{className:`velocity-toast color-${n}`},t)};const{spring:M}=VelocityCore.pseudoRequire("unsafe:react-flip-toolkit");l("notifications",{"velocity-notifications":{position:"fixed",right:"15px",top:"15px",zIndex:"3000",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"10px",transition:"all 0.2s ease",pointerEvents:"none"},"velocity-toasts":{position:"fixed",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center",marginTop:"15px",width:"100%",zIndex:"3000",pointerEvents:"none",transition:"all 0.2s ease",pointerEvents:"none"}});let N=0;const T=(e={})=>{const{title:t="",content:n="",buttons:o=[],type:a=""}=e;N++;const c=N,r=document.createElement("div");return r.classList.add("velocity-notification-container"),r.setAttribute("id",`velocity-notification-${c}`),i.appendChild(r),ReactDOM.render(window.React.createElement(k,{id:c,color:a,title:t,buttons:o},n),r),r.style.opacity=0,M({config:"noWobble",values:{translateY:[-15,0],opacity:[0,1]},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${c}`)),onUpdate:({translateY:e,opacity:t})=>{r.style.opacity=t,r.style.transform=`translateY(${e}px)`}}),()=>{const e=document.getElementById(`velocity-notification-${c}`);M({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:t,opacity:n})=>{e.style.opacity=n,e.style.transform=`translateY(${t}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-notification-container")).findIndex((e=>e.id==`velocity-notification-${c}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(e),e.remove()}})}};let $=0;const L=(e,t={})=>{const{type:n="",timeout:o=1200}=t;$++;const i=document.createElement("div");i.setAttribute("id",`velocity-toast-${$}`),i.classList.add("velocity-toast-container"),a.appendChild(i),ReactDOM.render(window.React.createElement(j,{id:$,color:n},e),i),i.style.opacity=0,M({config:"noWobble",values:{translateY:[-15,0],opacity:[0,1]},delay:35*Array.from(document.querySelectorAll(".velocity-toast-container")).findIndex((e=>e.id==`velocity-toast-${$}`)),onUpdate:({translateY:e,opacity:t})=>{i.style.opacity=t,i.style.transform=`translateY(${e}px)`}}),setTimeout((()=>{M({config:"noWobble",values:{translateY:[0,-15],opacity:[1,0]},onUpdate:({translateY:e,opacity:t})=>{i.style.opacity=t,i.style.transform=`translateY(${e}px)`},delay:35*Array.from(document.querySelectorAll(".velocity-toast-container")).findIndex((e=>e.id==`velocity-toast-${$}`)),onComplete:()=>{ReactDOM.unmountComponentAtNode(i),i.remove()}})}),o)},P=(e={})=>{const{Components:t}=S.common,{danger:n,title:o="",content:a="",confirmText:i="Confirm",cancelText:c="Cancel",onConfirm:r=(()=>{}),onCancel:l=(()=>{})}=e;let s=a;const d=t.ConfirmModal.default,u=t.Markdown.default,p=t.ModalActions,m=t.ButtonModules.ButtonColors;return Array.isArray(s)||(s=[a]),s=s.map((e=>"string"==typeof e?window.React.createElement(u,null,e):e)),p.openModal((e=>window.React.createElement(d,{...e,header:o,confirmText:i,cancelText:c,onConfirm:r,onCancel:l,confirmButtonColor:n?m.RED:m.BRAND},s)))},O=new d("Datastore"),D=VelocityCore.pseudoRequire("node:fs"),I=VelocityCore.pseudoRequire("node:path"),_=VelocityCore.baseDir,V=()=>{D.existsSync(F)||D.mkdirSync(F)},F=I.join(_,"data"),B=e=>{V();try{return D.existsSync(I.join(F,`${e}.json`))?JSON.parse(D.readFileSync(I.join(F,`${e}.json`),"utf8")):{}}catch(e){O.error(e)}},U=(e,t)=>{V();try{return B(e)[t]||null}catch(e){O.error(e)}},H=(e,t,n)=>{V();try{const o=B(e);o[t]=n,D.writeFileSync(I.join(F,`${e}.json`),JSON.stringify(o))}catch(e){O.error(e)}},W=(e,t)=>{V();try{const n=B(e);delete n[t],D.writeFile(I.join(F,`${e}.json`),JSON.stringify(n))}catch(e){O.error(e)}},z={},q=e=>{let t;return z[e]?t=z[e]:(t=B(e),z[e]=t),new Proxy(t,{get:(n,o)=>t[o]||U(e,o),set:(n,o,a)=>(t[o]=a,H(e,o,a),!0),deleteProperty:(n,o)=>(t[o]=void 0,W(e,o),!0)})};var Z=Object.freeze({__proto__:null,dir:F,getAllData:B,getData:U,setData:H,deleteData:W,Stream:q});class Y extends Array{constructor(...e){super(...e),this._listeners=[]}addListener(e){return this._listeners.push(e),()=>this._removeListener(e)}_removeListener(e){this._listeners=this._listeners.filter((t=>t!==e))}_notifyListeners(){this._listeners.forEach((e=>e(this)))}push(...e){const t=super.push(...e);return this._notifyListeners(),t}pop(){const e=super.pop();return this._notifyListeners(),e}shift(){const e=super.shift();return this._notifyListeners(),e}unshift(...e){const t=super.unshift(...e);return this._notifyListeners(),t}splice(...e){const t=super.splice(...e);return this._notifyListeners(),t}sort(...e){const t=super.sort(...e);return this._notifyListeners(),t}filter(...e){const t=super.filter(...e);return this._notifyListeners(),t}activeFilter(...e){const t=super.filter(...e);return this.splice(0,this.length,...t),this._notifyListeners(),t}insertNew(e,t){let n=0;switch(t){case"object":n=this.findIndex((t=>t[0]===e[0]));break;case"string":n=this.findIndex((t=>t===e))}return this._notifyListeners(),n?(this.splice(n,0,e),this.push(e)):this.push(e)}}var G={intToHex(e){const t=e.toString(16);return`#${6!==t.length?"0".repeat(6-t.length)+t:t}`},hexToRGB(e){const[t,n,o]=e.match(/\w\w/g).map((e=>parseInt(e,16)));return[t,n,o]},rgbToHSL(e){const{r:t,g:n,b:o}=e,a=t/255,i=n/255,c=o/255;let r=Math.max(a,i,c),l=Math.min(a,i,c),s=(r+l)/2,d=s,u=s;if(r===l)return[0,0,u];const p=r-l;switch(d=u>=.5?p/(2-(r+l)):p/(r+l),r){case a:s=60*((i-c)/p+0);break;case i:s=60*((c-a)/p+2);break;case c:s=60*((a-i)/p+4)}return[Math.round(s),Math.round(100*d),Math.round(100*u)]},hexToHSL(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16)/255,o=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255,i=Math.max(n,o,a),c=Math.min(n,o,a);let r=(i+c)/2,l=r,s=r;if(i===c)return[0,0,s];const d=i-c;switch(l=s>.5?d/(2-i-c):d/(i+c),i){case n:r=(o-a)/d+(o<a?6:0);break;case o:r=(a-n)/d+2;break;case a:r=(n-o)/d+4}return r/=6,l*=100,l=Math.round(l),s*=100,s=Math.round(s),r=Math.round(360*r),[r,l,s]},rgbToHex(e){const{r:t,g:n,b:o}=e;return`#${((1<<24)+(t<<16)+(n<<8)+o).toString(16).slice(1)}`},hslToRGB(e){const t=e[0]/360,n=e[1]/100,o=e[2]/100;let a,i,c;if(0===n)a=i=c=o;else{const e=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),r=o<.5?o*(1+n):o+n-o*n,l=2*o-r;a=e(l,r,t+1/3),i=e(l,r,t),c=e(l,r,t-1/3)}return[Math.round(255*a),Math.round(255*i),Math.round(255*c)]},getType(e){const t=e.toLowerCase().trim();return t.startsWith("#")?"hex":t.startsWith("rgba")?"rgba":t.startsWith("rgb")?"rgb":t.startsWith("hsla")?"hsla":t.startsWith("hsl")?"hsl":"int"},getVariable(e,t){const n=document.documentElement,o=getComputedStyle(n).getPropertyValue(e.startsWith("--")?e:`--${e}`).trim();if(o.includes("calc"))return o;if(o.includes("var"))return o;const a=this.getType(o);switch(t){case"hex":if("hex"===a)return o;if("rgb"===a)return this.rgbToHex(o);if("hsl"===a)return this.rgbToHex(this.hslToRGB(o));break;case"rgb":if("rgb"===a)return o;if("hex"===a)return this.hexToRGB(o);if("hsl"===a)return this.hslToRGB(o);case"hsl":if("hsl"===a)return o;if("hex"===a)return this.rgbToHSL(this.hexToRGB(o));if("rgb"===a)return this.rgbToHSL(o);default:return o}return null},formatHex(e){switch(e.length){case 4:return`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`;case 7:return e;case 9:return e.substring(0,7);default:return null}},getRootVariables(e){const t=e.match(/:root,*[\s]*.*\{([^}]+)\}/);if(!t)return[];const n=t[1].match(/--[^:]+:[^;]+/g);return n?n.map((e=>{const[t,n]=e.split(":");return{name:t.trim(),value:n.trim()}})):[]}},J={formatName(e){const t=e.split(/[-_]/);for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")}};function K(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const X=new d("Addon Manager"),Q=VelocityCore.pseudoRequire("unsafe:sucrase"),ee=VelocityCore.pseudoRequire("node:fs"),te=VelocityCore.pseudoRequire("node:path"),ne=VelocityCore.pseudoRequire("unsafe:electron").shell,oe=VelocityCore.baseDir,ae=q("config"),ie=te.join(oe,"plugins"),ce=te.join(oe,"themes"),re={plugins:new Y,themes:new Y};let le=Array.isArray(ae.enabledPlugins)?new Y(...ae.enabledPlugins):new Y,se=Array.isArray(ae.enabledThemes)?new Y(...ae.enabledThemes):new Y;le.addListener((e=>{ae.enabledPlugins=[...e]})),se.addListener((e=>{ae.enabledThemes=[...e]}));const de=()=>{ee.existsSync(ie)||ee.mkdirSync(ie),ee.existsSync(ce)||ee.mkdirSync(ce)},ue=e=>e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),pe=()=>{de(),L("Reading Plugin Files",{type:"velocity"}),ee.readdir(ie,((e,t)=>{e&&X.error("Error reading plugin files",e);t.filter((e=>!e.includes("/")&&!e.includes("."))).forEach((e=>{if(!ee.existsSync(te.join(ie,e,"velocity_manifest.json")))return X.error(`Plugin ${e} does not have a manifest file!`);try{const t=JSON.parse(ee.readFileSync(te.join(ie,e,"velocity_manifest.json"),"utf8"));let n={name:t.name,description:t.description,version:t.version,author:t.author,license:t.license,filePath:te.join(ie,e),social:{invite:K([t,"access",e=>e.social,"optionalAccess",e=>e.invite]),website:K([t,"access",e=>e.social,"optionalAccess",e=>e.website]),github:K([t,"access",e=>e.social,"optionalAccess",e=>e.github]),donate:K([t,"access",e=>e.social,"optionalAccess",e=>e.donate])},main:t.main,updateURL:t.updateURL,_type:"Plugins"};const o=ee.readFileSync(te.join(ie,e,n.main),"utf8"),a=Q.transform(o,{transforms:["jsx"],jsxPragma:"Velocity.WebpackModules.common.React.createElement",jsxFragmentPragma:"Velocity.WebpackModules.common.React.Fragment",production:!0}).code,i=new Function("Velocity","module","VelocityCore",`${a}; return module.exports//# sourceURL=velocity://${n.name}.js`)(Velocity,{exports:{}},VelocityCore);n.instance=new i(n),re.plugins.insertNew(n),L(`Loaded ${n.name}`),me.isEnabled(n.name)&&(me.disable(n.name,!0),me.enable(n.name))}catch(t){X.error(`Error loading ${e}`,t),L(`Error loading ${e}`,{type:"error"})}}))}))},me={get dir(){return ie},get:e=>re.plugins.find((t=>t.name===e)),getAll:()=>re.plugins,isEnabled:e=>le.includes(e),getEnabled:()=>re.plugins.filter((e=>me.isEnabled(e.name))),enable:e=>{const t=re.plugins.find((t=>t.name===e));if(t){try{le.includes(t.name)||le.insertNew(t.name),t.instance.onStart(),L(`Enabled ${t.name}`,{type:"success"})}catch(e){X.error(`Error enabling plugin '${t.name}'.`,e),L(`Error enabling ${t.name}`,{type:"error"})}return!0}},disable:(e,t)=>{const n=re.plugins.find((t=>t.name===e));if(n){try{le.activeFilter((t=>t!==e)),n.instance.onStop(),t||L(`Disabled ${n.name}`,{type:"success"})}catch(e){X.error(`Error disabling plugin '${n.name}'.`,e),L(`Error disabling ${n.name}`,{type:"error"})}return!0}},unlink:e=>{const t=re.plugins.find((t=>t.name===e));if(t){try{me.disable(e,!0),re.plugins.activeFilter((t=>t.name!==e)),L(`Unlinked ${t.name}`,{type:"success"})}catch(e){X.error(`Error unlinking plugin '${t.name}'.`,e),L(`Error unlinking ${t.name}`,{type:"error"})}return!0}},delete:e=>{const t=re.plugins.find((t=>t.name===e));if(t){try{me.unlink(e),ee.rmSync(t.filePath,{recursive:!0}),L(`Deleted ${t.name}`,{type:"error"})}catch(e){X.error(`Error deleting plugin '${t.name}'.`,e),L(`Error deleting ${t.name}`,{type:"error"})}return!0}},toggle:e=>{me.isEnabled(e)?me.disable(e):me.enable(e)},openFolder:e=>{const t=re.plugins.find((t=>t.name===e));t&&ne.openPath(t.filePath)},openDir:()=>{ne.openPath(ie)},reload(){re.plugins.length=0,Velocity.AddonManager.Registry.plugins.length=0,pe()}},fe=()=>{de(),L("Reading Theme Files",{type:"velocity"}),ee.readdir(ce,((e,t)=>{e&&X.error("Error reading theme files",e);t.filter((e=>!e.includes("/")&&!e.includes("."))).forEach((e=>{if(!ee.existsSync(te.join(ce,e,"velocity_manifest.json")))return X.error(`Theme ${e} does not have a manifest file!`);try{const t=JSON.parse(ee.readFileSync(te.join(ce,e,"velocity_manifest.json"),"utf8"));let n={name:t.name,description:t.description,version:t.version,author:t.author,license:t.license,filePath:te.join(ce,e),social:{invite:K([t,"access",e=>e.social,"optionalAccess",e=>e.invite]),website:K([t,"access",e=>e.social,"optionalAccess",e=>e.website]),github:K([t,"access",e=>e.social,"optionalAccess",e=>e.github]),donate:K([t,"access",e=>e.social,"optionalAccess",e=>e.donate])},main:t.main,updateURL:t.updateURL,_type:"Themes"};const o=ee.readFileSync(te.join(ce,e,n.main),"utf8");n.code=o;const a=G.getRootVariables(o);a.length&&(n.instance={renderSettings:()=>a.map((e=>{const{name:t,value:n}=e;if(n.trim().startsWith("#"))try{return{default:Number(G.formatHex(n.trim()).replace("#","0x")),id:t.replace("--","").trim(),name:J.formatName(t.replace("--","").trim()),note:`#${n.trim().replace("#","")}`,type:"color",action:e=>{const n=G.formatHex(`#${e.toString(16)}`);document.body.style.setProperty(t,n)}}}catch(e){return null}return null})),settings:q(n.name)}),re.themes.insertNew(n),L(`Loaded ${n.name}`),he.isEnabled(n.name)&&(he.disable(n.name,!0),he.enable(n.name))}catch(t){X.error(`Error loading ${e}`,t),L(`Error loading ${e}`,{type:"error"})}}))}))},he={get dir(){return ce},get:e=>re.themes.find((t=>t.name===e)),getAll:()=>re.themes,isEnabled:e=>se.includes(e),getEnabled:()=>re.themes.filter((e=>he.isEnabled(e.name))),enable:e=>{const t=re.themes.find((t=>t.name===e));if(t){try{se.includes(t.name)||se.insertNew(t.name);const e=document.createElement("style");if(e.id=`velocity-theme-${ue(t.name)}`,e.innerHTML=t.code,n.appendChild(e),t.instance&&t.instance.settings)for(const[e,n]of Object.entries(B(t.name))){const t=G.formatHex(`#${n.toString(16)}`);document.body.style.setProperty(`--${e}`,t)}L(`Enabled ${t.name}`,{type:"success"})}catch(e){X.error(`Error enabling theme '${t.name}'.`,e),L(`Error enabling ${t.name}`,{type:"error"})}return!0}},disable:(e,t)=>{const n=re.themes.find((t=>t.name===e));if(n){try{se.activeFilter((t=>t!==e));const o=document.getElementById(`velocity-theme-${ue(n.name)}`);if(o&&o.remove(),n.instance&&n.instance.settings)for(let[e,t]of Object.entries(B(n.name)))document.body.style.removeProperty(`--${e}`);t||L(`Disabled ${n.name}`,{type:"success"})}catch(e){X.error(`Error disabling theme '${n.name}'.`,e),L(`Error disabling ${n.name}`,{type:"error"})}return!0}},unlink:e=>{const t=re.themes.find((t=>t.name===e));if(t){try{he.disable(e,!0),re.themes.activeFilter((t=>t.name!==e)),L(`Unlinked ${t.name}`,{type:"success"})}catch(e){X.error(`Error unlinking theme '${t.name}'.`,e),L(`Error unlinking ${t.name}`,{type:"error"})}return!0}},delete:e=>{const t=re.themes.find((t=>t.name===e));if(t){try{he.unlink(e),ee.rmSync(t.filePath,{recursive:!0}),L(`Deleted ${t.name}`,{type:"error"})}catch(e){X.error(`Error deleting theme '${t.name}'.`,e),L(`Error deleting ${t.name}`,{type:"error"})}return!0}},toggle:e=>{he.isEnabled(e)?he.disable(e):he.enable(e)},openFolder:e=>{const t=re.themes.find((t=>t.name===e));t&&ne.openPath(t.filePath)},openDir:()=>{ne.openPath(ce)},reload(){re.themes.length=0,Velocity.AddonManager.Registry.themes.length=0,fe()}};var ge=Object.freeze({__proto__:null,Registry:re,enabledPlugins:le,enabledThemes:se,initPlugins:pe,Plugins:me,initThemes:fe,Themes:he});const ye=VelocityCore.pseudoRequire("node:fs"),we=VelocityCore.pseudoRequire("node:path"),ve=new d("Addon Actions"),be=async e=>{if(!e)return L("Invalid URL",{type:"error"});const t=await(async e=>{let t,n,o;try{t=new URL(e.endsWith("/")?e:e+"/"),n=new URL("velocity_manifest.json",t)}catch(e){return L("Invalid URL",{type:"error"})}try{const e=JSON.parse(await VelocityCore.request(n.href));o={manifest:e,main:await VelocityCore.request(new URL(e.main,t).href)}}catch(e){ve.error("Failed to traverse addon paths:",e),L("Failed to traverse addon paths",{type:"error"})}return o})(e),n=t.manifest.main.endsWith(".js")?"Plugins":"Themes",o=we.join(ge[n].dir,t.manifest.name);if(ve.log(`Installing ${n.substring(0,n.length-1)} from ${e}`),ye.existsSync(o))return ve.error(`Addon already exists: '${t.manifest.name}'`),void L("Addon already exists",{type:"error"});if(ye.mkdirSync(o),ye.writeFileSync(we.join(o,"velocity_manifest.json"),JSON.stringify(t.manifest)),ye.writeFileSync(we.join(o,t.manifest.main),t.main),!t)return;const a=await(async(e,t)=>{const n=e.main.match(/require\("(.+)"\)/g);let o=[];if(n)for(const e of n){const n=e.match(/require\("(.+)"\)/)[1].replace(/\.\.\/plugins\/.*\//,""),a=new URL(n,t);o.push({url:a.href,path:n})}return o})(t,e);return a.forEach((async e=>{try{ye.writeFileSync(we.join(o,e.path),await VelocityCore.request(e.url))}catch(e){ve.error("Failed to install addon:",e),L(`Could not traverse imports for ${t.manifest.name}`,{type:"error"})}})),ve.log(`Installed ${t.manifest.name}`),L(`Installed ${t.manifest.name}`,{type:"success"}),!0};var Ce=Object.freeze({__proto__:null,injectCSS:(t,n)=>{let o=`velocity-style-${t.replace(/[^a-zA-Z0-9]/g,"-")}`;if(document.getElementById(o))return;let a=document.createElement("style");return a.id=o,a.innerHTML=n,e.appendChild(a),o},removeCSS:e=>{let t=`velocity-style-${e.replace(/[^a-zA-Z0-9]/g,"-")}`,n=document.getElementById(t);n&&n.remove()}});function Re(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}new d("Patcher");const xe=Symbol("Velocity.Patcher");let Ee={};function Se(e,t,n,o,a={}){let{method:i="after"}=a,c=t[n];if(c||(t[n]=()=>{},c=t[n]),i=i.toLowerCase(),"before"!==i&&"after"!==i&&"instead"!==i)throw new Error(`'${i}' is a invalid patch type`);let r=(l=Re([t,"optionalAccess",e=>e[n],"optionalAccess",e=>e[xe],"optionalAccess",e=>e.patches]),s=()=>({before:[],after:[],instead:[]}),null!=l?l:s());var l,s;let d=Symbol(),u={unpatch:m,patchName:e,moduleToPatch:t,functionToPatch:n,callback:o,method:i,Symbol:d};r[i].unshift(Object.assign(o,{unpatch:m,Symbol:d}));let p=!1;function m(o){p||(p=!0,r[i]=r[i].filter((e=>e.Symbol!==d)),Ee[e]=Ee[e].filter((e=>e.Symbol!==d)),0===r.before.length&&0===r.after.length&&0===r.instead.length&&(delete t[n][xe],delete t[n].unpatch))}return t[n][xe]||(t[n]=function(){for(const e of r.before)e([...arguments],this);let e=c;for(const t of r.instead)e=t([...arguments],e,this);let t=e.apply(this,[...arguments]);for(const e of r.after)e([...arguments],t,this);return t},t[n][xe]={original:c,module:t,function:n,patches:r,unpatchAll:()=>{for(const e of r.before)e.unpatch();for(const e of r.instead)e.unpatch();for(const e of r.after)e.unpatch();t[n]=c}},Object.assign(t[n],c,{toString:()=>c.toString()})),Ee[e]||(Ee[e]=[]),Ee[e].push({...u,unpatch:m}),m}S.globalPromise.then((async()=>{window.React=await S.waitFor(["createElement","useEffect"]),window.ReactDOM=await S.waitFor(["render","hydrate"])}));var Ae={Plugin:class{constructor(e){this.manifest=e,this.settings=B(e.name)}onStart(){}onStop(){}},Styling:Ce,Patcher:class{constructor(e){this.name=e}after(e,t,n){return Se(this.name,e,t,n,{method:"after"})}before(e,t,n){return Se(this.name,e,t,n,{method:"before"})}instead(e,t,n){return Se(this.name,e,t,n,{method:"instead"})}unpatchAll(){Re([Ee,"access",e=>e[this.name],"optionalAccess",e=>e.forEach,"call",e=>e((e=>e.unpatch()))])}},DataStore:Z,Logger:d,AddonManager:{...ge,installAddon:be},WebpackModules:S,Notifications:{showNotification:T,showToast:L,showConfirmationModal:P},Utilities:{waitUntil:p}};const ke=VelocityCore.pseudoRequire("node:original-fs"),je=VelocityCore.pseudoRequire("node:path"),Me=new d("Updater"),{Notifications:Ne}=Ae;l("button-container",{".velocity-button-container":{display:"flex",gap:"5px"}});var Te=e=>{const{children:t}=e;return window.React.createElement("div",{className:"velocity-button-container"},t)};l("component-preview",{".velocity-component-preview":{backgroundColor:"var(--background-secondary)",color:"var(--header-primary)",marginBlock:"8px 10px",padding:"20px",borderRadius:"5px",fontSize:"16px",fontWeight:"500",display:"flex",width:"100%",zIndex:"1"}});var $e=e=>{const{children:t}=e;return window.React.createElement("div",{className:"velocity-component-preview"},t)};const{WebpackModules:Le}=Ae;l("context-menu",{".velocity-context-menu":{flexDirection:"column"},".velocity-menu-item:hover":{backgroundColor:"var(--brand-experiment-560)",color:"#fff"},".velocity-menu-item .velocity-menu-checkbox":{color:"#fff"},".velocity-menu-item .velocity-menu-check":{color:"var(--brand-experiment-560)"}});const Pe=e=>{const{Components:t}=Le.common,n=t.ContextMenuClasses;return window.React.createElement("div",{className:`velocity-context-menu ${n.scroller} ${n.menu} ${n.styleFlexible}`},e.children)},Oe=e=>{const{Components:t}=Le.common,n=t.ContextMenuActions,o=t.ContextMenuClasses,{type:a,label:i,action:c,color:r,checked:l,disabled:s,onChange:d,icon:u}=e,[p,m]=React.useState(l);switch(a){case"separator":return window.React.createElement("div",{role:"separator",className:o.separator});case"check":return window.React.createElement("div",{role:"menuitem",className:`velocity-menu-item ${s?o.disabled:""} ${o.item} ${o.labelContainer} ${o[`color${r||"Default"}`]}`,onClick:e=>{!s&&c&&c(e),d&&d(!p),m(!p)}},window.React.createElement("div",{className:o.label},i),window.React.createElement("div",{className:o.iconContainer},window.React.createElement("svg",{className:o.icon,"aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},p?[window.React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.37499 3H18.625C19.9197 3 21.0056 4.08803 21 5.375V18.625C21 19.936 19.9359 21 18.625 21H5.37499C4.06518 21 3 19.936 3 18.625V5.375C3 4.06519 4.06518 3 5.37499 3Z",class:`velocity-menu-checkbox ${o.checkbox}`,fill:"currentColor"}),window.React.createElement("path",{d:"M9.58473 14.8636L6.04944 11.4051L4.50003 12.9978L9.58473 18L19.5 8.26174L17.9656 6.64795L9.58473 14.8636Z",className:`velocity-menu-check ${o.check}`,fill:"currentColor"})]:window.React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.625 3H5.375C4.06519 3 3 4.06519 3 5.375V18.625C3 19.936 4.06519 21 5.375 21H18.625C19.936 21 21 19.936 21 18.625V5.375C21.0057 4.08803 19.9197 3 18.625 3ZM19 19V5H4.99999V19H19Z",fill:"currentColor"}))));default:return window.React.createElement("div",{role:"menuitem",className:`velocity-menu-item ${s?o.disabled:""} ${o.item} ${o.labelContainer} ${o[`color${r||"Default"}`]}`,onClick:e=>{!s&&c&&c(e),n.closeContextMenu()}},window.React.createElement("div",{className:o.label},i),u&&window.React.createElement("div",{className:o.iconContainer},window.React.createElement("icon",{className:o.icon})))}},De=(e,t)=>{const{Components:n}=Le.common,o=n.ContextMenuActions,a=(e=>window.React.createElement(Pe,null,e.map((e=>window.React.createElement(Oe,{...e})))))(t);return o.openContextMenu(e,(()=>a)),a},{WebpackModules:Ie,AddonManager:_e}=Ae;l("addon-header",{".velocity-addon-header":{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"5px",marginBottom:"15px"},".addon-searchbar":{width:"100%",height:"32px",background:"var(--background-tertiary)",borderRadius:"4px",padding:"0 10px",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"10px"},".addon-searchbar input":{width:"100%",height:"100%",background:"transparent",border:"none",color:"var(--text-normal)",fontSize:"14px",fontWeight:"500"},".addon-searchbar svg":{width:"20px",height:"20px"},".addon-buttons":{display:"flex",alignItems:"center"}});var Ve=e=>{const{type:t,onSearch:n}=e,[o,a]=React.useState(""),i="plugins"===t?"Plugins":"Themes",{Components:c,Icons:r}=Ie.common,l=c.PanelButton.default;return window.React.createElement("div",{className:"velocity-addon-header"},window.React.createElement("div",{onContextMenu:e=>{De(e,[{label:"Install from URL",action:()=>{_e.installAddon(o)}}])},className:"addon-searchbar"},window.React.createElement("input",{onChange:e=>{a(e),n(e)},placeholder:"Search..."}),window.React.createElement(r.Search.default,null)),window.React.createElement("div",{className:"addon-buttons"},window.React.createElement(l,{tooltipText:`Open ${"themes"==t?"Theme":"Plugin"} Folder`,icon:r.Folder.default,onClick:()=>_e[i].openDir()}),window.React.createElement(l,{tooltipText:`Reload ${i}`,icon:r.Retry.default,onClick:()=>_e[i].reload()})))},Fe=e=>{const{children:t,tag:n,className:o,style:a}=e,i=S.find(["h1","title"]),c={style:a,className:`${i.defaultColor} ${i[n]} ${i[`defaultMargin${n}`]} ${o}`};switch(n){case"h1":default:return window.React.createElement("h1",{...c},t);case"h2":return window.React.createElement("h2",{...c},t);case"h3":return window.React.createElement("h3",{...c},t);case"h4":return window.React.createElement("h4",{...c},t);case"h5":return window.React.createElement("h5",{...c},t);case"h6":return window.React.createElement("h6",{...c},t)}};l("color-setting",{".velocity-color-setting":{display:"flex",justifyContent:"space-between"}});var Be=e=>{const{Components:t}=S.common,{default:n}=t.TooltipContainer,o=t.FormItem.default,a=t.FormText.default,i=t.ColorPickerModules,c=t.Popout.default,r=function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([i,"optionalAccess",e=>e.CustomColorButton,"access",e=>e.prototype,"access",e=>e.render,"access",e=>e.call,"call",e=>e({props:{}}),"access",e=>e.type]),{name:l,note:s,setting:d,action:u,defaultColor:p,palette:m=[],container:f="config"}=e,h=q(f),[g,y]=React.useState(h[d]),w=()=>window.React.createElement(i.CustomColorPicker,{value:g,onChange:e=>{"function"==typeof u&&u(e),h[d]=e,y(e)}});return window.React.createElement(o,{className:"velocity-color-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(Fe,{tag:"h3",style:{margin:"0"}},l),window.React.createElement(a,{type:"description"},s)),window.React.createElement(i.default,{className:"velocity-color-picker",value:g,colors:m,onChange:e=>{"function"==typeof u&&u(e),y(e),h[d]=e},renderDefaultButton:()=>window.React.createElement(n,{position:"bottom",text:"Default",children:e=>window.React.createElement(i.DefaultColorButton,{...e,color:p,onChange:()=>{"function"==typeof u&&u(p),y(p),h[d]=p}})}),renderCustomButton:()=>window.React.createElement(c,{renderPopout:w,animation:"translate",align:"center",position:"top",children:e=>window.React.createElement(n,{position:"bottom",text:"Pick a Color",children:t=>window.React.createElement("div",{...t,...e,className:"color-button"},window.React.createElement(r,{isCustom:!0,color:g}))})})}))},Ue=e=>{const{Components:t}=S.common,n=t.FormItem.default,o=t.SwitchItem.default,{name:a,note:i,setting:c,action:r,container:l="config"}=e,s=q(l),[d,u]=React.useState(s[c]);return window.React.createElement(n,{className:"velocity-switch-setting velocity-setting"},window.React.createElement(o,{note:i,value:d,onChange:e=>{"function"==typeof r&&r(e),s[c]=e,u(e)}},a))},He=e=>{const{Components:t}=S.common,n=t.FormItem.default,o=t.FormText.default,a=t.Slider.default,{name:i,note:c,setting:r,action:l,disabled:s=!1,minValue:d=0,maxValue:u=100,handleSize:p=10,units:m="",container:f="config",stickToMarkers:h}=e,g=q(f),[y,w]=React.useState(g[r]);let v=e=>`${Math.round(e)}`,b=e=>`${Math.round(e)}`;if(m){const e=e=>`${Math.round(e)}${m}`;v=e,b=e}return window.React.createElement(n,{className:"velocity-slider-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(Fe,{tag:"h3",style:{margin:"0"}},i),window.React.createElement(o,{type:"description"},c)),window.React.createElement(a,{onValueChange:e=>{"function"==typeof l&&l(e),g[r]=e,w(e)},value:y,disabled:s,minValue:d,maxValue:u,handleSize:p,initialValue:y,onMarkerRender:v,onValueRender:b,stickToMarkers:h}))},We=e=>{const{Components:t}=S.common,n=t.FormItem.default,o=t.FormText.default,a=t.TextInput.default,{name:i,note:c,setting:r,action:l,disabled:s,maxLength:d,type:u,placeholder:p,container:m="config"}=e,f=q(m),[h,g]=React.useState(f[r]);return window.React.createElement(n,{className:"velocity-textinput-setting velocity-setting"},window.React.createElement("div",{className:"velocity-setting-info"},window.React.createElement(Fe,{tag:"h3",style:{margin:"0"}},i),window.React.createElement(o,{type:"description"},c)),window.React.createElement(a,{value:h,onChange:e=>{"function"==typeof l&&l(e),f[r]=e,g(e)},disabled:s,maxLength:d,type:u,placeholder:p}))};function ze(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{WebpackModules:qe,AddonManager:Ze}=Ae;l("addon-card",{".velocity-addon-card":{display:"flex",flexDirection:"column",width:"100%",gap:"10px",padding:"15px",borderRadius:"5px",backgroundColor:"var(--background-secondary)",marginBottom:"10px"},".addon-card-header":{display:"flex",alignItems:"center",justifyContent:"space-between",color:"var(--text-normal)",cursor:"pointer"},".addon-card-header-left":{display:"flex",gap:"5px",alignItems:"flex-end"},".addon-card-header-title":{fontSize:"20px",fontWeight:"500",color:"var(--header-primary)"},".addon-card-header-subtitle":{fontSize:"14px",fontWeight:"400",color:"var(--header-secondary)"},".addon-card-lower":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",gap:"10px"},".addon-card-description":{fontSize:"14px",fontWeight:"400"},".addon-card-footer":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"5px"},".addon-card-footer > span > button":{width:"32px !important"},".addon-card-settings-header":{display:"flex",alignItems:"center",color:"var(--text-normal)",cursor:"pointer",marginBottom:"10px",gap:"5px"},".addon-card-settings-header svg:hover":{color:"var(--interactive-hover)"}});var Ye=e=>{const{Components:t,Icons:n}=qe.common,o=t.Switch.default,a=t.Markdown.default,i=t.PanelButton.default,{name:c,description:r,version:l,author:s,license:d,social:u,_type:p}=e,[m,f]=React.useState(Ze[p].isEnabled(c)),[h,g]=React.useState(!1);return window.React.createElement("div",{className:"velocity-addon-card"},window.React.createElement("div",{className:"addon-card-header",onClick:()=>{Ze[p].toggle(c),f(!m),g(!1)},onContextMenu:e=>{De(e,[{label:"Enable",type:"check",checked:m,onChange:e=>{Ze[p].toggle(c),f(e)}},{type:"separator"},{label:"Unlink",action:()=>{Ze[p].unlink(c)},icon:n.Trash.default,color:"Danger"}])}},window.React.createElement("div",{className:"addon-card-header-left"},window.React.createElement("div",{className:"addon-card-header-title"},c),window.React.createElement("div",{className:"addon-card-header-subtitle"},l," by ","string"==typeof s?s:s.name)),window.React.createElement("div",{className:"addon-card-header-right"},window.React.createElement(o,{checked:m}))),window.React.createElement("div",{className:"addon-card-lower"},window.React.createElement("div",{className:"addon-card-description"},window.React.createElement(a,null,r)),window.React.createElement("div",{className:"addon-card-footer"},ze([e,"access",e=>e.instance,"optionalAccess",e=>e.renderSettings])&&window.React.createElement(i,{disabled:!m,tooltipText:"Settings",innerClassName:"addon-card-panelbutton",icon:n.Gear.default,onClick:()=>{g(!h)}}),(ze([u,"optionalAccess",e=>e.invite])||ze([u,"optionalAccess",e=>e.github])||ze([u,"optionalAccess",e=>e.website])||ze([u,"optionalAccess",e=>e.donate]))&&window.React.createElement(i,{tooltipText:"Social",icon:n.Link.default,onClick:e=>{De(e,[u.invite&&{label:"Invite",action:()=>{window.open(new URL(u.invite,"https://discord.gg/").href)}},u.github&&{label:"GitHub",action:()=>{window.open(new URL(u.github).href)}},u.website&&{label:"Website",action:()=>{window.open(new URL(u.website).href)}},u.donate&&{label:"Donate",action:()=>{window.open(new URL(u.donate).href)}}])}}),window.React.createElement(i,{tooltipText:"Open Folder",innerClassName:"addon-card-panelbutton",icon:n.Folder.default,onClick:()=>{Ze[p].openFolder(c)}}),window.React.createElement(i,{tooltipText:"Unlink",innerClassName:"addon-card-panelbutton",icon:n.Trash.default,onClick:()=>{Ze[p].unlink(c)}}))),h&&m&&window.React.createElement("div",{className:"addon-card-settings"},window.React.createElement("div",{className:"addon-card-settings-header"},window.React.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",onClick:()=>{g(!1)}},window.React.createElement("path",{fill:"currentColor",d:"M18.4 4L12 10.4L5.6 4L4 5.6L10.4 12L4 18.4L5.6 20L12 13.6L18.4 20L20 18.4L13.6 12L20 5.6L18.4 4Z"})),window.React.createElement(Fe,{style:{marginBottom:"0"},tag:"h5"},"Settings")),ze([e,"access",e=>e.instance,"optionalAccess",e=>e.renderSettings])&&e.instance.renderSettings().map((t=>{if(!t)return null;try{const n=n=>{"function"==typeof t.action&&t.action(n),e.instance.settings[t.id]=n};switch(t.type){case"switch":return window.React.createElement(Ue,{container:c,setting:t.id,name:t.name,note:t.note,action:n});case"slider":return window.React.createElement(He,{container:c,setting:t.id,name:t.name,note:t.note,minValue:0|t.min,maxValue:100|t.max,units:""|t.units,handleSize:10|t.handleSize,action:n});case"text":return window.React.createElement(We,{container:c,setting:t.id,name:t.name,note:t.note,action:n});case"color":return window.React.createElement(Be,{container:c,defaultColor:t.default,setting:t.id,name:t.name,note:t.note,action:n})}}catch(e){L("Error rendering settings for "+c,{type:"error"})}}))))},Ge=e=>{const{title:t,children:n}=e;return[window.React.createElement(Fe,{tag:"h1"},t),n]},Je=e=>{const{type:t="right",width:n=24,height:o=24,style:a}=e;switch(t){case"down":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M10.59 2.59 6 7.17 1.41 2.59 0 4 6 10 12 4 10.59 2.59Z"}));case"up":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M1.41 9.41 6 4.83 10.59 9.41 12 8 6 2 0 8 1.41 9.41Z"}));case"left":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M9.41 1.41 4.83 6 9.41 10.59 8 12 2 6 8 0 9.41 1.41Z"}));case"right":return window.React.createElement("svg",{viewBox:"-2 -2 16 16",width:n,height:o,style:a},window.React.createElement("path",{fill:"currentColor",d:"M2.59 10.59 7.17 6 2.59 1.41 4 0 10 6 4 12 2.59 10.59Z"}))}};l("setting-section",{".velocity-setting-section":{display:"flex",color:"var(--header-secondary)",alignItems:"center",gap:"5px"},".velocity-setting-section svg":{transition:"all 0.2s ease"},".velocity-setting:not(.velocity-switch-setting)":{paddingBlock:"15px",borderBottom:"thin solid var(--background-modifier-accent)"},".velocity-switch-setting":{paddingTop:"15px"},".velocity-setting:not(.velocity-switch-setting):last-child":{borderBottom:"none",paddingBottom:"0"}});var Ke=e=>{const{title:t,children:n,collapsable:o=!0}=e,[a,i]=React.useState(!1);return[window.React.createElement("div",{className:"velocity-setting-section",onClick:()=>{i(!a)}},o&&window.React.createElement(Je,{type:"right",width:12,height:12,style:{transform:`rotate(${a?0:90}deg)`}}),window.React.createElement(Fe,{tag:"h5",style:{margin:"0"}},t)),a?null:n]};const Xe=q("config"),Qe=new d("Snippets"),et=VelocityCore.pseudoRequire("unsafe:sucrase"),tt=e=>{Xe.editorTabs.forEach((t=>{switch(function(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}([t,"optionalAccess",e=>e.language])){case"js":if("css"==e)return;try{const e=et.transform(t.content,{transforms:["jsx"]}).code;new Function("Velocity","VelocityCore",e)(Velocity,VelocityCore)}catch(e){L(`Error running snippet '${t.name}'`,{type:"error"}),Qe.error(`Error running snippet '${t.name}'.`,e)}break;case"css":if("js"==e)return;const n=document.createElement("style");n.setAttribute("id",`velocity-snippet-${t.name}-style`),n.innerHTML=t.content,o.appendChild(n)}}))};function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function ut(e){return function t(){for(var n=this,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(n,[].concat(a,o))}}}function pt(e){return{}.toString.call(e).includes("Object")}function mt(e){return"function"==typeof e}var ft=ut((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),ht={changes:function(e,t){return pt(t)||ft("changeType"),Object.keys(t).some((function(t){return n=e,o=t,!Object.prototype.hasOwnProperty.call(n,o);var n,o}))&&ft("changeField"),t},selector:function(e){mt(e)||ft("selectorType")},handler:function(e){mt(e)||pt(e)||ft("handlerType"),pt(e)&&Object.values(e).some((function(e){return!mt(e)}))&&ft("handlersType")},initial:function(e){var t;e||ft("initialIsRequired"),pt(e)||ft("initialType"),t=e,Object.keys(t).length||ft("initialContent")}};function gt(e,t){return mt(t)?t(e.current):t}function yt(e,t){return e.current=st(st({},e.current),t),t}function wt(e,t,n){return mt(t)?t(e.current):Object.keys(n).forEach((function(n){var o;return null===(o=t[n])||void 0===o?void 0:o.call(t,e.current[n])})),n}var vt={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ht.initial(e),ht.handler(t);var n={current:e},o=ut(wt)(n,t),a=ut(yt)(n),i=ut(ht.changes)(e),c=ut(gt)(n);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return ht.selector(e),e(n.current)}function l(e){dt(o,a,i,c)(e)}return[r,l]}};var bt,Ct={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},Rt=(bt=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=bt.length?bt.apply(this,o):function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.apply(t,[].concat(o,a))}})(Ct),xt={config:function(e){var t;return e||Rt("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||Rt("configType"),e.urls?(console.warn(Ct.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};function Et(e,t){return Object.keys(t).forEach((function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Et(e[n],t[n]))})),at(at({},e),t)}var St={type:"cancelation",msg:"operation is manually canceled"};function At(e){var t=!1,n=new Promise((function(n,o){e.then((function(e){return t?o(St):n(e)})),e.catch(o)}));return n.cancel=function(){return t=!0},n}var kt,jt,Mt=vt.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),Nt=(jt=2,function(e){if(Array.isArray(e))return e}(kt=Mt)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,i=void 0;try{for(var c,r=e[Symbol.iterator]();!(o=(c=r.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return n}}(kt,jt)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}(kt,jt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Tt=Nt[0],$t=Nt[1];function Lt(e){return document.body.appendChild(e)}function Pt(e){var t,n,o=Tt((function(e){return{config:e.config,reject:e.reject}})),a=(t="".concat(o.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return a.onload=function(){return e()},a.onerror=o.reject,a}function Ot(){var e=Tt((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Dt(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Dt(e){Tt().monaco||$t({monaco:e})}var It=new Promise((function(e,t){return $t({resolve:e,reject:t})})),_t={config:function(e){var t=xt.config(e),n=t.monaco,o=it(t,["monaco"]);$t((function(e){return{config:Et(e.config,o),monaco:n}}))},init:function(){var e=Tt((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if($t({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),At(It);if(window.monaco&&window.monaco.editor)return Dt(window.monaco),e.resolve(window.monaco),At(It);!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(Lt,Pt)(Ot)}return At(It)},__getMonacoInstance:function(){return Tt((function(e){return e.monaco}))}};function Vt(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const Ft=q("config"),Bt=VelocityCore.pseudoRequire("node:fs"),Ut=VelocityCore.pseudoRequire("node:path"),Ht=VelocityCore.baseDir,{WebpackModules:Wt}=Ae,zt=Bt.readFileSync(Ut.join(Ht,"index.d.ts"),"utf8");let qt;l("editor",{".velocity-editor-modal-body":{display:"flex",flexDirection:"column",alignItems:"flex-start"},".velocity-editor-modal-body > div":{width:"100%"},".velocity-editor":{backgroundColor:"var(--background-secondary)",borderRadius:"4px",width:"100%",height:"600px",display:"flex",overflow:"hidden",flexDirection:"column"},".editor-header":{display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",padding:"24px 10px"},".editor-header-buttons":{display:"flex",gap:"5px"},".editor-body":{width:"100%",height:"100%",display:"flex"},".editor-sidebar":{width:"200px",height:"100%",backgroundColor:"var(--background-secondary-alt)",display:"flex",flexDirection:"column",gap:"5px",padding:"10px",overflow:"auto"},".editor-sidebar-tab":{color:"var(--text-normal)",display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",borderRadius:"4px",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},".editor-sidebar-tab:hover":{backgroundColor:"var(--background-modifier-hover)"},".editor-sidebar-tab.active":{backgroundColor:"var(--background-modifier-active)"},"#editor-container":{height:"100%",width:"100%"}}),Ft.editorTabs||(Ft.editorTabs=[]);const Zt=new Y(...Ft.editorTabs);new Promise((e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})).then((()=>{_t.init().then((e=>{qt=e,window.monaco=qt,qt.languages.typescript.javascriptDefaults.addExtraLib(zt,"velocity.d.ts"),qt.editor.create(document.getElementById("editor-container"),{})}))}));var Yt=e=>{const{Components:t,Icons:n}=Wt.common,[a,i]=React.useState(0),[c,r]=React.useState(Zt);React.useEffect((()=>(window.editor=qt.editor.create(document.getElementById("editor-container"),{value:l?Vt([l,"optionalAccess",e=>e.content]):"/* No File Selected. */\n/* Select a file from the sidebar to edit it. */",language:l?"js"==Vt([l,"optionalAccess",e=>e.language])?"javascript":"css":"javascript",theme:"vs-dark",minimap:{enabled:!1}}),window.editor.onDidChangeModelContent((e=>{if(l){if(!1!==Vt([e,"access",e=>e.changes,"optionalAccess",e=>e[0],"optionalAccess",e=>e.forceMoveMarkers]))return;Zt.splice(a,1,{...Zt[a],content:window.editor.getValue()})}o.querySelectorAll("style[id^='velocity-snippet-'][id$='-style']").forEach((e=>e.remove())),tt("css")})),()=>{window.editor.dispose()}))),Zt.addListener((e=>{r(e),Ft.editorTabs=e}));let l=Ft.editorTabs[a];const s=t.Alert.default,d=t.TextInput.default,u=t.PanelButton.default,p=t.ModalActions;return window.React.createElement("div",{className:"velocity-editor"},window.React.createElement("div",{className:"editor-header"},window.React.createElement(Fe,{tag:"h5",style:{margin:"0"}},l?`${Vt([l,"optionalAccess",e=>e.name])}.${Vt([l,"optionalAccess",e=>e.language])}`:"None Selected"),window.React.createElement("div",{className:"editor-header-buttons"},"js"==Vt([l,"optionalAccess",e=>e.language])&&window.React.createElement(u,{tooltipText:"Run",icon:n.Play.default,onClick:()=>{tt("js")}}),window.React.createElement(u,{tooltipText:"New File",icon:n.Plus.default,onClick:()=>{let e="",t="js";p.openModal((n=>window.React.createElement(s,{...n,title:"New File",body:window.React.createElement("div",{className:"velocity-editor-modal-body"},window.React.createElement(Fe,{tag:"h5"},"Name"),window.React.createElement(d,{style:{marginBottom:"10px"},onChange:t=>{e=t},placeholder:"Name"}),window.React.createElement(Fe,{tag:"h5"},"Language"),window.React.createElement(d,{onChange:e=>{t=e},placeholder:"js/css"})),onConfirm:()=>{e&&["js","css"].includes(t)&&(Zt.push({name:e,language:t,content:""}),i(Zt.length-1),window.editor.setValue(Vt([l,"optionalAccess",e=>e.content])||""),qt.editor.setModelLanguage(window.editor.getModel(),"js"==Vt([l,"optionalAccess",e=>e.language])?"javascript":"css"),l=Ft.editorTabs[a])}})))}}),window.React.createElement(u,{tooltipText:"Options",icon:n.Gear.default,onClick:()=>{let e=l.name;p.openModal((t=>window.React.createElement(s,{...t,title:"Options",body:window.React.createElement("div",{className:"velocity-editor-modal-body"},window.React.createElement(Fe,{tag:"h5"},"Name"),window.React.createElement(d,{onChange:t=>{e=t},placeholder:"Name"})),onConfirm:()=>{e&&(Zt.splice(a,1,{name:e,language:Vt([l,"optionalAccess",e=>e.language]),content:Vt([l,"optionalAccess",e=>e.content])}),i(Zt.findIndex((t=>t.name==e))),window.editor.setValue(Vt([l,"optionalAccess",e=>e.content])||""),qt.editor.setModelLanguage(window.editor.getModel(),"js"==Vt([l,"optionalAccess",e=>e.language])?"javascript":"css"),l=Ft.editorTabs[a])}})))}}),window.React.createElement(u,{tooltipText:"Delete File",icon:n.Trash.default,onClick:()=>{Zt.activeFilter(((e,t)=>t!==a)),i(0)}}))),window.React.createElement("div",{className:"editor-body"},window.React.createElement("div",{className:"editor-sidebar"},c.map(((e,t)=>window.React.createElement("div",{key:t,className:"editor-sidebar-tab "+(t==a?"active":""),onClick:()=>{i(t),editor.setValue(e.content),qt.editor.setModelLanguage(window.editor.getModel(),"js"==Vt([l,"optionalAccess",e=>e.language])?"javascript":"css"),l=Ft.editorTabs[a]}},Vt([e,"optionalAccess",e=>e.name]),".",Vt([e,"optionalAccess",e=>e.language]))))),window.React.createElement("div",{id:"editor-container"})))};const{WebpackModules:Gt}=Ae;l("empty-state",{".velocity-empty-state-huge > div:first-child":{height:"186px"},".velocity-empty-state-tiny > div:first-child":{height:"60px"}});var Jt=e=>{const{Components:t}=Gt.common,n=t.EmptyState.default,{artURL:o="",header:a="",description:i="",size:c="huge",CTAAction:r,CTALabel:l}=e;return window.React.createElement(n,{className:`velocity-empty-state-${c}`,size:c,artURL:o,header:a,description:i,onCTAClick:r,callToAction:l})},Kt="velocity:handle-kill";const Xt=q("config"),Qt=(e,t)=>{c.style.setProperty(e,t)},en=(e,t)=>{let n=[];switch(typeof t){case"string":e.map((e=>{e.name&&e.description&&e.author&&(e.name.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())||e.author.name.toLowerCase().includes(t.toLowerCase()))&&n.push(e)}));break;case"object":e.map((e=>{e.name&&e.description&&e.author&&(e.name.toLowerCase().includes(t.target.value.toLowerCase())||e.description.toLowerCase().includes(t.target.value.toLowerCase())||e.author.name.toLowerCase().includes(t.target.value.toLowerCase()))&&n.push(e)}))}return n};function tn(e){let t,n=e[0],o=1;for(;o<e.length;){const a=e[o],i=e[o+1];if(o+=2,("optionalAccess"===a||"optionalCall"===a)&&null==n)return;"access"===a||"optionalAccess"===a?(t=n,n=i(n)):"call"!==a&&"optionalCall"!==a||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const{ipcRenderer:nn}=VelocityCore.pseudoRequire("unsafe:electron");new d("Settings");const on=q("config");var an={get websockets(){return DiscordNative.nativeModules.requireModule("discord_rpc").RPCWebSocket.ws},init(){this.socket=new this.websockets.Server({port:1842}),this.socket.on("connection",(e=>{const t=T({title:"New Socket Connection",content:"A new socket connection has been established.",buttons:[{label:"Okay",action:()=>{t()}},{label:"Disconnect",color:"RED",action:()=>{e.close(),t()}}]});e.on("message",(t=>{switch(t){case"velocity:get-client-data":e.send("velocity:data"+JSON.stringify({platform:DiscordNative.process.platform,version:DiscordNative.app.getVersion(),channel:DiscordNative.app.getReleaseChannel()}));break;case"velocity:reload":location.reload();break;case"velocity:relaunch":DiscordNative.app.relaunch()}if(t.startsWith("velocity:install-addon")){DiscordNative.window.focus();const e=t.split("|")[1],n=t.split("|")[2];e&&P({title:`Install ${n||"Addon"}?`,content:"Are you sure you want to install this addon? Addons can be dangerous and can break your Discord client.",confirmText:"Install",danger:!0,onConfirm:()=>{be(e)}})}}))}))}};const cn=q("config"),rn=new d("Renderer");(async()=>{const e=Date.now();rn.log("Initialising..."),await S.globalPromise,window.Velocity=Ae,Object.freeze(window.Velocity),rn.log(`API Added in ${Date.now()-e}ms`),window.DiscordSentry&&cn.KillSentry&&(window.DiscordSentry.getCurrentHub().getClient().close(),rn.log("Killed Sentry")),cn.StopWarnings&&(DiscordNative.window.setDevtoolsCallbacks(null,null),rn.log("Disabled Devtools Warnings")),an.init(),rn.log("Socket Initialised"),(()=>{const e=G.hexToHSL(G.intToHex(Xt.NotificationBackground||1644828));c.style.setProperty("--velocity-notification-background",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, var(--velocity-notification-transparency,  100%))`),c.style.setProperty("--velocity-notification-transparency",Xt.NotificationTransparency?`${Xt.NotificationTransparency}%`:"100%"),c.style.setProperty("--velocity-notification-blur",Xt.NotificationBlur?`${Xt.NotificationBlur}px`:"0px")})(),rn.log("Variables Added"),(async()=>{const{WebpackModules:e}=Ae,t=new Ae.Patcher("VelocityInternal_Settings"),n=await e.waitFor((e=>tn([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.getPredicateSections]))),o=(await e.waitFor((e=>tn([e,"access",e=>e.default,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.render,"optionalAccess",e=>e.toString,"call",e=>e(),"access",e=>e.includes,"call",e=>e("this.tabBar")])))).default;t.after(n.default.prototype,"getPredicateSections",((t,n)=>{let o=n.findIndex((e=>"discord nitro"==e.section.toLowerCase()))-2;if(o<0)return;const a=e=>{n.splice(o,0,e),o++},{Components:i}=e.common,c=i.ModalElements.ModalRoot,r=i.FormDivider.default,l=i.ButtonModules,s=i.FormItem.default,d=i.FormText.default,u=i.ModalActions;a({section:"DIVIDER"}),a({section:"HEADER",label:"Velocity"}),a({section:"settings",label:"Settings",className:"velocity-settings-tab",element:()=>[window.React.createElement(Ge,{title:"Settings"},window.React.createElement(Ke,{title:"General"},window.React.createElement(Ue,{name:"Stop DevTools Warnings",note:"Stops Discord from showing warnings when you open devtools.",setting:"StopWarnings"}),window.React.createElement(Ue,{name:"Kill Sentry",note:"Kills Sentry, a tool used by Discord to track your client.",setting:"KillSentry"}),window.React.createElement(Ue,{name:"Developer Mode",note:"Adds a settings tab with utilities for development.",setting:"DeveloperTab"})),window.React.createElement(Ke,{title:"Window"},window.React.createElement(Ue,{name:"Transparency",note:"Makes the window transparent.",setting:"Transparency"}),window.React.createElement(Ue,{name:"MacOS Vibrancy",note:"Makes the window have a vibrancy effect on MacOS.",setting:"Vibrancy"})),window.React.createElement(Ke,{title:"Notifications"},window.React.createElement(Te,null,window.React.createElement(l.default,{onClick:()=>{const e=T({title:"Notification",content:"This is a test notification",buttons:[{label:"Button",action:()=>{L("Toast")}},{label:"Dangerous Button",color:"RED",action:()=>{e()}}]})},style:{marginBlock:"10px"}},"Open Preview Notification")),window.React.createElement(Be,{defaultColor:Number(G.getVariable("background-floating","hex").replace("#","0x"))||1579292,name:"Background Color",note:"The background color of notifications",setting:"NotificationBackground",action:e=>{const t=G.hexToHSL(G.intToHex(e));Qt("--velocity-notification-background",`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, var(--velocity-notification-transparency,  100%))`)}}),window.React.createElement(He,{name:"Background Opacity",note:"The opacity of the notification background",setting:"NotificationTransparency",action:e=>{Qt("--velocity-notification-transparency",`${e}%`)},units:"%"}),window.React.createElement(He,{name:"Background Blur",note:"The blur of the notification background",setting:"NotificationBlur",action:e=>{Qt("--velocity-notification-blur",`${Math.round(e)}px`)},maxValue:20,units:"px"})))]}),a({section:"plugins",label:"Plugins",className:"velocity-plugins-tab",element:()=>{const[e,t]=React.useState(re.plugins),[n,o]=React.useState(""),[a,i]=React.useState(!1);return React.useEffect((()=>{const e=e=>{t(e),i(!a)};return re.plugins.addListener(e),()=>{re.plugins._removeListener(e)}})),[window.React.createElement(Ge,{title:"Plugins"},window.React.createElement(Ve,{type:"plugins",onSearch:o}),en(e,n).length?en(e,n).map((e=>window.React.createElement(Ye,{...e}))):window.React.createElement(Jt,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any plugins",description:"Make sure they're installed and your search is correct"}))]}}),a({section:"themes",label:"Themes",className:"velocity-themes-tab",element:()=>{const[e,t]=React.useState(re.themes),[n,o]=React.useState(""),[a,i]=React.useState(!1);return React.useEffect((()=>{const e=e=>{t(e),i(!a)};return re.themes.addListener(e),()=>{re.themes._removeListener(e)}})),[window.React.createElement(Ge,{title:"Themes"},window.React.createElement(Ve,{type:"themes",onSearch:o}),en(e,n).length?en(e,n).map((e=>window.React.createElement(Ye,{...e}))):window.React.createElement(Jt,{artURL:"/assets/b669713872b43ca42333264abf9c858e.svg",header:"Couldn't find any themes",description:"Make sure they're installed and your search is correct"}))]}}),a({section:"snippets",label:"Snippets",className:"velocity-snippets-tab",element:()=>window.React.createElement(Ge,{title:"Snippets"},window.React.createElement(Yt,null))}),on.DeveloperTab&&a({section:"developer",label:"Developer",className:"velocity-developer-tab",element:()=>{const[e,t]=React.useState(""),[n,o]=React.useState("");return window.React.createElement(Ge,{title:"Developer"},window.React.createElement(s,null,window.React.createElement(Ke,{title:"Developer Tools",collapsable:!1},window.React.createElement(d,{style:{marginBlock:"8px 20px"}},"A collection of utilities for you to use in development."),window.React.createElement(r,{style:{marginBottom:"20px"}}),window.React.createElement(Te,null,window.React.createElement(l.default,{color:l.ButtonColors.RED,onClick:()=>{nn.invoke(Kt)}},"Kill Process"),window.React.createElement(l.default,{onClick:()=>{u.openModal(window.React.createElement(c,{children:{}}))}},"React Crash")),window.React.createElement(r,{style:{marginBlock:"20px"}})),window.React.createElement(Ke,{title:"Velocity Components"},window.React.createElement($e,null,window.React.createElement(k,{title:"Notification Title",color:n,buttons:[{label:"Change Color",action:()=>{""===n?o("error"):"error"===n?o("success"):"success"===n?o("warning"):"warning"===n?o("velocity"):"velocity"===n&&o("")}},{label:"Change Toast Color",action:()=>{""===e?t("error"):"error"===e?t("success"):"success"===e?t("warning"):"warning"===e?t("velocity"):"velocity"===e&&t("")}}],id:"velocity-notification-9999"},"Notification Content")),window.React.createElement($e,null,window.React.createElement(j,{color:e},"Toast Content")))))}})})),t.after(o.prototype,"render",((t,n)=>{const o=n.props.children;if(!o||!o.length||o.length<3)return;if(!o[o.length-3].type.toString().includes("separator"))return;if(!o[o.length-2].type.toString().includes("socialLinks"))return;const a=e.find(["versionHash"]),i=e.common.Components.Text.default,c=o[o.length-1].type;o[o.length-1].type=function(){const e=c(...arguments);return e.props.children.splice(1,0,window.React.createElement("span",{className:`${i.Colors.MUTED} ${i.Sizes.SIZE_12} ${a.line}`},"Velocity ",VelocityCore.Meta.version,window.React.createElement("span",{className:a.versionHash}," (",VelocityCore.Meta.hash,")"))),e}}))})(),rn.log("Settings Added"),await p((()=>S.common.React)),rn.log("React Loaded"),S.remapDefaults(),pe(),fe(),rn.log("Plugins & Themes Initialised"),tt(),rn.log("Snippets Run"),S.remapDefaults(),(async()=>{Me.log("Checking for updates...");const e=await VelocityCore.request("https://api.github.com/repos/Velocity-Discord/Velocity/releases/latest");let t;try{t=JSON.parse(e)}catch(e){return Ne.showNotification({title:"Update Failed",content:"Velocity failed to check for updates. Please try again later.",type:"error"})}if(!t.tag_name)return Ne.showNotification({title:"Update Failed",content:"Velocity failed to check for updates. Please try again later.",type:"error"});t.tag_name!==VelocityCore.Meta.version&&Ne.showConfirmationModal({title:"Update Available",content:"A new version of Velocity is available. Would you like to download it now?",confirmText:"Download",onConfirm:()=>{VelocityCore.request(t.assets[0].browser_download_url,((e,t,n)=>{e?Ne.showNotification({title:"Update Failed",content:"Velocity failed to download the update. Please try again later.",type:"error"}):(ke.writeFileSync(je.join(VelocityCore.baseDir,"dist/velocity.asar"),n),Ne.showNotification({title:"Update Downloaded",content:"Velocity has been updated. Please relaunch Velocity to apply the update.",type:"success",buttons:[{label:"Relaunch",onClick:()=>{DiscordNative.app.relaunch()}}]}))}))}})})()})();
